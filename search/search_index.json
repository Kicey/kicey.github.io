{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"akka/akka-base/","title":"Akka base","text":"<p>AKKA Base</p> <ul> <li>For a message actor received, there won't be a according return value. The return value after every message processed is the next behavior used to process the next message. Like a state machine.</li> </ul>"},{"location":"blog/","title":"Hi, Blogs here!","text":""},{"location":"blog/2025/06/04/fix-the-electron-fiddle-issue-about-user-namespace-privileges-on-ubuntu-2404/","title":"Fix the Electron Fiddle issue about user namespace privileges on ubuntu 24.04","text":"<p>If you install Electron Fiddle on Ubuntu 24.04. Then want to run a Fiddle, you will get errors like  <pre><code>The SUID sandbox helper binary was found, but is not configured correctly. Rather than run without sandboxing I'm aborting now. You need to make sure that /home/aadcg/.config/Electron Fiddle/electron-bin/current/chrome-sandbox is owned by root and has mode 4755.\n</code></pre> or </p> <pre><code>LaunchProcess: failed to execvp:\n/home/kicey/.config/Electron\n[62772:0524/190051.235193:FATAL:zygote_host_impl_linux.cc(211)] Check failed: . : Invalid argument (22) \n</code></pre> <p>This is because Ubuntu has changed the Ubuntu 24.04 kernel so that programs like electron are not allowed to create a new user namespace unless they are given an AppArmor profile that contains the userns permission.</p> <p>To fix this, you need to grant the privilege to the executable by create an apparmor profile. Execute the following commands (maybe <code>sudo</code> needed):</p> <pre><code>echo 'abi &lt;abi/4.0&gt;,\ninclude &lt;tunables/global&gt;\nprofile fiddle-electron /home/'$USER'/.config/Electron\\ Fiddle/electron-bin/current/electron flags=(unconfined) {\n    userns,\n}' &gt; /etc/apparmor.d/fiddle-electron\n</code></pre> <pre><code>apparmor_parser -r /etc/apparmor.d/fiddle-electron\n</code></pre> <pre><code>systemctl reload apparmor\n</code></pre> <p>For mote information, you can refer to the electron/fiddle SIGTRAP error on Ubuntu #1598</p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/","title":"Installing NVIDIA Driver CUDA Toolkit on Ubuntu for Newer GPUs (e.g. 5060 Ti)","text":"<p>Hello everyone! If you've recently upgraded to a newer NVIDIA GPU, like the powerful 5060 Ti, and are running Ubuntu 24.04 or later, you might have run into issues installing the latest drivers and CUDA Toolkit directly from the standard Ubuntu repositories. This is often because newer hardware requires more up-to-date drivers than what's typically available in the default package sources.</p> <p>This blog post will guide you through the process of installing the NVIDIA driver (specifically version 575 or newer) and CUDA Toolkit (version 12.8 or newer) by utilizing the official NVIDIA-maintained repositories. This method ensures you get the latest compatible software and allows for easier future updates.</p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#1-prerequisites-and-system-preparation","title":"1. Prerequisites and System Preparation","text":"<p>Before we begin, ensure your system is up to date and you have the necessary tools.</p> <ul> <li>Operating System: Ubuntu 24.04 LTS (or newer)</li> <li>GPU: NVIDIA 5060 Ti (or similar recently released NVIDIA GPU requiring newer drivers)</li> <li>Internet Connection: Required for downloading packages.</li> </ul> <p>It's highly recommended to back up your system before proceeding with major driver installations.</p> <p>First, update your package lists and upgrade any existing packages:</p> <pre><code>sudo apt update\nsudo apt upgrade -y\n</code></pre> <p>You might also want to ensure you have the necessary kernel headers and necessary packages for build is  installed, as they are crucial for driver compilation:</p> <pre><code>sudo apt update\nsudo apt install gcc\nsudo apt install make\nsudo apt install linux-headers-$(uname -r) -y\n</code></pre>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#2-adding-the-official-nvidia-repository","title":"2. Adding the Official NVIDIA Repository","text":"<p>The key to installing newer drivers is to add the official NVIDIA repository to your system's APT sources. This repository provides the latest drivers and CUDA Toolkit versions directly from NVIDIA.</p> <p>Just follow this nvidia official link CUDA Toolkit for ubuntu <code>https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=Ubuntu&amp;target_version=24.04&amp;target_type=deb_network</code></p> <p>After adding the repository, update your package list again to fetch the new package information:</p> <pre><code>wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2404/x86_64/cuda-keyring_1.1-1_all.deb\nsudo dpkg -i cuda-keyring_1.1-1_all.deb\nsudo apt-get update\n</code></pre>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#3-installing-the-nvidia-driver-and-cuda-toolkit","title":"3. Installing the NVIDIA Driver and cuda toolkit","text":"<p>Now that the NVIDIA repository is configured, you can install the recommended driver. For your 655060 Ti, a driver version of at least 575 is required.</p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#installing-the-cuda-toolkit","title":"Installing the cuda-toolkit","text":"<pre><code>sudo apt-get update\nsudo apt-get -y install cuda-toolkit-12-9\n</code></pre> <p>May you don't want so recent version of cuda-toolkit. The least cuda-tookit version supporting 50 series gpu is 12.8.</p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#installing-the-driver","title":"Installing the driver","text":"<pre><code>sudo apt-get update\nsudo apt-get install -y nvidia-open\n</code></pre> <p>The <code>cuda-drivers</code> is also OK. But the the open source one <code>nvidia-open</code> is recommended.</p> <p>During the installation, you may noticed here is something like <pre><code>Building initial module nvidia/575.57.08 for 6.8.0-62-generic\nSign command: /usr/bin/kmodsign\nSigning key: /var/lib/shim-signed/mok/MOK.priv\nPublic certificate (MOK): /var/lib/shim-signed/mok/MOK.der\n</code></pre></p> <p>If you enable secure boot, you should enroll the public certificate. If secure boot is disabled on your host, you can ignore the output while installation and skip the 4th section.</p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#4-addressing-secure-boot-and-mok-management","title":"4. Addressing Secure Boot and MOK Management","text":"<p>If Secure Boot is enabled on your system, the NVIDIA kernel modules, which are signed with NVIDIA's public key, will not be loaded automatically by default. You will need to enroll this public key into your system's Machine Owner Key (MOK) list.</p> <ol> <li>Use command to import the nvidia public certificate    <pre><code>sudo mokutil --import /var/lib/shim-signed/mok/MOK.der\n</code></pre></li> </ol> <p>You will be prompted to enter password 2 or 3 times. Decided by if you are prompted to enter the password for <code>sudo</code> at first. The last two password is for secure-boot and the ensurement the password(prompted to enter the same password again).</p> <ol> <li> <p>MOK Management Screen: Upon rebooting, your system will likely boot into a \"MOK management\" or \"Secure Boot Key Management\" screen (this is part of your UEFI/BIOS, not Ubuntu itself).</p> </li> <li> <p>Enroll MOK: Navigate through the options to \"Enroll MOK\", then \"continue\". You will then be prompted to enter the password you set just now. This step officially registers NVIDIA's public key with your Secure Boot system.</p> </li> <li> <p>Continue Boot: After successfully enrolling the key, choose to continue booting your system.</p> </li> </ol>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#5-add-the-cuda-toolkit-binary-to-path","title":"5. Add the CUDA Toolkit Binary to Path","text":"<p>We've install the cuda toolkit in the 3rd step. But the some executable binaries are not in the path. So, you can only access them by the absolute path.</p> <p>After installation, it's good practice to add CUDA to your system's <code>PATH</code> and <code>LD_LIBRARY_PATH</code>. You can do this by adding the following lines to your <code>~/.bashrc</code> (or <code>~/.zshrc</code> if you use Zsh) and then sourcing the file:</p> <pre><code>echo 'export PATH=/usr/local/cuda-12/bin$:$PATH' &gt;&gt; ~/.bashrc \necho 'export LD_LIBRARY_PATH=/usr/local/cuda-12/lib64:$LD_LIBRARY_PATH' &gt;&gt; ~/.bashrc source ~/.bashrc\n</code></pre> <p>Verify your installation by checking <code>nvcc --version</code>:</p> <p>You should see something like: <pre><code>nvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2025 NVIDIA Corporation\nBuilt on Tue_May_27_02:21:03_PDT_2025\nCuda compilation tools, release 12.9, V12.9.86\nBuild cuda_12.9.r12.9/compiler.36037853_0\n</code></pre></p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#6-setting-up-docker-with-gpu-support-nvidia-container-toolkit","title":"6. Setting Up Docker with GPU Support (NVIDIA Container Toolkit)","text":"<p>For developers using Docker, you'll want to enable your containers to access the GPU. This requires the NVIDIA Container Toolkit. Fortunately, since you've already added the NVIDIA repository, installing it is straightforward.</p> <ol> <li> <p>Install the NVIDIA Container Toolkit:     <pre><code>sudo apt install nvidia-container-toolkit\n</code></pre></p> </li> <li> <p>Configure Docker to Use NVIDIA Runtime: You need to tell Docker to use <code>nvidia</code> as its default runtime for GPU-enabled containers. And restart docker to make it work. This involves modifying Docker's daemon configuration.    <pre><code>sudo nvidia-ctk runtime configure --runtime=docker\nsudo systemctl restart docker\n</code></pre></p> </li> </ol> <p>You will say something like this in your <code>/etc/docker/daemon.json</code></p> <pre><code>{    \n \"runtimes\": {\n        \"nvidia\": {\n            \"args\": [],\n            \"path\": \"nvidia-container-runtime\"\n        }\n    }\n}\n</code></pre> <ol> <li>Test Your Docker GPU Setup: You can test your setup by running a simple CUDA-enabled Docker image:    <pre><code>sudo docker run --rm --gpus all nvidia/cuda:12.8.0-base-ubuntu24.04 nvidia-smi\n</code></pre></li> </ol> <p>You should see the output of <code>nvidia-smi</code> from inside the Docker container, indicating successful GPU access.</p> <p></p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#7-conclusion","title":"7. Conclusion","text":"<p>By following these steps, you should have successfully installed the latest NVIDIA driver and CUDA Toolkit on your Ubuntu system, enabling your newer GPU for development and computation. You've also set up Docker to seamlessly leverage your GPU within containers.</p>"},{"location":"blog/2025/06/29/installing-nvidia-driver-cuda-toolkit-on-ubuntu-for-newer-gpus-eg-5060-ti/#references","title":"References","text":"<ul> <li>https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=Ubuntu&amp;target_version=24.04&amp;target_type=deb_network</li> <li>https://forums.developer.nvidia.com/t/we-would-like-to-know-when-the-nvidia-drivers-for-5060ti-on-ubuntu-will-be-released/331207</li> <li>https://forums.developer.nvidia.com/t/nvidia-drivers-not-working-while-secure-boot-is-enabled-after-updating-to-ubuntu-24-04/305351/6?u=kiceyscream</li> <li>https://forums.developer.nvidia.com/t/could-not-select-device-driver-with-capabilities-gpu/80200</li> <li>https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html</li> </ul>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/","title":"\u5728 Ubuntu \u4e0a\u4e3a\u65b0\u4e00\u4ee3\u663e\u5361\uff08\u5982 5060 Ti\uff09\u5b89\u88c5 NVIDIA \u9a71\u52a8\u548c CUDA Toolkit","text":"<p>\u5927\u5bb6\u597d\uff01\u5982\u679c\u4f60\u6700\u8fd1\u5347\u7ea7\u5230\u4e86\u65b0\u4e00\u4ee3 NVIDIA \u663e\u5361\uff08\u5982\u5f3a\u5927\u7684 5060 Ti\uff09\uff0c\u5e76\u4e14\u6b63\u5728\u8fd0\u884c Ubuntu 24.04 \u6216\u66f4\u9ad8\u7248\u672c\uff0c\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u76f4\u63a5\u4ece\u6807\u51c6 Ubuntu \u8f6f\u4ef6\u6e90\u5b89\u88c5\u6700\u65b0\u9a71\u52a8\u548c CUDA Toolkit \u65f6\u9047\u5230\u95ee\u9898\u3002\u8fd9\u901a\u5e38\u662f\u56e0\u4e3a\u65b0\u786c\u4ef6\u9700\u8981\u6bd4\u9ed8\u8ba4\u8f6f\u4ef6\u6e90\u4e2d\u66f4\u4e3a\u65b0\u9896\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002</p> <p>\u672c\u6587\u5c06\u6307\u5bfc\u4f60\u5982\u4f55\u901a\u8fc7\u6dfb\u52a0 NVIDIA \u5b98\u65b9\u7ef4\u62a4\u7684\u8f6f\u4ef6\u6e90\uff0c\u5b89\u88c5 NVIDIA \u9a71\u52a8\uff08\u5efa\u8bae 575 \u53ca\u4ee5\u4e0a\u7248\u672c\uff09\u548c CUDA Toolkit\uff08\u5efa\u8bae 12.8 \u53ca\u4ee5\u4e0a\u7248\u672c\uff09\u3002\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u786e\u4fdd\u4f60\u83b7\u5f97\u6700\u65b0\u517c\u5bb9\u7684\u8f6f\u4ef6\uff0c\u5e76\u4fbf\u4e8e\u540e\u7eed\u5347\u7ea7\u3002</p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#1","title":"1. \u524d\u7f6e\u6761\u4ef6\u4e0e\u7cfb\u7edf\u51c6\u5907","text":"<p>\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u4f60\u7684\u7cfb\u7edf\u5df2\u66f4\u65b0\uff0c\u5e76\u5177\u5907\u5fc5\u8981\u7684\u5de5\u5177\u3002</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf\uff1aUbuntu 24.04 LTS\uff08\u6216\u66f4\u9ad8\uff09</li> <li>\u663e\u5361\uff1aNVIDIA 5060 Ti\uff08\u6216\u7c7b\u4f3c\u65b0\u53d1\u5e03\u7684 NVIDIA \u663e\u5361\uff09</li> <li>\u7f51\u7edc\u8fde\u63a5\uff1a\u9700\u8981\u8054\u7f51\u4e0b\u8f7d\u8f6f\u4ef6\u5305</li> </ul> <p>\u5f3a\u70c8\u5efa\u8bae\u5728\u8fdb\u884c\u91cd\u5927\u9a71\u52a8\u5b89\u88c5\u524d\u5907\u4efd\u7cfb\u7edf\u3002</p> <p>\u9996\u5148\uff0c\u66f4\u65b0\u4f60\u7684\u8f6f\u4ef6\u5305\u5217\u8868\u5e76\u5347\u7ea7\u73b0\u6709\u8f6f\u4ef6\u5305\uff1a</p> <pre><code>sudo apt update\nsudo apt upgrade -y\n</code></pre> <p>\u4f60\u8fd8\u9700\u8981\u786e\u4fdd\u5df2\u5b89\u88c5\u5185\u6838\u5934\u6587\u4ef6\u548c\u5fc5\u8981\u7684\u6784\u5efa\u5de5\u5177\uff0c\u8fd9\u5bf9\u4e8e\u9a71\u52a8\u7f16\u8bd1\u81f3\u5173\u91cd\u8981\uff1a</p> <pre><code>sudo apt update\nsudo apt install gcc\nsudo apt install make\nsudo apt install linux-headers-$(uname -r) -y\n</code></pre>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#2-nvidia","title":"2. \u6dfb\u52a0 NVIDIA \u5b98\u65b9\u8f6f\u4ef6\u6e90","text":"<p>\u5b89\u88c5\u65b0\u9a71\u52a8\u7684\u5173\u952e\u5728\u4e8e\u5c06 NVIDIA \u5b98\u65b9\u8f6f\u4ef6\u6e90\u6dfb\u52a0\u5230\u7cfb\u7edf\u7684 APT \u6e90\u4e2d\u3002\u8be5\u6e90\u63d0\u4f9b\u4e86\u6700\u65b0\u7684\u9a71\u52a8\u548c CUDA Toolkit\u3002</p> <p>\u8bf7\u53c2\u8003 NVIDIA \u5b98\u65b9\u94fe\u63a5 CUDA Toolkit for ubuntu <code>https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=Ubuntu&amp;target_version=24.04&amp;target_type=deb_network</code></p> <p>\u6dfb\u52a0\u8f6f\u4ef6\u6e90\u540e\uff0c\u518d\u6b21\u66f4\u65b0\u8f6f\u4ef6\u5305\u5217\u8868\u4ee5\u83b7\u53d6\u65b0\u4fe1\u606f\uff1a</p> <pre><code>wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2404/x86_64/cuda-keyring_1.1-1_all.deb\nsudo dpkg -i cuda-keyring_1.1-1_all.deb\nsudo apt-get update\n</code></pre>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#3-nvidia-cuda-toolkit","title":"3. \u5b89\u88c5 NVIDIA \u9a71\u52a8\u548c CUDA Toolkit","text":"<p>\u73b0\u5728\u5df2\u7ecf\u914d\u7f6e\u597d NVIDIA \u8f6f\u4ef6\u6e90\uff0c\u53ef\u4ee5\u5b89\u88c5\u63a8\u8350\u7684\u9a71\u52a8\u4e86\u3002\u5bf9\u4e8e 5060 Ti\uff0c\u5efa\u8bae\u9a71\u52a8\u7248\u672c\u81f3\u5c11\u4e3a 575\u3002</p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#cuda-toolkit","title":"\u5b89\u88c5 CUDA Toolkit","text":"<pre><code>sudo apt-get update\nsudo apt-get -y install cuda-toolkit-12-9\n</code></pre> <p>\u5982\u679c\u4f60\u4e0d\u9700\u8981\u8fd9\u4e48\u65b0\u7684 CUDA Toolkit\uff0c\u652f\u6301 50 \u7cfb\u5217\u663e\u5361\u7684\u6700\u4f4e\u7248\u672c\u662f 12.8\u3002</p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#_1","title":"\u5b89\u88c5\u9a71\u52a8","text":"<pre><code>sudo apt-get update\nsudo apt-get install -y nvidia-open\n</code></pre> <p><code>cuda-drivers</code> \u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u63a8\u8350\u4f7f\u7528\u5f00\u6e90\u7684 <code>nvidia-open</code>\u3002</p> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u4f60\u53ef\u80fd\u4f1a\u770b\u5230\u5982\u4e0b\u4fe1\u606f\uff1a <pre><code>Building initial module nvidia/575.57.08 for 6.8.0-62-generic\nSign command: /usr/bin/kmodsign\nSigning key: /var/lib/shim-signed/mok/MOK.priv\nPublic certificate (MOK): /var/lib/shim-signed/mok/MOK.der\n</code></pre></p> <p>\u5982\u679c\u4f60\u542f\u7528\u4e86\u5b89\u5168\u542f\u52a8\uff08Secure Boot\uff09\uff0c\u9700\u8981\u6ce8\u518c\u516c\u94a5\u3002\u5982\u679c\u4e3b\u673a\u672a\u542f\u7528\u5b89\u5168\u542f\u52a8\uff0c\u53ef\u4ee5\u5ffd\u7565\u6b64\u8f93\u51fa\u5e76\u8df3\u8fc7\u7b2c 4 \u8282\u3002</p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#4-mok","title":"4. \u5904\u7406\u5b89\u5168\u542f\u52a8\u4e0e MOK \u7ba1\u7406","text":"<p>\u5982\u679c\u7cfb\u7edf\u542f\u7528\u4e86 Secure Boot\uff0cNVIDIA \u5185\u6838\u6a21\u5757\u9ed8\u8ba4\u4e0d\u4f1a\u88ab\u81ea\u52a8\u52a0\u8f7d\u3002\u4f60\u9700\u8981\u5c06 NVIDIA \u7684\u516c\u94a5\u6ce8\u518c\u5230\u7cfb\u7edf\u7684 MOK\uff08Machine Owner Key\uff09\u5217\u8868\u3002</p> <ol> <li>\u4f7f\u7528\u547d\u4ee4\u5bfc\u5165 NVIDIA \u516c\u94a5\uff1a    <pre><code>sudo mokutil --import /var/lib/shim-signed/mok/MOK.der\n</code></pre></li> </ol> <p>\u4f60\u4f1a\u88ab\u8981\u6c42\u8f93\u5165\u5bc6\u7801 2~3 \u6b21\uff0c\u6700\u540e\u4e24\u6b21\u662f\u4e3a Secure Boot \u8bbe\u7f6e\u548c\u786e\u8ba4\u5bc6\u7801\u3002</p> <ol> <li> <p>\u91cd\u542f\u540e\uff0c\u7cfb\u7edf\u4f1a\u8fdb\u5165 \"MOK \u7ba1\u7406\" \u6216 \"\u5b89\u5168\u542f\u52a8\u5bc6\u94a5\u7ba1\u7406\" \u754c\u9762\uff08\u5c5e\u4e8e UEFI/BIOS\uff09\u3002</p> </li> <li> <p>\u9009\u62e9 \"Enroll MOK\"\uff0c\u7136\u540e \"continue\"\uff0c\u8f93\u5165\u521a\u624d\u8bbe\u7f6e\u7684\u5bc6\u7801\uff0c\u5b8c\u6210\u516c\u94a5\u6ce8\u518c\u3002</p> </li> <li> <p>\u6ce8\u518c\u5b8c\u6210\u540e\uff0c\u9009\u62e9\u7ee7\u7eed\u542f\u52a8\u7cfb\u7edf\u3002</p> </li> </ol>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#5-cuda-toolkit-path","title":"5. \u6dfb\u52a0 CUDA Toolkit \u53ef\u6267\u884c\u6587\u4ef6\u5230 PATH","text":"<p>\u6211\u4eec\u5728\u7b2c 3 \u6b65\u5df2\u7ecf\u5b89\u88c5\u4e86 CUDA Toolkit\uff0c\u4f46\u6709\u4e9b\u53ef\u6267\u884c\u6587\u4ef6\u9ed8\u8ba4\u4e0d\u5728 PATH \u4e2d\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u3002</p> <p>\u5b89\u88c5\u540e\uff0c\u5efa\u8bae\u5c06 CUDA \u8def\u5f84\u52a0\u5165\u7cfb\u7edf\u7684 <code>PATH</code> \u548c <code>LD_LIBRARY_PATH</code>\u3002\u53ef\u4ee5\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230 <code>~/.bashrc</code>\uff08\u6216 Zsh \u7528\u6237\u7684 <code>~/.zshrc</code>\uff09\uff0c\u7136\u540e\u6267\u884c source\uff1a</p> <pre><code>echo 'export PATH=/usr/local/cuda-12/bin:$PATH' &gt;&gt; ~/.bashrc \necho 'export LD_LIBRARY_PATH=/usr/local/cuda-12/lib64:$LD_LIBRARY_PATH' &gt;&gt; ~/.bashrc \nsource ~/.bashrc\n</code></pre> <p>\u901a\u8fc7 <code>nvcc --version</code> \u9a8c\u8bc1\u5b89\u88c5\uff1a</p> <p>\u4f60\u5e94\u8be5\u80fd\u770b\u5230\u7c7b\u4f3c\u5982\u4e0b\u8f93\u51fa\uff1a <pre><code>nvcc: NVIDIA (R) Cuda compiler driver\nCopyright (c) 2005-2025 NVIDIA Corporation\nBuilt on Tue_May_27_02:21:03_PDT_2025\nCuda compilation tools, release 12.9, V12.9.86\nBuild cuda_12.9.r12.9/compiler.36037853_0\n</code></pre></p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#6-gpu-dockernvidia-container-toolkit","title":"6. \u914d\u7f6e\u652f\u6301 GPU \u7684 Docker\uff08NVIDIA Container Toolkit\uff09","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528 Docker \u8fdb\u884c\u5f00\u53d1\uff0c\u9700\u8981\u8ba9\u5bb9\u5668\u8bbf\u95ee GPU\u3002\u8fd9\u9700\u8981\u5b89\u88c5 NVIDIA Container Toolkit\u3002\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u6dfb\u52a0\u4e86 NVIDIA \u8f6f\u4ef6\u6e90\uff0c\u5b89\u88c5\u975e\u5e38\u7b80\u5355\u3002</p> <ol> <li> <p>\u5b89\u88c5 NVIDIA Container Toolkit\uff1a    <pre><code>sudo apt install nvidia-container-toolkit\n</code></pre></p> </li> <li> <p>\u914d\u7f6e Docker \u4f7f\u7528 NVIDIA \u8fd0\u884c\u65f6\uff0c\u5e76\u91cd\u542f Docker \u670d\u52a1\uff1a    <pre><code>sudo nvidia-ctk runtime configure --runtime=docker\nsudo systemctl restart docker\n</code></pre></p> </li> </ol> <p>\u4f60\u4f1a\u5728 <code>/etc/docker/daemon.json</code> \u770b\u5230\u7c7b\u4f3c\u5982\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>{ \n    \"runtimes\": {\n        \"nvidia\": {\n            \"args\": [],\n            \"path\": \"nvidia-container-runtime\"\n        }\n    }\n}\n</code></pre> <ol> <li>\u6d4b\u8bd5 Docker GPU \u652f\u6301\uff1a    <pre><code>sudo docker run --rm --gpus all nvidia/cuda:12.8.0-base-ubuntu24.04 nvidia-smi\n</code></pre></li> </ol> <p>\u4f60\u5e94\u8be5\u80fd\u770b\u5230\u5bb9\u5668\u5185 <code>nvidia-smi</code> \u7684\u8f93\u51fa\uff0c\u8bf4\u660e GPU \u53ef\u7528\u3002</p> <p></p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#7","title":"7. \u603b\u7ed3","text":"<p>\u901a\u8fc7\u4ee5\u4e0a\u6b65\u9aa4\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u5728 Ubuntu \u7cfb\u7edf\u4e0a\u6210\u529f\u5b89\u88c5\u4e86\u6700\u65b0\u7684 NVIDIA \u9a71\u52a8\u548c CUDA Toolkit\uff0c\u5e76\u8ba9\u65b0\u4e00\u4ee3\u663e\u5361\u53ef\u4ee5\u7528\u4e8e\u5f00\u53d1\u548c\u8ba1\u7b97\u3002\u540c\u65f6\u4e5f\u914d\u7f6e\u597d\u4e86 Docker \u652f\u6301 GPU\u3002</p>"},{"location":"blog/2025/06/29/%E5%9C%A8-ubuntu-%E4%B8%8A%E4%B8%BA%E6%96%B0%E4%B8%80%E4%BB%A3%E6%98%BE%E5%8D%A1%E5%A6%82-5060-ti%E5%AE%89%E8%A3%85-nvidia-%E9%A9%B1%E5%8A%A8%E5%92%8C-cuda-toolkit/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=Ubuntu&amp;target_version=24.04&amp;target_type=deb_network</li> <li>https://forums.developer.nvidia.com/t/we-would-like-to-know-when-the-nvidia-drivers-for-5060ti-on-ubuntu-will-be-released/331207</li> <li>https://forums.developer.nvidia.com/t/nvidia-drivers-not-working-while-secure-boot-is-enabled-after-updating-to-ubuntu-24-04/305351/6?u=kiceyscream</li> <li>https://forums.developer.nvidia.com/t/could-not-select-device-driver-with-capabilities-gpu/80200</li> <li>https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html</li> </ul>"},{"location":"bug-fix/linux-wifi-miss/","title":"linux wifi \u6d88\u5931\uff08MediaTek 7921e\uff09","text":""},{"location":"bug-fix/linux-wifi-miss/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u8fd9\u4e2a\u95ee\u9898\u51fa\u73b0\u8fc7\u4e24\u6b21\uff0c\u90fd\u662f\u5728\u4f7f\u7528\u4e2d\u9014\uff0cwifi \u65ad\u5f00\uff0c\u5173\u95ed\u91cd\u542f wifi \u660e\u663e\u5361\u987f\uff0c\u4e14\u4e0d\u80fd\u83b7\u53d6\u5230 wifi \u5217\u8868\uff0c\u91cd\u542f\u4e4b\u540e wifi \u4ece\u72b6\u6001\u680f\u4e2d\u6d88\u5931\u3002</p>"},{"location":"bug-fix/linux-wifi-miss/#_2","title":"\u83b7\u53d6\u65e5\u5fd7","text":"<p>syslog \u76f8\u5173\u65e5\u5fd7\u5982\u4e0b\uff1a</p> <pre><code>mt7921e 0000:0c:00.0: Timeout for driver own\nmt7921e 0000:0c:00.0: driver own failed\n</code></pre> <p>dmesg \u4e2d\u5e76\u65e0\u7279\u6b8a\u65e5\u5fd7\u8bb0\u5f55\u3002</p>"},{"location":"bug-fix/linux-wifi-miss/#wifi","title":"wifi \u9a71\u52a8\u95ee\u9898","text":"<p>Linux \u4e0a\u5927\u90e8\u5206\u7684\u786c\u4ef6\u95ee\u9898\u4e00\u822c\u90fd\u662f\u7531\u9a71\u52a8\u51b2\u7a81\uff0c\u5931\u6548\u5bfc\u81f4\u7684\u3002</p> <p>\u4f7f\u7528 <code>lspci</code> \u67e5\u770b pci \u63a5\u53e3\u7684\u786c\u4ef6\u4fe1\u606f\uff0c\u5176\u4e2d <code>Network Manager</code> \u5c31\u662f Wifi \u7684\u8bbe\u5907\u3002</p> <p>\u6211\u7684\uff08\u4e3b\u677f\u5fae\u661f B650 Pro-A\uff09\u7ed3\u679c\u662f\uff1a</p> <pre><code>Network controller: MEDIATEK Corp. Device 0616\n</code></pre> <p>\u4f7f\u7528 <code>sudo lshw</code> \u67e5\u770b wifi \u9a71\u52a8\u4fe1\u606f\u3002</p> <p>\u6211\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>description: Wireless interface\nproduct: MEDIATEK Corp.\nvendor: MEDIATEK Corp.\nphysical id: 0\nbus info: pci@0000:0c:00.0\nlogical name: wlp12s0\nerial: ac:50:de:60:15:7d\nwidth: 64 bits\nclock: 33MHz\ncapabilities: pciexpress msi pm bus_master cap_list ethernet physical wireless\nconfiguration: broadcast=yes driver=mt7921e driverversion=5.15.0-56-generic firmware=____000000-20220322164011 ip=192.168.10.222 latency=0 link=yes multicast=yes wireless=IEEE 802.11\nresources: iomemory:fc0-fbf irq:121 memory:fcf0300000-fcf03fffff memory:ec900000-ec907fff\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u4f7f\u7528\u7684\u662f mt7921e \u7684\u9a71\u52a8\uff0c\u7248\u672c\u5373\u662f\u5f53\u524d\u7684 linux \u5185\u6838\u7248\u672c\u3002\u5982\u679c\u662f\u7f3a\u5c11\u9a71\u52a8\u7684\u540c\u5b66\u76f4\u63a5\u91cd\u65b0\u5b89\u88c5\u7f51\u7edc\u6a21\u5757\u5373\u53ef\uff0c\u65e0\u9700\u4e13\u95e8\u7684\u9a71\u52a8\u3002</p>"},{"location":"bug-fix/linux-wifi-miss/#_3","title":"\u9a71\u52a8/\u56fa\u4ef6\u95ee\u9898","text":"<p>\u5728\u7ecf\u8fc7\u4e00\u756a\u641c\u7d22\u4e4b\u540e\uff0c\u4ee5\u65e5\u5fd7\u4e2d\u7684 <code>mt7921e driver own failed</code> \u4e3a\u5173\u952e\u5b57\u627e\u5230 github \u4e0a\u7684\u4e00\u4e2a issue\uff1a</p> <p>https://github.com/openwrt/mt76/issues/681</p> <p>\u76f8\u5173\u7684\u4fee\u6539\u63d0\u4ea4\u5982\u4e0b\uff1a</p> <p>kernel/git/torvalds/linux.git - Linux kernel source tree</p> <p>\u4ee3\u7801\u4fee\u6539\u5185\u5bb9\u5982\u4e0b\uff1a</p> <p></p> <p>\u4ee5\u591a\u6b21\u91cd\u8bd5\u7684\u65b9\u5f0f\u89e3\u51b3\u5076\u53d1\u7684\u9a71\u52a8\u83b7\u53d6\u5931\u8d25\u95ee\u9898\uff08\u5e94\u8be5\u4e5f\u662f\u6ca1\u6709\u89e3\u51b3\u9a71\u52a8\u83b7\u53d6\u5931\u8d25\u7684\u6839\u672c\u95ee\u9898\uff0c\u53ea\u662f\u4ee5\u91cd\u8bd5\u7684\u65b9\u5f0f\u8865\u6551\uff0c\u7b11\uff09</p> <p>\u5728\u6d4f\u89c8 linux \u5185\u6838\u4ee3\u7801\u4e4b\u540e\uff0c\u53d1\u73b0\u8be5\u4fee\u6539\u5b58\u5728\u7684\u6700\u4f4e\u6b63\u5f0f\u7684\u5185\u6838\u7248\u672c\u4e3a v6.0\uff0c\u800c ubuntu \u5f53\u524d\u6700\u65b0\u7248\u672c 22.04.2 \u9ed8\u8ba4\u4f7f\u7528\u4e86 v5.19 \u8fd9\u4e2a\u7248\u672c\u3002\u518d\u7b49\u51e0\u4e2a\u6708\u7b49 ubuntu \u5b98\u65b9\u66f4\u65b0\u5185\u6838\u7248\u672c\u6216\u8005\u624b\u52a8\u5347\u7ea7\u4e00\u4e0b\u5185\u6838\u7248\u672c\u5373\u53ef\u3002</p> <p>\u4e0b\u9762\u4e5f\u63d0\u4f9b\u4e00\u4e2a\u4e34\u65f6\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"bug-fix/linux-wifi-miss/#bios","title":"\u91cd\u7f6e bios","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\u770b\u4e0d\u51fa\u4efb\u4f55\u95ee\u9898\uff0c\u7136\u540e\u67e5\u8be2\u5230\u4e00\u4e9b\u540c\u5b66\u7684\u89e3\u51b3\u529e\u6cd5\uff1a\u5728\u53cc\u7cfb\u7edf\u4e0b\u5207\u6362\u5230 Windows \u4e0b\uff0c\u4f7f\u7528\u5feb\u6377\u952e\u5173\u95ed\u98de\u884c\u6a21\u5f0f\uff0c\u7136\u540e\u5207\u56de Ubuntu \u7cfb\u7edf\u5373\u53ef\u3002</p> <p>\u90a3\u4e48\u6211\u5f00\u59cb\u4e86\u5408\u7406\u7684\u731c\u6d4b\uff1a</p> <p>Ubuntu \u5728\u67d0\u79cd\u60c5\u51b5\u4e0b\u89e6\u53d1\u4e86\u5bf9 bios \u7684\u8bbe\u7f6e\uff0c\u5173\u95ed\u4e86\u4e3b\u677f\u4e0a\u7684 wifi \u6a21\u5757\uff0c\u4e8e\u662f\u6211\u8fdb\u5165 bios \u8bbe\u7f6e\u4e2d\u53d1\u73b0 wifi \u5904\u4e8e enable \u5e76\u6ca1\u6709\u88ab\u5173\u95ed\u3002</p> <p>\u7ee7\u7eed\u731c\u6d4b\uff0c\u5728\u4e4b\u524d\u4fee\u6539\u795e\u821f\u7b14\u8bb0\u672c\u7684\u529f\u8017\u5899\u7684\u65f6\u5019\uff0c\u66fe\u7ecf\u901a\u8fc7\u5237 bios \u56fa\u4ef6\u7684\u65b9\u5f0f\u542f\u7528\u8fc7\u9690\u85cf\u8bbe\u7f6e\uff0cbios \u7684\u4ee3\u7801\u91cc\u5bf9\u9690\u85cf\u8bbe\u7f6e\u7684\u5904\u7406\u5e76\u975e\u662f\u5c4f\u853d\u5e76\u91c7\u7528\u9ed8\u8ba4\u503c\uff0c\u800c\u662f\u6700\u7b80\u5355\u7684\u5c4f\u853d\u8bbe\u7f6e\u9879\u800c\u5df2\uff0c\u731c\u6d4b\u53ef\u80fd\u662f ubuntu \u5173\u95ed\u4e86\u67d0\u4e2a\u9690\u85cf\u7684\u8bbe\u7f6e\u9879\u3002</p> <p>\u57fa\u4e8e\u7f51\u4e0a\u7684\u8fd9\u4e00\u4e2a\u5904\u7406\u65b9\u6cd5\u548c\u4e24\u5c42\u731c\u6d4b\uff0c\u6211\u53d6\u4e0b\u4e86 bios \u7535\u6c60\u91cd\u7f6e bios \u56fa\u4ef6\uff0c\u518d\u6b21\u5f00\u673a\uff0cwifi \u6062\u590d\uff01</p> <p>\u4ee5\u4e0a\u64cd\u4f5c\u5728 ubuntu 22.04\uff0c\u5fae\u661f B650 Pro-A \u4e3b\u677f\u662f\u8fdb\u884c\u3002\u7531\u4e8e\u6211\u5bf9\u786c\u4ef6\u548c\u7cfb\u7edf\u7684\u77e5\u8bc6\u5e76\u4e0d\u6df1\u5165\uff0c\u4ee5\u4e0a\u7684\u89e3\u91ca\u53ef\u80fd\u5b58\u5728\u9519\u8bef\uff0c\u671b\u5927\u4f6c\u8d50\u6559\u3002</p> <p>\u5728\u91cd\u7f6e bios \u4e4b\u540e\uff0c\u4e4b\u524d\u4f7f\u7528 mokutil \u901a\u8fc7 secure boot \u4fe1\u4efb\u7684\u6a21\u5757\u9700\u8981\u91cd\u65b0\u4fe1\u4efb\u4e00\u6b21\uff0c\u4e5f\u5c31\u662f\u518d\u5f55\u5165\u4e00\u6b21\u516c\u94a5\u3002</p> <p>ubuntu \u4e34\u65f6\u89e3\u51b3\u65b9\u5f0f\uff08\u91cd\u7f6e BIOS \u53ea\u662f\u6682\u65f6\u7684\u4fee\u590d\uff09\u3002</p> <p>\u867d\u7136\u5fae\u661f\u7684\u5b98\u7f51\u6709\u4e00\u4e2a v13 \u7248\u672c\u7684 BIOS \u9a71\u52a8\u63cf\u8ff0\u4e3a Fix Wifi lan can not work properly\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u7684 wifi \u95ee\u9898\u4e0d\u662f\u4e0a\u9762\u8ba8\u8bba\u7684\u95ee\u9898\u3002</p> <p></p> <p>\u7ed3\u675f\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/","title":"elastic search \u5165\u95e8","text":"<p>\u5b66\u4e60 elasticsearch \u4e5f\u4f1a\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u5e2e\u52a9\u4f60\u7406\u89e3 RESTful \u7684\u8bbe\u8ba1</p> <p>\u57fa\u4e8e elasticsearhc 7\uff0c\u7531 \u300aelasticsearch \u5b9e\u6218 \u7b2c\u4e8c\u7248\u300b\u603b\u7ed3\u800c\u6765\uff08\u6682\u65f6\u6ca1\u6709\u7ffb\u8bd1\uff09\uff0c\u968f\u4e66\u6e90\u7801\u4ed3\u5e93\uff1ahttps://github.com/madhusudhankonda/elasticsearch-in-action\uff08\u6e90\u7801\u4e2d\u53ef\u80fd\u6709\u4e9b\u5c0f\u95ee\u9898\u6682\u65f6\u6ca1\u6709\u88ab\u4fee\u6539\uff0c\u53ef\u4ee5\u4f7f\u7528\u6211\u7684 fork \u4ed3\u5e93 https://github.com/Kicey/elasticsearch-in-action\uff09</p> <p>\u53ef\u80fd\u5c06 elasticsearch \u79f0\u4e3a es\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_1","title":"\u903b\u8f91\u6982\u5ff5","text":"<ul> <li>\u7d22\u5f15 index\uff1aelasticsearch \u4e2d\u7684\u7d22\u5f15\u548c\u6570\u636e\u5e93\u7d22\u5f15\u4e0d\u540c\uff0c\u6570\u636e\u5e93\u7d22\u5f15\u7d22\u5f15\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\uff0c\u800c elasticsearch \u4e2d\u7684\u7d22\u5f15\u66f4\u50cf\u662f\u67d0\u4e2a\u6570\u636e\u5e93\u672c\u8eab\uff0c\u4e00\u4e2a elasticsearch \u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7d22\u5f15\u3002</li> <li>\u7c7b\u578b\uff1a\u7c7b\u578b\u5e76\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u4ed6\u7528\u4e8e\u89c4\u5b9a\u67d0\u4e00\u7c7b\u6587\u6863\u7684\u901a\u7528\u7684 metadata\uff08\u5143\u6570\u636e\uff09\uff0c\u76ee\u7684\u662f\u52a0\u5feb elasticsearch \u5904\u7406\u7684\u901f\u5ea6\u548c\u4fdd\u8bc1\u5b57\u6bb5\u7c7b\u578b\u7684\u51c6\u786e\u3002\u5728\u6ca1\u6709\u7c7b\u578b\uff0c\u6216\u8005\u7c7b\u578b\u4e0a\u7684\u5b57\u6bb5\u5b9a\u4e49\u4e0d\u80fd\u5b8c\u5168\u8986\u76d6\u6587\u6863\u4e2d\u51fa\u73b0\u7684\u5b57\u6bb5\u65f6\uff0celasticsearch \u5c06\u81ea\u52a8\u5904\u7406\uff08\u53ef\u80fd\u5b58\u5728\u201c\u731c\u9519\u201c \u7684\u60c5\u51b5\uff09\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f elasticsearch \u5728 6 \u4e4b\u540e\u5efa\u8bae\u6bcf\u4e2a\u7d22\u5f15\u53ea\u4fdd\u5b58\u4e00\u79cd\u7c7b\u578b\u7684\u6587\u6863\uff0c\u5728\u4e00\u4e2a\u7d22\u5f15\u4f7f\u7528\u591a\u4e2a\u7c7b\u578b\u5c06\u4f1a\u89e6\u53d1\u8b66\u544a\u3002</li> <li>\u6587\u6863\uff1a\u4e00\u4e2a\u6587\u6863\u662f elasticsearch \u4e2d\u7684\u6700\u5c0f\u8bb0\u5f55\u903b\u8f91\u8bb0\u5f55\u5355\u5143\uff0c\u7c7b\u4f3c\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u6761\u8bb0\u5f55\uff0c\u662f\u4e00\u4e2a NoSql \u7684\u6570\u636e\u7ed3\u6784\uff0c\u5927\u591a\u6570\u65f6\u5019\u4ee5 Json \u8868\u793a\u3002</li> </ul>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_2","title":"\u6587\u6863\u57fa\u672c\u64cd\u4f5c","text":"<p>elasticsearch \u63d0\u4f9b RESTful \u7684 API \u5bf9\u6587\u6863\u7684\u64cd\u4f5c\u4e5f\u662f\u589e\u5220\u67e5\u6539\uff0c\u8bed\u6cd5\u8bbe\u8ba1\u7684\u4e3b\u8981\u5185\u5bb9\u5c31\u662f HTTP \u8bf7\u6c42\u7684\u52a8\u4f5c\uff0cHTTP \u8bf7\u6c42\u7684\u8def\u5f84\uff0c\u8bf7\u6c42\u4f53\uff08\u8fd9\u4f3c\u4e4e\u662f\u4e00\u53e5\u5e9f\u8bdd\uff0c\u4e0d\u6025\uff0c\u63a5\u7740\u5f80\u4e0b\u770b\uff09\u3002</p> <p>\u6ce8\u610f\u4e0d\u8981\u53bb\u80cc\u8bed\u6cd5\uff01\u6ce8\u610f\u4e0d\u8981\u53bb\u80cc\u8bed\u6cd5\uff01\u6ce8\u610f\u4e0d\u8981\u53bb\u80cc\u8bed\u6cd5\uff01</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_3","title":"\u589e","text":"<p>elasticsearch \u4e2d\u7684\u589e\u662f\u7531 HTTP PUT \u65b9\u6cd5\u5b8c\u6210\u7684\uff0c\u8def\u5f84\u6307\u5b9a\u4f7f\u7528\u7684\u7d22\u5f15\u548c\u6587\u6863 Id\uff08\u7d22\u5f15\u65e0\u5219\u81ea\u52a8\u521b\u5efa\uff0c\u6ca1\u6709 Id \u5219\u968f\u5373\u751f\u6210\uff09\uff0c\u8bf7\u6c42\u4f53\u662f\u6587\u6863\u4f53\uff08\u4ee5 json \u5f62\u5f0f\uff09\u3002</p> <p>\u4f7f\u7528 _doc \u7aef\u70b9\u65b0\u589e\u4e00\u4e2a\u6587\u6863\uff08books \u5373\u4e3a\u6587\u6863\u5f52\u5c5e\u7684\u7d22\u5f15\uff09\uff0c1 \u5373\u6587\u6863 Id</p> <pre><code>PUT books/_doc/1\n{\n  \"title\":\"Effective Java\",\n  \"author\":\"Joshua Bloch\",\n  \"release_date\":\"2001-06-01\",\n  \"amazon_rating\":4.7,\n  \"best_seller\":true,\n  \"prices\": {\n    \"usd\":9.95,\n  }\n}\n</code></pre> <p>\u9664\u6b64\u4e4b\u540e\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u8bf7\u6c42\u65b0\u589e\u591a\u4e2a\u6587\u6863\uff0c\u4f7f\u7528 _mock \u7aef\u70b9</p> <pre><code>POST _bulk\n{\"index\":{\"_index\":\"books\",\"_id\":\"1\"}}\n{\"title\": \"Core Java Volume I \u00e2\u20ac\u201c Fundamentals\",\"author\": \"Cay S. Horstmann\",\"edition\": 11, \"synopsis\": \"Java reference book that offers a detailed explanation of various features of Core Java, including exception handling, interfaces, and lambda expressions. Significant highlights of the book include simple language, conciseness, and detailed examples.\",\"amazon_rating\": 4.6,\"release_date\": \"2018-08-27\",\"tags\": [\"Programming Languages, Java Programming\"]}\n{\"index\":{\"_index\":\"books\",\"_id\":\"2\"}}\n{\"title\": \"Effective Java\",\"author\": \"Joshua Bloch\", \"edition\": 3,\"synopsis\": \"A must-have book for every Java programmer and Java aspirant, Effective Java makes up for an excellent complementary read with other Java books or learning material. The book offers 78 best practices to follow for making the code better.\", \"amazon_rating\": 4.7, \"release_date\": \"2017-12-27\", \"tags\": [\"Object Oriented Software Design\"]}\n{\"index\":{\"_index\":\"books\",\"_id\":\"3\"}}\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u7684\u8bf7\u6c42\u4f53\u5e76\u975e\u662f\u4e00\u4e2a\u5e38\u89c4\u7684 json\uff0c\u8fd9\u91cc\u662f\u4f7f\u7528 \u591a\u4e2a json \u7ec4\u6210\u7684\uff0c\u6bcf\u4e24\u4e2a json \u4e3a\u4e00\u7ec4\uff0c\u524d\u4e00\u4e2a\u5236\u5b9a\u7d22\u5f15\u548c Id\uff0c\u540e\u4e00\u4e2a\u6307\u5b9a\u6587\u6863\u4f53\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_4","title":"\u67e5","text":"<p>es \u6700\u4e3b\u8981\u7684\u529f\u80fd</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_5","title":"\u8ba1\u6570","text":"<p>\u901a\u8fc7\u7d22\u5f15\u4e0b\u7684 _count \u7aef\u70b9</p> <pre><code>GET /books/_count\n</code></pre> <p>\u6839\u8def\u5f84\u4e0b\u7684 _count \u7aef\u70b9\u8fd4\u56de\u6240\u6709\u7d22\u5f15\u7684\u6587\u6863\u6570\u91cf\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_6","title":"\u67e5\u8be2\u6587\u6863","text":""},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#id","title":"\u901a\u8fc7 Id \u67e5\u8be2\u6587\u6863","text":"<p>\u901a\u8fc7\u7d22\u5f15\u4e0b\u7684 _doc \u6216 _source \u7aef\u70b9\u548c\u6587\u6863 Id</p> <pre><code>GET /books/_doc/1\n\nGET /books/_source/1\n</code></pre>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#_7","title":"\u641c\u7d22\u6587\u6863\uff08\u5305\u62ec\u805a\u5408\uff09","text":"<p>\u901a\u8fc7\u7d22\u5f15\u4e0b\u7684 _search \u7aef\u70b9\u548c\u67e5\u8be2\u8bf7\u6c42\u4f53</p> <pre><code>GET books/_search\n{\n  \"query\": {\n    \"match\": {\n      \"author\": \"Joshua\"\n    }\n  }\n}\n</code></pre> <p>es \u5b58\u5728\u8bb8\u591a\u590d\u6742\u8bf7\u6c42\u57fa\u672c\u90fd\u662f\u4f9d\u9760\u8bf7\u6c42\u4f53\u8fdb\u884c\u7684\uff0c\u4e8e\u662f\u65b0\u4e00\u7bc7\uff1ahttps://blog.kicey.site/elasticsearch-sou-suo/</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#es","title":"es \u7684\u6a21\u5f0f\u7ed3\u6784","text":"<p>es \u57fa\u4e8e Apache Lucene\uff0c\u4e00\u4e2a Java \u8bed\u8a00\u7684\u641c\u7d22\u5e93\u3002\u4e00\u822c\u4f9d\u9760 Logstash \u4f5c\u4e3a\u4e2d\u95f4\u4ef6\u83b7\u53d6\u6570\u636e\uff0cKibana \u5c55\u793a\u3002</p> <p>es \u652f\u6301\u96c6\u7fa4\u4ee5\u5747\u8861\u8d1f\u8f7d\u65b9\u5f0f\u589e\u52a0\u53ef\u7528\u6027\u548c\u5197\u4f59\u5907\u4efd\u7684\u65b9\u5f0f\u589e\u52a0\u5206\u533a\u5bb9\u9519\u6027\uff0c\u672c\u8eab\u4ee5 NoSql\uff08\u975e\u5173\u7cfb\uff09\u7684\u5f62\u5f0f\u7ec4\u7ec7\u6570\u636e\uff0c\u4f7f\u7528\u5012\u6392\u7d22\u5f15\u7b49\u6570\u636e\u7ed3\u6784\u52a0\u5feb\u67e5\u627e\u7684\u901f\u5ea6\u3002</p> <p>\u65b0\u5f00\u4e00\u7bc7\u5927\u81f4\u4ecb\u7ecd\u4e00\u4e0b es \u7684\u7ed3\u6784\uff1ahttps://blog.kicey.site/elasticsearch-luo-ji-jie-gou/</p>"},{"location":"elastic%20search/elastic%20search%20%E5%85%A5%E9%97%A8/#es_1","title":"es \u6570\u636e\u7c7b\u578b\u548c\u76f8\u5173\u64cd\u4f5c","text":"<p>es \u652f\u6301\u591a\u79cd\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5bf9\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\u4e0a\u6709\u4e0d\u540c\u7684\u64cd\u4f5c\u3002\u4f8b\u5982\u5e38\u7528\u7684 text \u7c7b\u578b\uff0c\u7528\u4e8e\u5168\u6587\u641c\u7d22\uff08full-text\uff09\uff0c\u5728\u6587\u6863\u63d2\u5165\u65f6\uff0c\u9700\u8981\u5148\u8fdb\u884c\u7b26\u53f7\u5316\uff0c\u4ee5\u53ca\u6b63\u89c4\u5316\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E6%90%9C%E7%B4%A2/","title":"elastic search \u641c\u7d22","text":""},{"location":"elastic%20search/elastic%20search%20%E6%90%9C%E7%B4%A2/#_1","title":"\u7b80\u5355\u7684\u6761\u4ef6\u641c\u7d22","text":"<p>es \u4e2d\u4e0d\u5b58\u5728\u6761\u4ef6\u641c\u7d22\u8fd9\u4e48\u4e00\u4e2a\u6982\u5ff5\uff0c\u8fd9\u91cc\u7684\u8fd9\u4e2d\u8bf4\u6cd5\u4ec5\u4ec5\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3</p> <p>\u4ece\u4e0b\u9762\u7684\u6837\u4f8b\u770b\u51fa\uff0c\u641c\u7d22\u8bbe\u8ba1 es \u7684 _search \u7aef\u70b9\uff0c\u5e76\u4e14\u4f7f\u7528 json \u683c\u5f0f\u8bf7\u6c42\u4f53\uff08\u5b9e\u9645\u4ee5\u8bf7\u6c42\u53c2\u6570\u7684\u5f62\u5f0f\u53d1\u9001\uff09\u3002</p> <pre><code>GET books/_search\n{\n    \"query\": { # es \u8bf7\u6c42\u8bed\u6cd5\u7684\u4e00\u90e8\u5206\n        \"match\": { # \u6307\u5b9a\u5224\u65ad\u65b9\u5f0f\n            \"author\": \"Joshua\"  # \u4ee5\u201d\u5b57\u6bb5\uff1a\u503c\u201c\u7684\u5f62\u5f0f\u6307\u5b9a\u641c\u7d22\u6761\u4ef6\n        }\n    }\n}\n</code></pre> <p>es \u7684\u8bf7\u6c42\u4f53\u4e2d query \u7684\u5b50\u8282\u70b9\u9664\u4e86 match \u4e4b\u5916\u8fd8\u6709 multi_match\uff08\u8fdb\u884c\u591a\u4e2a\u5b57\u6bb5\u7684\u5339\u914d\uff09\uff0cprefix\uff08\u5339\u914d\u5b57\u6bb5\u524d\u7f00\uff09\uff0cmatch_phrase\uff08\u5339\u914d\u77ed\u8bed\uff09\uff0cfuzzy\uff08\u6a21\u7cca\u5339\u914d\u7b49\uff09\uff0cterm\uff08\u4e25\u683c\u5339\u914d\uff09\uff0crange\uff08\u8303\u56f4\u5339\u914d\uff09 \u7b49\uff0c\u8fd9\u4e9b\u4ee3\u8868\u4e86\u4e0d\u540c\u7684\u641c\u7d22\u65b9\u5f0f\uff0c\u81ea\u7136\u683c\u5f0f\u4e0d\u540c\u3002</p> <p>es \u5728\u4e3a\u8fd9\u4e9b\u7b80\u5355\u7684\u6761\u4ef6\u641c\u7d22\u589e\u52a0\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u6bd4\u5982\u53ef\u4ee5\u8bbe\u7f6e\u5339\u914d\u503c\u7684\u4e0e\u6216\u5173\u7cfb\uff0c\u591a\u5b57\u6bb5\u5339\u914d\u53ef\u4ee5\u8bbe\u5b9a\u4e0d\u540c\u503c\uff08\u533a\u522b\u4e0e\u952e\uff09\u7684\u5168\u91cd\uff0c\u5339\u914d\u77ed\u8bed\u53ef\u4ee5\u8bbe\u7f6e\u53ef\u4ee5\u8df3\u8fc7\u7684\u5355\u8bcd\u6570\u91cf\u7b49\uff0c\u7b80\u5355\u7684\u67e5\u8be2\u90fd\u53ef\u4ee5\u5728 https://github.com/madhusudhankonda/elasticsearch-in-action/blob/main/kibana_scripts/ch2_getting_started.txt \u770b\u5230\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/","title":"Elastic search \u903b\u8f91\u7ed3\u6784","text":""},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_1","title":"\u6d41\u7a0b\u6982\u89c8","text":"<p>es \u4f9d\u9760 Logstash \u4f5c\u4e3a\u4e00\u4e2a\u4e2d\u95f4\u5c42\uff0c\u4ece\u6570\u636e\u5e93\uff0c\u6587\u4ef6\u7cfb\u7edf\u6216\u8005\u662f\u5e94\u7528\u4ea7\u751f\u7684\u5b9e\u65f6\u7684\u4fe1\u606f\u4e2d\u8bfb\u5982\u6570\u636e\uff0c\u8fd9\u4e9b\u6570\u636e\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u4e00\u4e2a\u6587\u6863\uff0c\u4ee5 json \u683c\u5f0f\u8868\u793a\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_2","title":"\u7ec4\u6210","text":""},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_3","title":"\u6587\u6863","text":"<p>\u6587\u6863\u662f es \u6570\u636e\u7684\u57fa\u672c\u5355\u5143\uff0c\u4ee5\u4e00\u4e2a Json \u7684\u683c\u5f0f\u8868\u793a\u3002es \u652f\u6301\u5bf9\u6307\u5b9a\u6587\u6863\uff08\u5355\u4e2a\u6216\u8005\u6279\u91cf\uff09\u7684 CRUD\u3002</p> <p>es \u4e2d\u7684\u6570\u636e\u8868\u793a\u6bd4 Json \u591a\uff08\u6bd4\u5982 Json \u6ca1\u6709\u8868\u793a\u65e5\u671f\u7684\u7279\u5b9a\u7684\u6570\u636e\u683c\u5f0f\uff0c\u800c\u662f\u4f7f\u7528\u4e00\u4e2a\u5b57\u7b26\u4e32\u8868\u793a\uff0ces \u4f1a\u81ea\u5b9a\u7684\u89e3\u6790 Json \u7684\u5185\u5bb9\u8f6c\u6362\u6210\u5bf9\u5e94\u7684\u6570\u636e\u683c\u5f0f\uff09\u3002</p> <p>\u4e0d\u540c\u4e8e\u5173\u7cfb\u578b\u7684\u6570\u636e\u6570\u636e\u5e93\uff0c\u6570\u636e\u7684\u5173\u7cfb\u4e0d\u4f7f\u7528\u5916\u952e\u8868\u793a\uff0c\u800c\u662f\u4f7f\u7528\u5185\u90e8\u5bf9\u8c61\uff08\u6570\u7ec4\uff09\u8868\u793a\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_4","title":"\u7c7b\u578b","text":"<p>\u7c7b\u578b\u662f\u6587\u6863\u7684\u6570\u636e\u7ed3\u6784\u7684\u8868\u793a\uff0c\u5728\u6ca1\u6709\u624b\u52a8\u521b\u5efa\u7684\u60c5\u51b5\u4e0b\uff0ces \u4f1a\u6839\u636e\u6587\u6863\u7684\u7c7b\u578b\u81ea\u52a8\u521b\u5efa\u3002</p> <p>\u5728 es 5 \u4e4b\u524d\uff0c\u4e00\u4e2a\u7d22\u5f15\u4e2d\u53ef\u4ee5\u5b58\u5728\u591a\u4e2a\u7c7b\u578b\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u7d22\u5f15\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u79cd\u7c7b\u578b\u7684\u6587\u6863\uff0c\u5728 es 6 \u4e4b\u540e\u91c7\u7528\u76f8\u540c\u7684\u505a\u6cd5\u5c06\u4f1a\u5f97\u5230\u4e00\u4e2a warning\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_5","title":"\u7d22\u5f15","text":"<p>\u7d22\u5f15\u662f\u4fdd\u5b58\u6587\u6863\u7684\u903b\u8f91\u5bb9\u5668\uff0c\u4e00\u4e2a\u7d22\u5f15\u5305\u542b\u591a\u4e2a\u5206\u7247\uff08\u4e3b\u5206\u7247\uff0c\u4ece\u5206\u7247\uff09\uff0c\u591a\u4e2a\u4e3b\u5206\u7247\u5171\u540c\u7ef4\u62a4\u7d22\u5f15\u4e2d\u7684\u6587\u6863\uff0c\u6bcf\u4e2a\u4e3b\u5206\u7247\u53ef\u4ee5\u6709\u591a\u4e2a\u5206\u7247\u526f\u672c\uff0c\u6bcf\u4e2a\u5206\u7247\u662f\u4e00\u4e2a Apache Lucene \u5b9e\u4f8b\u3002</p> <p>\u4e00\u4e2a\u7d22\u5f15\u591a\u4e2a\u5206\u7247\u7684\u76ee\u7684\u662f\u63d0\u9ad8\u5206\u533a\u5bb9\u9519\u6027\u548c\u53ef\u7528\u6027\uff0c\u4e00\u4e2a\u7d22\u5f15\u7684\u591a\u4e2a\u5206\u7247\u4e00\u822c\u6765\u8bf4\u662f\u5728\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\uff0c\u901a\u8fc7\u7f51\u7edc\u8fdb\u884c\u72b6\u6001\u7684\u540c\u6b65\u3002</p> <p>\u7d22\u5f15\u5927\u81f4\u5305\u542b\u8bbe\u7f6e\uff0c\u6620\u5c04\uff0c\u522b\u540d 3 \u4e2a\u5c5e\u6027\u3002\u7d22\u5f15\u7684\u8bbe\u7f6e\u53ef\u4ee5\u53c2\u8003\uff1aElasticsearch Index Setting\u4e00\u89c8\u8868\u3010\u8f6c\u3011 - \u8c61\u7259\u9165 - \u535a\u5ba2\u56ed (cnblogs.com)\uff0c\u6620\u5c04\u5373\u5b9a\u4e49\u6a21\u5f0f\u5b9a\u4e49\uff0c\u5927\u591a\u6570\u7684\u8bbe\u7f6e\u662f\u7528\u6765\u914d\u7f6e\u5206\u7247\u7684\uff0c\u522b\u540d\u5c06\u591a\u4e2a RESTful \u7684 URI \u6307\u5411\u540c\u4e00\u4e2a\u7d22\u5f15\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_6","title":"\u6570\u636e\u6d41","text":""},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_7","title":"\u5206\u7247","text":"<p>\u5206\u7247\u5305\u542b\u4e3b\u5206\u7247\u548c\u5206\u7247\u526f\u672c\uff0c\u5728 es \u96c6\u7fa4\u4e2d\u4fdd\u5b58\uff08\u591a\u4e2a\u8282\u70b9\uff09\uff0ces \u96c6\u7fa4\u7684\u5065\u5eb7\u72b6\u6001\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_8","title":"\u7ffb\u8bd1\u4e00\u4e0b","text":"<p>\u96c6\u7fa4\u5f53\u524d\u7684\u5065\u5eb7\u4fe1\u606f\u53ef\u901a\u8fc7 <code>GET _cluster/health</code> \u67e5\u8be2\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_9","title":"\u8282\u70b9\u548c\u96c6\u7fa4","text":""},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_10","title":"\u8282\u70b9\u89d2\u8272","text":"\u89d2\u8272 \u4e3b\u8981\u4f5c\u7528 \u4e3b\u8282\u70b9 \u7ba1\u7406\u96c6\u7fa4\u4e2d\u7684\u8282\u70b9 \u6570\u636e\u8282\u70b9 \u6570\u636e\u7684\u6301\u4e45\u5316\u548c\u67e5\u8be2 \u63d0\u53d6\u8282\u70b9 \u8d1f\u8d23\u901a\u8fc7\u7ba1\u9053\u63d0\u53d6\u7684\u6570\u636e\u7684\u7d22\u5f15\u524d\u7684\u8f6c\u5316\u6216\u8005\u586b\u5145 \u673a\u5668\u5b66\u4e60\u8282\u70b9 \u673a\u5668\u5b66\u4e60 \u8f6c\u6362\u8282\u70b9 \u7c7b\u4f3c\u4e8e\u6570\u636e\u5e93\u4e2d\u7684\u89c6\u56fe\uff0c\u7531\u51e0\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u7d22\u5f15\u521b\u5efa\u4e00\u4e2a\u805a\u5408\u7684\u7d22\u5f15 \u5b9a\u4f4d\u8282\u70b9 \uff08\u9ed8\u8ba4\u89d2\u8272\uff09\u5904\u7406\u6765\u81ea\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_11","title":"\u5012\u6392\u7d22\u5f15","text":""},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_12","title":"\u76f8\u5173\u6027","text":"<p>\u5728\u67e5\u8be2\u7ed3\u679c\u5b58\u5728\u591a\u4e2a\u6587\u6863\u65f6\uff0ces \u4f9d\u636e\u76f8\u5173\u9879\u5206\u6570\uff08\u4e00\u4e2a\u6d6e\u70b9\u6570\uff09\u5c06\u7ed3\u679c\u6392\u5e8f\uff0c\u9ed8\u8ba4\u4f7f\u7528 BM25 \u8ba1\u7b97\u76f8\u5173\u6027\u5206\u6570\u3002</p> <p>BM 25 \u7b97\u6cd5\u7684\u7ed3\u679c\u4e3b\u8981\u7531 TF\uff0cIDF\uff0cfield length norm \u51b3\u5b9a\u3002</p> <ul> <li>TF\uff1aTerm Frequency\uff0c\u5173\u952e\u8bcd\u5728\u6307\u5b9a\u5b57\u6bb5\u4e0a\u51fa\u73b0\u7684\u6b21\u6570</li> <li>IDF\uff1aInverse Document Frequency\uff0c\u5173\u952e\u8bcd\u5728\u6574\u4e2a\u6587\u6863\uff08\u4e0d\u6b62\u7edf\u8ba1\u6307\u5b9a\u7684\u5b57\u6bb5\u4e0a\u7684\u5173\u952e\u8bcd\uff09\u4e2d\u7684\u51fa\u73b0\u6b21\u6570\u7684\u9006\uff08\u51fa\u73b0\u7684\u8d8a\u591a\u76f8\u5173\u6027\u8d8a\u5c0f\uff09</li> <li>field-length norm\uff0c\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u5b57\u6bb5\u7684\u957f\u5ea6\u8d8a\u77ed\uff0c\u76f8\u5173\u6027\u8d8a\u9ad8</li> </ul> <p>\u5bf9\u4e8e\u7c7b\u578b\u4e0a\u7684\u4e0d\u540c\u5b57\u6bb5\uff0ces \u53ef\u4ee5\u5355\u72ec\u8bbe\u7f6e\u76f8\u5173\u6027\u7b97\u6cd5\u4ee5\u53ca\u5bf9\u5e94\u7684\u53c2\u6570\u3002</p>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_13","title":"\u8def\u7531\u7b97\u6cd5","text":"<pre><code>shard_number = hash(id) % number_of_shards\n</code></pre>"},{"location":"elastic%20search/elastic%20search%20%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84/#_14","title":"\u4f38\u7f29","text":""},{"location":"electron/Stracture/","title":"Stracture","text":""},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/","title":"HotSpot \u5783\u573e\u6536\u96c6\u90e8\u5206\u7ec6\u8282","text":""},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_1","title":"\u6839\u8282\u70b9\u679a\u4e3e","text":"<p>\u56fa\u5b9a\u53ef\u4f5c\u4e3aGC Roots\u7684\u8282\u70b9\u4e3b\u8981\u5728\u5168\u5c40\u6027\u7684\u5f15\u7528\uff08\u4f8b\u5982\u5e38\u91cf\u6216\u7c7b\u9759\u6001\u5c5e\u6027\uff09\u4e0e\u6267\u884c\u4e0a\u4e0b\u6587\uff08\u4f8b\u5982 \u6808\u5e27\u4e2d\u7684\u672c\u5730\u53d8\u91cf\u8868\uff09\u4e2d\uff0c\u4f46\u662f\u5728\u5e94\u7528\u548c jvm \u90fd\u4e0d\u65ad\u589e\u5927\u7684\u80cc\u666f\u4e0b\uff0c\u679a\u4e3e\u6574\u4e2a\u96c6\u5408\u8017\u65f6\u8fd8\u662f\u975e\u5e38\u4e25\u91cd\u3002</p> <p>\u5f53\u7528\u6237\u7ebf\u7a0b\u505c\u987f\u4e0b\u6765\u4e4b\u540e\uff0c\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u4e00\u4e2a\u4e0d\u6f0f\u5730\u68c0\u67e5\u5b8c\u6240\u6709 \u6267\u884c\u4e0a\u4e0b\u6587\u548c\u5168\u5c40\u7684\u5f15\u7528\u4f4d\u7f6e\uff0c\u865a\u62df\u673a\u5e94\u5f53\u662f\u6709\u529e\u6cd5\u76f4\u63a5\u5f97\u5230\u54ea\u4e9b\u5730\u65b9\u5b58\u653e\u7740\u5bf9\u8c61\u5f15\u7528\u7684\u3002\u5728 HotSpot \u7684\u89e3\u51b3\u65b9\u6848\u91cc\uff0c\u662f\u4f7f\u7528\u4e00\u7ec4\u79f0\u4e3a OopMap \uff08Ordinary Object Pointer\uff09\u7684\u6570\u636e\u7ed3\u6784\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684\u3002\u4e00\u65e6\u7c7b\u52a0\u8f7d\u52a8\u4f5c\u5b8c\u6210\u7684\u65f6\u5019\uff0c HotSpot \u5c31\u4f1a\u628a\u5bf9\u8c61\u5185\u4ec0\u4e48\u504f\u79fb\u91cf\u4e0a\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u6570\u636e\u8ba1\u7b97\u51fa\u6765\uff0c\u5728\u5373\u65f6\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u5728\u7279\u5b9a\u7684\u4f4d\u7f6e\u8bb0\u5f55\u4e0b\u6808\u91cc\u548c\u5bc4\u5b58\u5668\u91cc\u54ea\u4e9b\u4f4d\u7f6e\u662f\u5f15\u7528\u3002\u8fd9\u6837\u6536\u96c6\u5668\u5728\u626b\u63cf\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u5f97\u77e5\u8fd9\u4e9b\u4fe1\u606f\u4e86\uff0c\u5e76\u4e0d\u9700\u8981\u771f\u6b63\u4e00\u4e2a\u4e0d\u6f0f\u5730\u4ece\u65b9\u6cd5\u533a\u7b49GC Roots\u5f00\u59cb\u67e5\u627e\u3002</p>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_2","title":"\u5b89\u5168\u70b9","text":"<p>OopMap \u7684\u72b6\u6001\u662f\u9700\u8981\u968f\u7740\u7a0b\u5e8f\u7684\u6267\u884c\u8fdb\u884c\u4fee\u6539\u7684\uff08\u5b9e\u9645\u4e0a\u662f\u5728\u591a\u4e2a\u4f4d\u7f6e\u751f\u6210\u4e86 OopMap\uff09\uff0c\u5982\u679c\u6bcf\u6267\u884c\u4e00\u4e2a\u6307\u4ee4\u5c31\u4fee\u6539\u4e00\u6b21\uff08\u6216\u8005\u6bcf\u4e2a\u6307\u4ee4\u90fd\u6709\u5355\u72ec\u7684 OopMap\uff09\uff0c\u5bf9\u7a0b\u5e8f\u6267\u884c\u7684\u6548\u7387\u5f71\u54cd\u662f\u6bd4\u8f83\u5927\u7684\uff08\u6216\u8005\u5360\u7528\u4e86\u8fc7\u591a\u7684\u5185\u5b58\uff09\u3002</p> <p>\u53ea\u5728\u201c\u7279\u5b9a\u7684\u4f4d\u7f6e\u201d\u8bb0\u5f55 \u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4f4d\u7f6e\u88ab\u79f0\u4e3a\u5b89\u5168\u70b9\uff08Safepoint\uff09\u3002\u6709\u4e86\u5b89\u5168\u70b9\u7684\u8bbe\u5b9a\uff0c\u4e5f\u5c31\u51b3\u5b9a\u4e86\u7528\u6237\u7a0b\u5e8f\u6267\u884c\u65f6 \u5e76\u975e\u5728\u4ee3\u7801\u6307\u4ee4\u6d41\u7684\u4efb\u610f\u4f4d\u7f6e\u90fd\u80fd\u591f\u505c\u987f\u4e0b\u6765\u5f00\u59cb\u5783\u573e\u6536\u96c6\uff0c\u800c\u662f\u5f3a\u5236\u8981\u6c42\u5fc5\u987b\u6267\u884c\u5230\u8fbe\u5b89\u5168\u70b9\u540e\u624d\u80fd\u591f\u6682\u505c\u3002</p> <p>\u5b89\u5168\u70b9\u7684\u4f4d\u7f6e\u9700\u8981\u6839\u636e\u6267\u884c\u65f6\u95f4\uff08\u5783\u573e\u56de\u6536\u4e0d\u80fd\u8fc7\u4e8e\u9891\u7e41\u4e5f\u4e0d\u80fd\u76f8\u9694\u8fc7\u4e45\uff09\u51b3\u5b9a\u3002\u5728\u7ebf\u7a0b\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5982\u4f55\u8ba9\u591a\u4e2a\u7ebf\u7a0b\u5c3d\u91cf\u5feb\u7684\u90fd\u5230\u5b89\u5168\u70b9\u3002</p> <ul> <li> <p>\u62a2\u5148\u5f0f\u4e2d\u65ad\uff1a\u4e0d\u9700\u8981\u7ebf\u7a0b\u7684\u6267\u884c\u4ee3\u7801\u4e3b\u52a8\u53bb\u914d\u5408\uff0c\u5728\u5783\u573e\u6536\u96c6\u53d1\u751f\u65f6\uff0c\u7cfb\u7edf\u9996\u5148\u628a\u6240\u6709\u7528\u6237\u7ebf\u7a0b\u5168\u90e8\u4e2d\u65ad\uff0c\u5982\u679c\u53d1\u73b0\u6709\u7528\u6237\u7ebf\u7a0b\u4e2d\u65ad\u7684\u5730 \u65b9\u4e0d\u5728\u5b89\u5168\u70b9\u4e0a\uff0c\u5c31\u6062\u590d\u8fd9\u6761\u7ebf\u7a0b\u6267\u884c\uff0c\u8ba9\u5b83\u4e00\u4f1a\u518d\u91cd\u65b0\u4e2d\u65ad\uff0c\u76f4\u5230\u8dd1\u5230\u5b89\u5168\u70b9\u4e0a</p> </li> <li> <p>\u4e3b\u52a8\u5f0f\u4e2d\u65ad\uff1a\u662f\u5f53\u5783\u573e\u6536\u96c6\u9700\u8981\u4e2d\u65ad\u7ebf\u7a0b\u7684\u65f6\u5019\uff0c\u4e0d\u76f4\u63a5\u5bf9\u7ebf\u7a0b\u64cd\u4f5c\uff0c\u4ec5\u4ec5\u7b80\u5355\u5730\u8bbe\u7f6e\u4e00 \u4e2a\u6807\u5fd7\u4f4d\uff0c\u5404\u4e2a\u7ebf\u7a0b\u6267\u884c\u8fc7\u7a0b\u65f6\u4f1a\u4e0d\u505c\u5730\u4e3b\u52a8\u53bb\u8f6e\u8be2\u8fd9\u4e2a\u6807\u5fd7\uff0c\u4e00\u65e6\u53d1\u73b0\u4e2d\u65ad\u6807\u5fd7\u4e3a\u771f\u65f6\u5c31\u81ea\u5df1\u5728\u6700 \u8fd1\u7684\u5b89\u5168\u70b9\u4e0a\u4e3b\u52a8\u4e2d\u65ad\u6302\u8d77\u3002\u8f6e\u8be2\u6807\u5fd7\u7684\u5730\u65b9\u548c\u5b89\u5168\u70b9\u662f\u91cd\u5408\u7684\uff0c\u53e6\u5916\u8fd8\u8981\u52a0\u4e0a\u6240\u6709\u521b\u5efa\u5bf9\u8c61\u548c\u5176\u4ed6 \u9700\u8981\u5728Java\u5806\u4e0a\u5206\u914d\u5185\u5b58\u7684\u5730\u65b9\uff0c\u8fd9\u662f\u4e3a\u4e86\u68c0\u67e5\u662f\u5426\u5373\u5c06\u8981\u53d1\u751f\u5783\u573e\u6536\u96c6\uff0c\u907f\u514d\u6ca1\u6709\u8db3\u591f\u5185\u5b58\u5206\u914d\u65b0 \u5bf9\u8c61\u3002</p> </li> </ul> <p>\u7531\u4e8e\u8f6e\u8be2\u64cd\u4f5c\u5728\u4ee3\u7801\u4e2d\u4f1a\u9891\u7e41\u51fa\u73b0\uff0c\u8fd9\u8981\u6c42\u5b83\u5fc5\u987b\u8db3\u591f\u9ad8\u6548\u3002HotSpot\u4f7f\u7528\u5185\u5b58\u4fdd\u62a4\u9677\u9631\u7684\u65b9\u5f0f\uff0c \u628a\u8f6e\u8be2\u64cd\u4f5c\u7cbe\u7b80\u81f3\u53ea\u6709\u4e00\u6761\u6c47\u7f16\u6307\u4ee4\u7684\u7a0b\u5ea6\u3002   \u5f53\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\u65f6\uff0c\u865a\u62df\u673a\u628a\u67d0\u4e2a\u5185\u5b58\u9875\u8bbe\u7f6e\u4e3a\u4e0d\u53ef\u8bfb\uff0c\u90a3\u7ebf\u7a0b\u6267\u884c\u5230\u6307\u4ee4\u65f6\u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2a\u81ea\u9677\u5f02\u5e38\u4fe1\u53f7\uff0c\u7136\u540e\u5728\u9884\u5148\u6ce8\u518c\u7684\u5f02\u5e38\u5904\u7406\u5668\u4e2d\u6302\u8d77\u7ebf\u7a0b\u5b9e\u73b0\u7b49\u5f85\uff0c\u8fd9\u6837\u4ec5\u901a\u8fc7\u4e00\u6761\u6c47\u7f16\u6307\u4ee4\u4fbf\u5b8c\u6210\u5b89\u5168\u70b9\u8f6e\u8be2\u548c\u89e6\u53d1\u7ebf\u7a0b\u4e2d\u65ad\u4e86\u3002</p>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_3","title":"\u5b89\u5168\u533a\u57df","text":"<p>\u5b89\u5168\u70b9\u57fa\u672c\u89e3\u51b3\u4e86\u5e76\u53d1\u60c5\u51b5\u4e0b\u7684\u6839\u8282\u70b9\u679a\u4e3e\u7684\u95ee\u9898\uff0c\u4f46\u662f\u9700\u8981\u57fa\u4e8e\u7ebf\u7a0b\u662f\u53ef\u8fd0\u884c\u7684\uff0c\u5f53\u7ebf\u7a0b\u5904\u4e8e\u963b\u585e\u6216\u8005\u7b49\u5f85\u7684\u72b6\u6001\u65f6\uff0c\u6ca1\u529e\u6cd5\u5728\u8fd1\u671f\u5230\u8fbe\u5b89\u5168\u70b9\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u5b89\u5168\u533a\u57df\u4e86\u3002</p> <p>\u5b89\u5168\u533a\u57df\u662f\u6307\u80fd\u591f\u786e\u4fdd\u5728\u67d0\u4e00\u6bb5\u4ee3\u7801\u7247\u6bb5\u4e4b\u4e2d\uff0c\u5f15\u7528\u5173\u7cfb\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u56e0\u6b64\uff0c\u5728\u8fd9\u4e2a\u533a\u57df\u4e2d\u4efb \u610f\u5730\u65b9\u5f00\u59cb\u5783\u573e\u6536\u96c6\u90fd\u662f\u5b89\u5168\u7684\u3002</p> <p>\u5f53\u7528\u6237\u7ebf\u7a0b\u6267\u884c\u5230\u5b89\u5168\u533a\u57df\u91cc\u9762\u7684\u4ee3\u7801\u65f6\uff0c\u9996\u5148\u4f1a\u6807\u8bc6\u81ea\u5df1\u5df2\u7ecf\u8fdb\u5165\u4e86\u5b89\u5168\u533a\u57df\uff0c\u90a3\u6837\u5f53\u8fd9\u6bb5\u65f6\u95f4\u91cc\u865a\u62df\u673a\u8981\u53d1\u8d77\u5783\u573e\u6536\u96c6\u65f6\u5c31\u4e0d\u5fc5\u53bb\u7ba1\u8fd9\u4e9b\u5df2\u58f0\u660e\u81ea\u5df1\u5728\u5b89\u5168\u533a\u57df\u5185\u7684\u7ebf\u7a0b\u4e86\u3002\u5f53\u7ebf\u7a0b\u8981\u79bb\u5f00\u5b89\u5168\u533a\u57df\u65f6\uff0c\u5b83\u8981\u68c0\u67e5\u865a\u62df\u673a\u662f\u5426\u5df2\u7ecf\u5b8c\u6210\u4e86\u6839\u8282\u70b9\u679a\u4e3e\uff08\u6216\u8005\u5783\u573e\u6536\u96c6\u8fc7\u7a0b\u4e2d\u5176\u4ed6\u9700\u8981\u6682\u505c\u7528\u6237\u7ebf\u7a0b\u7684\u9636\u6bb5\uff09\uff0c\u5982\u679c\u5b8c\u6210\u4e86\uff0c\u90a3\u7ebf\u7a0b\u5c31\u5f53\u4f5c\u6ca1\u4e8b\u53d1\u751f\u8fc7\uff0c\u7ee7\u7eed\u6267\u884c\uff1b\u5426\u5219\u5b83\u5c31\u5fc5\u987b\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u6536\u5230\u53ef\u4ee5 \u79bb\u5f00\u5b89\u5168\u533a\u57df\u7684\u4fe1\u53f7\u4e3a\u6b62\u3002</p>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_4","title":"\u8bb0\u5fc6\u96c6\u548c\u5361\u8868","text":"<p>\u4e3a\u89e3\u51b3\u5bf9\u8c61\u8de8\u4ee3\u5f15\u7528\u6240\u5e26\u6765\u7684\u95ee\u9898\uff0c\u5783\u573e\u6536\u96c6\u5668\u5728\u65b0\u751f\u4ee3\u4e2d\u5efa\u7acb\u4e86\u540d\u4e3a\u8bb0\u5fc6\u96c6\uff08Remembered Set\uff09\u7684\u6570\u636e\u7ed3\u6784\uff0c\u7528\u4ee5\u907f\u514d\u628a\u6574\u4e2a\u8001\u5e74\u4ee3\u52a0\u8fdb GC Roots \u626b\u63cf\u8303\u56f4\u3002</p> <p>\u8bb0\u5fc6\u96c6\u662f\u4e00\u79cd\u7528\u4e8e\u8bb0\u5f55\u4ece\u975e\u6536\u96c6\u533a\u57df\u6307\u5411\u6536\u96c6\u533a\u57df\u7684\u6307\u9488\u96c6\u5408\u7684\u62bd\u8c61\u6570\u636e\u7ed3\u6784\u3002\u5728\u5783\u573e\u6536\u96c6\u7684\u573a\u666f\u4e2d\uff0c\u6536\u96c6\u5668\u53ea\u9700\u8981\u901a\u8fc7\u8bb0\u5fc6\u96c6\u5224\u65ad\u51fa\u67d0\u4e00\u5757\u975e\u6536\u96c6\u533a\u57df\u662f\u5426\u5b58\u5728\u6709\u6307\u5411\u4e86\u6536\u96c6\u533a\u57df\u7684\u6307\u9488\u5c31\u53ef\u4ee5\u4e86\uff0c\u5e76\u4e0d\u9700\u8981\u4e86\u89e3\u8fd9\u4e9b\u8de8\u4ee3\u6307\u9488\u7684\u5168\u90e8\u7ec6\u8282\u3002</p> <p>\u8bb0\u5fc6\u96c6\u6709\u4e0d\u540c\u7684\u7cbe\u5ea6\uff1a</p> <ul> <li>\u5b57\u957f\u7cbe\u5ea6</li> <li>\u5bf9\u8c61\u7cbe\u5ea6</li> <li>\u5361\u7cbe\u5ea6</li> </ul> <p>\u5b57\u8282\u6570\u7ec4CARD_TABLE\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u5bf9\u5e94\u7740\u5176\u6807\u8bc6\u7684\u5185\u5b58\u533a\u57df\u4e2d\u4e00\u5757\u7279\u5b9a\u5927\u5c0f\u7684\u5185\u5b58\u5757\uff0c\u8fd9\u4e2a \u5185\u5b58\u5757\u88ab\u79f0\u4f5c\u201c\u5361\u9875\u201d\uff08Card Page\uff09\u3002</p>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_5","title":"\u5199\u5c4f\u969c","text":"<p>\u5361\u8868\u5143\u7d20\u4f55\u65f6\u53d8\u810f\u7684\u7b54\u6848\u662f\u5f88\u660e\u786e\u7684\u2014\u2014\u6709\u5176\u4ed6\u5206\u4ee3\u533a\u57df\u4e2d\u5bf9\u8c61\u5f15\u7528\u4e86\u672c\u533a\u57df\u5bf9\u8c61\u65f6\uff0c\u5176\u5bf9\u5e94\u7684 \u5361\u8868\u5143\u7d20\u5c31\u5e94\u8be5\u53d8\u810f\uff0c\u53d8\u810f\u65f6\u95f4\u70b9\u539f\u5219\u4e0a\u5e94\u8be5\u53d1\u751f\u5728\u5f15\u7528\u7c7b\u578b\u5b57\u6bb5\u8d4b\u503c\u7684\u90a3\u4e00\u523b\u3002\u7ecf\u8fc7\u5373\u65f6\u7f16\u8bd1\u540e\u7684\u4ee3 \u7801\u5df2\u7ecf\u662f\u7eaf\u7cb9\u7684\u673a\u5668\u6307\u4ee4\u6d41\u4e86\uff0c\u8fd9\u5c31\u5fc5\u987b\u627e\u5230\u4e00\u4e2a\u5728\u673a\u5668\u7801\u5c42\u9762\u7684\u624b\u6bb5\uff0c\u628a\u7ef4\u62a4\u5361\u8868\u7684\u52a8\u4f5c\u653e\u5230\u6bcf\u4e00\u4e2a\u8d4b\u503c\u64cd\u4f5c\u4e4b\u4e2d\u3002</p> <p>\u5728 HotSpot \u865a\u62df\u673a\u91cc\u662f\u901a\u8fc7\u5199\u5c4f\u969c\uff08Write Barrier\uff09\u6280\u672f\u7ef4\u62a4\u5361\u8868\u72b6\u6001\u7684\u3002\u5728\u8d4b\u503c\u524d\u7684\u90e8\u5206\u7684\u5199\u5c4f\u969c\u53eb\u4f5c\u5199\u524d\u5c4f\u969c\uff08Pre-Write Barrier\uff09\uff0c\u5728\u8d4b\u503c \u540e\u7684\u5219\u53eb\u4f5c\u5199\u540e\u5c4f\u969c\uff08Post-Write Barrier\uff09\uff0c\u66f4\u65b0\u5361\u8868\u7c7b\u4f3c\u4e8e AOP \u4e2d\u7684\u4e00\u4e2a\u5207\u9762\u3002</p> <p>\u5361\u8868\u7684\u66f4\u65b0\u9762\u4e34\u7740\u4f2a\u5171\u4eab\u7684\u95ee\u9898\uff08CPU \u591a\u4e2a\u6838\u5fc3\u4f7f\u7528\u540c\u4e00\u5757\u5185\u5b58\u533a\u57df\uff0c\u9700\u8981\u4e0d\u65ad\u7684\u4ea4\u66ff\u8fdb\u884c\u66f4\u65b0\uff0c\u7f13\u5b58\u5931\u6548\uff0c\u4ece\u4e3b\u5b58\u8bfb\u53d6\uff09\uff0c\u4e00\u79cd\u7b80\u5355\u7684\u89e3\u51b3\u65b9\u6848\u662f\u4e0d\u91c7\u7528\u65e0\u6761\u4ef6\u7684\u5199\u5c4f\u969c\uff0c\u800c\u662f\u5148\u68c0\u67e5\u5361\u8868\u6807\u8bb0\uff0c\u53ea\u6709\u5f53\u8be5\u5361\u8868\u5143 \u7d20\u672a\u88ab\u6807\u8bb0\u8fc7\u65f6\u624d\u5c06\u5176\u6807\u8bb0\u4e3a\u53d8\u810f\u3002</p>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_6","title":"\u5e76\u53d1\u7684\u53ef\u8fbe\u6027\u5206\u6790","text":""},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_7","title":"\u4e09\u8272\u6807\u8bb0","text":"<p>\u53ef\u4eceGC Roots\u518d\u7ee7\u7eed\u5f80\u4e0b\u904d\u5386\u5bf9\u8c61 \u56fe\uff0c\u8fd9\u4e00\u6b65\u9aa4\u7684\u505c\u987f\u65f6\u95f4\u5c31\u5fc5\u5b9a\u4f1a\u4e0eJava\u5806\u5bb9\u91cf\u76f4\u63a5\u6210\u6b63\u6bd4\u4f8b\u5173\u7cfb\u4e86\uff1a\u5806\u8d8a\u5927\uff0c\u5b58\u50a8\u7684\u5bf9\u8c61\u8d8a\u591a\uff0c\u5bf9 \u8c61\u56fe\u7ed3\u6784\u8d8a\u590d\u6742\uff0c\u8981\u6807\u8bb0\u66f4\u591a\u5bf9\u8c61\u800c\u4ea7\u751f\u7684\u505c\u987f\u65f6\u95f4\u81ea\u7136\u5c31\u66f4\u957f\u3002</p> <p>\u5f53\u4e14\u4ec5\u5f53\u4ee5\u4e0b\u4e24\u4e2a\u6761\u4ef6\u540c\u65f6\u6ee1\u8db3\u65f6\uff0c\u4f1a\u4ea7\u751f\u201c\u5bf9\u8c61\u6d88\u5931\u201d\u7684\u95ee\u9898\uff0c\u5373\u539f\u672c\u5e94\u8be5\u662f\u9ed1\u8272\u7684\u5bf9\u8c61\u88ab\u8bef\u6807\u4e3a\u767d\u8272\uff1a</p> <ul> <li>\u8d4b\u503c\u5668\u63d2\u5165\u4e86\u4e00\u6761\u6216\u591a\u6761\u4ece\u9ed1\u8272\u5bf9\u8c61\u5230\u767d\u8272\u5bf9\u8c61\u7684\u65b0\u5f15\u7528\uff1b</li> <li>\u8d4b\u503c\u5668\u5220\u9664\u4e86\u5168\u90e8\u4ece\u7070\u8272\u5bf9\u8c61\u5230\u8be5\u767d\u8272\u5bf9\u8c61\u7684\u76f4\u63a5\u6216\u95f4\u63a5\u5f15\u7528\uff1b</li> </ul>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_8","title":"\u589e\u91cf\u66f4\u65b0","text":"<p>\u7834\u574f\u7b2c\u4e00\u4e2a\u6761\u4ef6</p> <p>\u9ed1\u8272\u5bf9\u8c61\u4e00\u65e6\u65b0\u63d2\u5165\u4e86\u6307\u5411\u767d\u8272\u5bf9\u8c61\u7684\u5f15\u7528\u4e4b\u540e\uff0c\u5b83\u5c31\u53d8\u56de\u7070\u8272\u5bf9\u8c61\u3002</p>"},{"location":"java/Hotspot%20GC%20%E7%89%B9%E6%80%A7/#_9","title":"\u539f\u59cb\u5feb\u7167","text":"<p>\u7834\u574f\u7b2c\u4e8c\u4e2a\u6761\u4ef6</p> <p>\u65e0\u8bba\u5f15\u7528\u5173\u7cfb\u5220\u9664\u4e0e\u5426\uff0c\u90fd\u4f1a\u6309\u7167\u521a\u521a\u5f00\u59cb\u626b\u63cf\u90a3\u4e00\u523b\u7684\u5bf9\u8c61\u56fe\u5feb\u7167\u6765\u8fdb\u884c\u641c\u7d22\u3002</p> <p>\u4ee5\u4e0a\u65e0\u8bba\u662f\u5bf9\u5f15\u7528\u5173\u7cfb\u8bb0\u5f55\u7684\u63d2\u5165\u8fd8\u662f\u5220\u9664\uff0c\u865a\u62df\u673a\u7684\u8bb0\u5f55\u64cd\u4f5c\u90fd\u662f\u901a\u8fc7\u5199\u5c4f\u969c\u5b9e\u73b0\u7684\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/","title":"JVM \u5783\u573e\u56de\u6536\u6982\u89c8","text":""},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_1","title":"\u6574\u7406\u81ea\u4ee5\u4e0b\u5185\u5bb9","text":"<p>\u6df1\u5165\u7406\u89e3 Java \u865a\u62df\u673a\uff1aJVM\u9ad8\u7ea7\u7279\u6027\u4e0e\u6700\u4f73\u5b9e\u8df5\uff08\u7b2c3\u7248\uff09\u5468\u5fd7\u660e</p> <p>(8\u6761\u6d88\u606f) Java\u4e2d\u7684\u5783\u573e\u6536\u96c6\u5668\u5982\u4f55\u8bbe\u7f6e \u2014 JVM\u7cfb\u5217(\u5341)_\u59dc\u79c0\u4e3d\u7684\u535a\u5ba2-CSDN\u535a\u5ba2</p> <p>Jvm \u81ea\u52a8\u5783\u573e\u56de\u6536\u5728\u5806\u548c\u65b9\u6cd5\u533a\u4e2d\u5e94\u7528\uff0c\u5176\u4ed6\u7684\u5185\u5b58\u533a\u57df\uff0c\u6bd4\u5982\u7a0b\u5e8f\u8ba1\u6570\u5668\uff0c\u865a\u62df\u673a\u6808\uff0c\u672c\u5730\u65b9\u6cd5\u6808\u968f\u4ee3\u7801\u548c\u6267\u884c\u800c\u51fa\u6808\uff0c\u8fdb\u6808\uff0c\u65e0\u9700\u7279\u610f\u8fdb\u884c\u5185\u5b58\u7ba1\u7406\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_2","title":"\u5783\u573e\u6536\u96c6\u5668\u6982\u89c8","text":"<ol> <li>Serial \u6536\u96c6\u5668\uff1a\u5386\u53f2\u6700\u60a0\u4e45\uff0c\u5355\u7ebf\u7a0b\u5de5\u4f5c\uff0c\u56de\u6536\u5783\u573e\u65f6\uff0c\u5fc5\u987b\u6682\u505c\u7528\u6237\u8fdb\u7a0b\uff0c\u91c7\u7528\u590d\u5236\u7b97\u6cd5\uff1b</li> <li>ParNew\u6536\u96c6\u5668\uff1a\u672c\u8d28\u4e3a Serial \u6536\u96c6\u5668\u7684\u591a\u7ebf\u7a0b\u7248\u672c\uff0c\u91c7\u7528\u590d\u5236\u7b97\u6cd5\uff1b</li> <li>Parallel scavenge\uff1a\u5177\u5907\u81ea\u4f7f\u7528\u8c03\u8282\u529f\u80fd\uff0c\u4ee5\u63d0\u4f9b\u6700\u5408\u9002\u7684\u6682\u505c\u65f6\u95f4\u548c\u541e\u5410\u91cf\uff0c\u91c7\u7528\u590d\u5236\u7b97\u6cd5\uff1b</li> <li>Serial old \u6536\u96c6\u5668\uff1a\u662fSerial \u6536\u96c6\u5668\u7684\u8001\u5e74\u4ee3\u7248\u672c\uff0c\u540c\u6837\u4e3a\u5355\u7ebf\u7a0b\uff0c\u4f46\u91c7\u7528\u7684\u662f\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\uff1b</li> <li>Parallel old \u6536\u96c6\u5668\uff1aParallel scavenge \u6536\u96c6\u5668\u7684\u8001\u5e74\u4ee3\u7248\u672c\uff0c\u591a\u7ebf\u7a0b\uff0c\u91c7\u7528\u7684\u662f\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\uff1b</li> <li>CMS \u6536\u96c6\u5668\uff1a\u5373Concurrent Mark Sweep\u6536\u96c6\u5668\uff0c\u4ee5\u83b7\u53d6\u6700\u77ed\u505c\u987f\u65f6\u95f4\u4e3a\u76ee\u6807\uff0c\u91c7\u7528\u201c\u6807\u8bb0-\u6e05\u9664\u201d\u7b97\u6cd5\uff1b</li> <li>G1 \u6536\u96c6\u5668\uff1a \u5373Garbage-First\u6536\u96c6\u5668\uff0c\u662f\u76ee\u524d\u6700\u65b0\u7684\u6536\u96c6\u5668\uff0c\u91c7\u7528\u4e0e\u5176\u5b83\u6536\u96c6\u5668\u5b8c\u5168\u4e0d\u901a\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u5386\u65f6\u5341\u5e74\u624d\u5b9e\u73b0\u5546\u7528\uff0c\u91c7\u7528\u4e86\u6df7\u5408\u7b97\u6cd5\uff0c\u517c\u6709\u201c\u590d\u5236\u201d\u548c\u201c\u6807\u8bb0-\u6574\u7406\u201d\u7b97\u6cd5\u7684\u7279\u70b9\uff1b</li> </ol> <p>jvm \u53c2\u6570\u6307\u5b9a\uff1a</p> <ul> <li>-XX:+UseSerialGC\uff0c\u865a\u62df\u673a\u8fd0\u884c\u5728Client\u6a21\u5f0f\u4e0b\u7684\u9ed8\u8ba4\u503c\uff0cSerial+Serial Old\u3002</li> <li>-XX:+UseParNewGC\uff0cParNew+Serial Old\uff0c\u5728JDK1.8\u88ab\u5e9f\u5f03\uff0c\u5728JDK1.7\u8fd8\u53ef\u4ee5\u4f7f\u7528\u3002</li> <li>-XX:+UseConcMarkSweepGC\uff0cParNew+CMS+Serial Old\u3002</li> <li>-XX:+UseParallelGC\uff0c\u865a\u62df\u673a\u8fd0\u884c\u5728Server\u6a21\u5f0f\u4e0b\u7684\u9ed8\u8ba4\u503c\uff0cParallel Scavenge+Serial Old(PS Mark Sweep)\u3002</li> <li>-XX:+UseParallelOldGC\uff0cParallel Scavenge+Parallel Old\u3002</li> <li>-XX:+UseG1GC\uff0cG1+G1\u3002</li> </ul>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_3","title":"\u54ea\u4e9b\u5bf9\u8c61\u9700\u8981\u56de\u6536\uff1f","text":"<p>\u5f53\u7136\u662f\u4e0d\u4f1a\u88ab\u4f7f\u7528\u7684\u5bf9\u8c61\u9700\u8981\u56de\u6536\uff0c\u90a3\u4e48\u5982\u4f55\u786e\u5b9a\u54ea\u4e9b\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u4f7f\u7528\uff1f</p> <p>\u6211\u4eec\u6ca1\u6709\u529e\u6cd5\u901a\u8fc7\u5206\u6790\u9759\u6001\u4ee3\u7801\u6765\u786e\u5b9a\u4e00\u4e2a\u5bf9\u8c61\u4f1a\u4e0d\u4f1a\u5728\u4e4b\u540e\u88ab\u4f7f\u7528\u5230\uff0c\u9700\u8981\u4e00\u4e2a\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u4f7f\u7528\u7684\u5145\u5206\u6761\u4ef6\uff1a\u4e0d\u5b58\u5728\u4e00\u4e2a\u6307\u5411\u5bf9\u8c61\u7684\u5f15\u7528\u3002\u5f15\u7528\u8ba1\u6570\u6cd5\u548c\u53ef\u8fbe\u6027\u5206\u6790\u90fd\u662f\u57fa\u4e8e\u662f\u5426\u8fd8\u5b58\u5728\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u5e94\u8be5\u88ab\u56de\u6536\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#4","title":"4 \u7c7b\u5f15\u7528","text":"<p>Java \u4e2d\u7684\u5f15\u7528\u4f9d\u636e\u5783\u573e\u5668\u4e0d\u540c\u7684\u56de\u6536\u7b56\u7565\u5206\u4e3a 4 \u7c7b\uff1a</p> <ul> <li>\u5f3a\u5f15\u7528\uff1a\u6211\u4eec\u5728\u4ee3\u7801\u4e2d\u521b\u5efa\u7684\u5f15\u7528\u53d8\u91cf\u5927\u90e8\u5206\u5c5e\u4e8e\u5f3a\u5f15\u7528\uff0c\u53ea\u8981\u6709\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f3a\u5f15\u7528\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u4e0d\u4f1a\u88ab\u56de\u6536</li> </ul>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_4","title":"\u5f15\u7528\u8ba1\u6570\u6cd5","text":"<p>\u8ba1\u7b97\u6bcf\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u7684\u6570\u91cf\uff0c\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u6570\u91cf\u4e3a 0\uff0c\u90a3\u4e48\u610f\u5473\u7740\u5f53\u524d\u5bf9\u8c61\u5df2\u7ecf\u4e0d\u4f1a\u88ab\u4f7f\u7528\u4e86\uff0c\u53ef\u4ee5\u88ab\u56de\u6536\uff0c\u540c\u65f6\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u80fd\u8fd8\u6301\u6709\u5bf9\u5176\u4ed6\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u90a3\u4e48\u5728\u56de\u6536\u8fd9\u4e2a\u5bf9\u8c61\u540e\uff0c\u9700\u8981\u66f4\u65b0\u5176\u5f15\u7528\u7684\u5bf9\u8c61\u4e0a\u5bf9\u5f15\u7528\u7684\u8ba1\u6570\u3002</p> <p>\u8fd9\u4f1a\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u5373\u4e24\u4e2a\u5bf9\u8c61\u5faa\u73af\u5f15\u7528\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u90fd\u65e0\u6cd5\u88ab\u56de\u6536\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_5","title":"\u53ef\u8fbe\u6027\u5206\u6790","text":"<p>\u901a\u8fc7\u4e00\u4e9b\u79f0\u4e3a\u201cGC Root\u201d\u7684\u5bf9\u8c61\u96c6\u5408\u4f5c\u4e3a\u521d\u59cb\u8282\u70b9\uff0c\u9012\u5f52\u7684\u641c\u7d22\u51fa\u6240\u6709\u7684\u5f15\u7528\uff0c\u5982\u679c\u5728\u641c\u7d22\u7ed3\u675f\u4e4b\u540e\u4e00\u4e2a\uff0c\u5f15\u7528\u7684\u7ed3\u679c\u96c6\u4e2d\u6ca1\u6709\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u90a3\u4e48\u5c31\u8868\u793a\u65e0\u8bba\u65e0\u4f55\u90fd\u4e0d\u53ef\u80fd\u5f97\u5230\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u9700\u8981\u88ab\u56de\u6536\u3002</p> <p>Jvm \u4e2d\u56fa\u5b9a\u4f5c\u4e3a GC Root \u7684\u6709\uff1a</p> <ul> <li>\u5728\u865a\u62df\u673a\u6808\uff08\u6808\u5e27\u4e2d\u7684\u672c\u5730\u53d8\u91cf\u8868\uff09\u4e2d\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u8b6c\u5982\u5404\u4e2a\u7ebf\u7a0b\u88ab\u8c03\u7528\u7684\u65b9\u6cd5\u5806\u6808\u4e2d\u4f7f\u7528\u5230\u7684\u53c2\u6570\u3001\u5c40\u90e8\u53d8\u91cf\u3001\u4e34\u65f6\u53d8\u91cf\u7b49</li> <li>\u5728\u65b9\u6cd5\u533a\u4e2d\u7c7b\u9759\u6001\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u8b6c\u5982Java\u7c7b\u7684\u5f15\u7528\u7c7b\u578b\u9759\u6001\u53d8\u91cf</li> <li>\u5728\u65b9\u6cd5\u533a\u4e2d\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u8b6c\u5982\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\uff08String Table\uff09\u91cc\u7684\u5f15\u7528</li> <li>\u5728\u672c\u5730\u65b9\u6cd5\u6808\u4e2dJNI\uff08\u5373\u901a\u5e38\u6240\u8bf4\u7684Native\u65b9\u6cd5\uff09\u5f15\u7528\u7684\u5bf9\u8c61</li> <li>Java\u865a\u62df\u673a\u5185\u90e8\u7684\u5f15\u7528\uff0c\u5982\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5bf9\u5e94\u7684Class\u5bf9\u8c61\uff0c\u4e00\u4e9b\u5e38\u9a7b\u7684\u5f02\u5e38\u5bf9\u8c61\uff08\u6bd4\u5982 NullPointExcepiton\u3001OutOfMemoryError\uff09\u7b49\uff0c\u8fd8\u6709\u7cfb\u7edf\u7c7b\u52a0\u8f7d\u5668</li> <li>\u6240\u6709\u88ab\u540c\u6b65\u9501\uff08synchronized\u5173\u952e\u5b57\uff09\u6301\u6709\u7684\u5bf9\u8c61</li> <li>\u53cd\u6620Java\u865a\u62df\u673a\u5185\u90e8\u60c5\u51b5\u7684JMXBean\u3001JVMTI\u4e2d\u6ce8\u518c\u7684\u56de\u8c03\u3001\u672c\u5730\u4ee3\u7801\u7f13\u5b58\u7b49</li> </ul> <p>\u6839\u636e\u5783\u573e\u56de\u6536\u5668\u7684\u4e0d\u540c\uff0c\u548c\u4e0d\u540c\u7684\u5783\u573e\u56de\u6536\uff08\u6bd4\u5982\u9488\u5bf9\u8001\u5e74\u4ee3\u548c\u65b0\u751f\u4ee3\u7684\u5783\u573e\u56de\u6536\uff09GC Root \u4e2d\u8fd8\u4f1a\u5305\u62ec\u5176\u4ed6\u7684\u4e00\u4e9b\u533a\u57df\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_6","title":"\u6839\u8282\u70b9\u679a\u4e3e","text":"<p>\u53ef\u8fbe\u6027\u5206\u6790\u7b97\u6cd5\u8017\u65f6\u6700\u957f\u7684\u67e5\u627e\u5f15\u7528\u94fe\u7684\u8fc7\u7a0b\u5df2\u7ecf\u53ef\u4ee5\u505a\u5230\u4e0e\u7528\u6237\u7ebf\u7a0b\u4e00\u8d77\u5e76\u53d1\uff0c\u4f46\u662f\u6240\u6709\u6536\u96c6\u5668\u5728\u6839\u8282\u70b9\u679a\u4e3e\u8fd9\u4e00\u6b65\u9aa4\u65f6\u90fd\u662f\u5fc5\u987b\u6682\u505c\u7528\u6237\u7ebf\u7a0b\u7684\u3002</p> <p>\u5f53\u7528\u6237\u7ebf\u7a0b\u505c\u987f\u4e0b\u6765\u4e4b\u540e\uff0c\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u4e00\u4e2a\u4e0d\u6f0f\u5730\u68c0\u67e5\u5b8c\u6240\u6709\u6267\u884c\u4e0a\u4e0b\u6587\u548c\u5168\u5c40\u7684\u5f15\u7528\u4f4d\u7f6e\uff0c\u865a\u62df\u673a\u5e94\u5f53\u662f\u6709\u529e\u6cd5\u76f4\u63a5\u5f97\u5230\u54ea\u4e9b\u5730\u65b9\u5b58\u653e\u7740\u5bf9\u8c61\u5f15\u7528\u7684\u3002\u5728HotSpot \u7684\u89e3\u51b3\u65b9\u6848\u91cc\uff0c\u662f\u4f7f\u7528\u4e00\u7ec4\u79f0\u4e3a OopMap \u7684\u6570\u636e\u7ed3\u6784\u6765\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684\u3002\u4e00\u65e6\u7c7b\u52a0\u8f7d\u52a8\u4f5c\u5b8c\u6210\u7684\u65f6\u5019\uff0c HotSpot \u5c31\u4f1a\u628a\u5bf9\u8c61\u5185\u4ec0\u4e48\u504f\u79fb\u91cf\u4e0a\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u6570\u636e\u8ba1\u7b97\u51fa\u6765\uff0c\u5728\u5373\u65f6\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u5728\u7279\u5b9a\u7684\u4f4d\u7f6e\u8bb0\u5f55\u4e0b\u6808\u91cc\u548c\u5bc4\u5b58\u5668\u91cc\u54ea\u4e9b\u4f4d\u7f6e\u662f\u5f15\u7528\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_7","title":"\u5783\u573e\u56de\u6536\u7b97\u6cd5","text":""},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_8","title":"\u5206\u4ee3\u6536\u96c6\u7406\u8bba","text":"<ul> <li>\u5f31\u5206\u4ee3\u5047\u8bf4\uff08Weak Generational Hypothesis\uff09\uff1a\u7edd\u5927\u591a\u6570\u5bf9\u8c61\u90fd\u662f\u671d\u751f\u5915\u706d\u7684\u3002</li> <li>\u5f3a\u5206\u4ee3\u5047\u8bf4\uff08Strong Generational Hypothesis\uff09\uff1a\u71ac\u8fc7\u8d8a\u591a\u6b21\u5783\u573e\u6536\u96c6\u8fc7\u7a0b\u7684\u5bf9\u8c61\u5c31\u8d8a\u96be\u4ee5\u6d88\u4ea1\u3002</li> <li>\u8de8\u4ee3\u5f15\u7528\u5047\u8bf4\uff08Intergenerational Reference Hypothesis\uff09\uff1a\u8de8\u4ee3\u5f15\u7528\u76f8\u5bf9\u4e8e\u540c\u4ee3\u5f15\u7528\u6765\u8bf4\u4ec5\u5360\u6781 \u5c11\u6570\u3002</li> </ul>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_9","title":"\u6807\u8bb0\u6e05\u9664","text":"<p>\u9996\u5148\u6807\u8bb0\u51fa\u6240\u6709\u9700\u8981\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u5728\u6807\u8bb0\u5b8c\u6210\u540e\uff0c\u7edf\u4e00\u56de\u6536\u6389\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u53cd\u8fc7\u6765\uff0c\u6807\u8bb0\u5b58\u6d3b\u7684\u5bf9\u8c61\uff0c\u7edf\u4e00\u56de\u6536\u6240\u6709\u672a\u88ab\u6807\u8bb0\u7684\u5bf9\u8c61\u3002</p> <p>\u95ee\u9898\uff1a</p> <ul> <li>\u5806\u7a7a\u95f4\u788e\u7247\u5316</li> <li>\u6267\u884c\u6548\u7387\u4e0d\u7a33\u5b9a\uff0c\u6267\u884c\u65f6\u95f4\u968f\u5bf9\u8c61\u6570\u91cf\u6b63\u6bd4\u4e0a\u5347</li> </ul>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_10","title":"\u6807\u8bb0\u590d\u5236\u7b97\u6cd5","text":"<p>\u5b83\u5c06\u53ef\u7528\u5185\u5b58\u6309\u5bb9\u91cf\u5212\u5206\u4e3a\u591a\u4e2a\u5185\u5b58\u5757\uff08\u6bd4\u5982 1 \u4e2a 80 % \u7684 eden\uff0c2 \u4e2a 10% \u7684 survivor\uff09\uff0c\u6bcf\u6b21\u53ea\u4f7f\u7528\u5176\u4e2d\u7684\u4e00\u5757\u3002\u5f53\u8fd9\u4e00\u5757\u7684\u5185\u5b58\u7528\u5b8c\u4e86\uff0c\u5c31\u5c06\u8fd8\u5b58\u6d3b\u7740\u7684\u5bf9\u8c61\u590d\u5236\u5230\u53e6\u5916\u4e00\u5757\uff08\u53ef\u80fd\u8fd8\u6709\u4e00\u5757\u4f5c\u4e3a\u5206\u914d\u62c5\u4fdd\uff0c\u5728\u4e00\u5757\u5185\u5b58\u533a\u57df\u65e0\u6cd5\u4fdd\u5b58\u6240\u6709\u5bf9\u8c61\u65f6\uff09\u4e0a\u9762\uff0c\u7136\u540e\u518d\u628a\u5df2\u4f7f\u7528\u8fc7\u7684\u5185\u5b58\u7a7a\u95f4\u4e00\u6b21\u6e05\u7406\u6389\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_11","title":"\u6807\u8bb0\u6574\u7406\u7b97\u6cd5","text":"<p>\u7684\u6807\u8bb0\u8fc7\u7a0b\u4ecd\u7136\u4e0e\u201c\u6807\u8bb0 - \u6e05\u9664\u201d\u7b97\u6cd5\u4e00\u6837\uff0c\u4f46\u540e\u7eed\u6b65\u9aa4\u4e0d\u662f\u76f4\u63a5\u5bf9\u53ef\u56de\u6536\u5bf9\u8c61\u8fdb\u884c\u6e05\u7406\uff0c\u800c\u662f\u8ba9\u6240\u6709\u5b58\u6d3b\u7684\u5bf9\u8c61\u90fd\u5411\u5185\u5b58\u7a7a\u95f4\u4e00\u7aef\u52a8\uff0c\u7136\u540e\u76f4\u63a5\u6e05\u7406\u6389\u8fb9\u754c\u4ee5\u5916\u7684\u5185\u5b58\u3002</p>"},{"location":"java/JVM%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%A7%88/#_12","title":"\u662f\u5426\u79fb\u52a8\u5bf9\u8c61","text":"<ul> <li>\u79fb\u52a8\u5bf9\u8c61\uff08\u6807\u8bb0\u6574\u7406\uff09\uff1a\u5982\u679c\u79fb\u52a8\u5b58\u6d3b\u5bf9\u8c61\uff0c\u5c24\u5176\u662f\u5728\u8001\u5e74\u4ee3\u8fd9\u79cd\u6bcf\u6b21\u56de\u6536\u90fd\u6709\u5927\u91cf\u5bf9\u8c61\u5b58\u6d3b\u533a\u57df\uff0c\u79fb\u52a8\u5b58\u6d3b\u5bf9\u8c61\u5e76\u66f4\u65b0\u6240\u6709\u5f15\u7528\u8fd9\u4e9b\u5bf9\u8c61\u7684\u5730\u65b9\u5c06\u4f1a\u662f\u4e00\u79cd\u6781\u4e3a\u8d1f\u91cd\u7684\u64cd\u4f5c\uff0c\u800c\u4e14\u8fd9\u79cd\u5bf9\u8c61\u79fb\u52a8\u64cd\u4f5c\u5fc5\u987b\u5168\u7a0b\u6682\u505c\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u624d\u80fd\u8fdb\u884c</li> <li>\u4e0d\u79fb\u52a8\u5bf9\u8c61\uff08\u6807\u8bb0\u6e05\u9664\uff09\uff1a\u5f25\u6563\u4e8e\u5806\u4e2d\u7684\u5b58\u6d3b\u5bf9\u8c61\u5bfc\u81f4\u7684\u7a7a\u95f4\u788e\u7247\u5316\u95ee\u9898\u5c31\u53ea\u80fd\u4f9d\u8d56\u66f4\u4e3a\u590d\u6742\u7684\u5185\u5b58\u5206\u914d\u5668\u548c\u5185\u5b58\u8bbf\u95ee\u5668\u6765\u89e3\u51b3\uff0c\u5185\u5b58\u7684\u8bbf\u95ee\u662f\u7528\u6237\u7a0b\u5e8f\u6700\u9891\u7e41\u7684\u64cd\u4f5c\uff0c\u751a\u81f3\u90fd\u6ca1\u6709\u4e4b\u4e00\uff0c\u5047\u5982\u5728\u8fd9\u4e2a\u73af\u8282\u4e0a\u589e\u52a0\u4e86\u989d\u5916\u7684\u8d1f\u62c5\uff0c\u52bf\u5fc5\u4f1a\u76f4\u63a5\u5f71\u54cd\u5e94\u7528\u7a0b\u5e8f\u7684\u541e\u5410\u91cf\u3002</li> </ul> <p>HotSpot \u865a\u62df\u673a\u91cc\u9762\u5173\u6ce8\u541e\u5410\u91cf\u7684 Parallel Scavenge \u6536\u96c6\u5668\u662f\u57fa\u4e8e\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u7684\uff0c\u800c\u5173\u6ce8\u5ef6\u8fdf\u7684CMS\u6536\u96c6\u5668\u5219\u662f\u57fa\u4e8e\u6807\u8bb0-\u6e05\u9664\u7b97\u6cd5\u7684\u3002\uff08CMS\u6536\u96c6\u5668\u9762\u4e34\u7a7a\u95f4\u788e\u7247\u8fc7\u591a\u65f6\uff0c\u518d\u91c7\u7528\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u6536\u96c6\u4e00\u6b21\uff0c\u4ee5\u83b7\u5f97\u89c4\u6574\u7684\u5185\u5b58\u7a7a\u95f4\uff09</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/","title":"jvm \u57fa\u672c\u7684\u5783\u573e\u6536\u96c6\u5668","text":""},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#serial","title":"Serial \u6536\u96c6\u5668","text":"<p>\u5355\u7ebf\u7a0b\u7684\u5783\u573e\u6536\u96c6\uff0c\u5b83\u8fdb\u884c\u5783\u573e\u6536\u96c6\u65f6\uff0c\u5fc5\u987b\u6682\u505c\u5176\u4ed6\u6240\u6709\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u76f4\u5230\u5b83\u6536\u96c6\u7ed3\u675f\u3002</p> <p></p> <p>\u65b0\u751f\u4ee3\u6807\u8bb0\u590d\u5236\uff0c\u8001\u5e74\u4ee3\u6807\u8bb0\u6574\u7406\u3002</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#parnew","title":"ParNew \u6536\u96c6\u5668","text":"<p>Serial \u6536\u96c6\u5668\u7684\u591a\u7ebf\u7a0b\u5e76\u884c\u7248\u672c\u3002\u5728\u8fdb\u884c\u5783\u573e\u6536\u96c6\u65f6\uff0c\u540c\u6837\u9700\u8981\u6682\u505c\u6240\u6709\u5de5\u4f5c\u7ebf\u7a0b\u3002</p> <p></p> <p>\u65b0\u751f\u4ee3\u6807\u8bb0\u590d\u5236\uff0c\u8001\u5e74\u4ee3\u6807\u8bb0\u6574\u7406\u3002</p> <p>\u53ea\u6709\u5b83\u80fd\u4e0e CMS \u6536\u96c6\u5668\u914d\u5408\u5de5\u4f5c\u3002</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#parallel-scavenge","title":"Parallel Scavenge \u6536\u96c6\u5668","text":"<p>Parallel Scavenge\u6536\u96c6\u5668\u7684\u7279\u70b9\u662f\u5b83\u7684\u5173\u6ce8\u70b9\u4e0e\u5176\u4ed6\u6536\u96c6\u5668\u4e0d\u540c\uff0cCMS\u7b49\u6536\u96c6\u5668\u7684\u5173\u6ce8\u70b9\u662f\u5c3d\u53ef\u80fd \u5730\u7f29\u77ed\u5783\u573e\u6536\u96c6\u65f6\u7528\u6237\u7ebf\u7a0b\u7684\u505c\u987f\u65f6\u95f4\uff0c\u800cParallel Scavenge\u6536\u96c6\u5668\u7684\u76ee\u6807\u5219\u662f\u8fbe\u5230\u4e00\u4e2a\u53ef\u63a7\u5236\u7684\u541e\u5410 \u91cf\uff08Throughput\uff09\u3002</p> <p>$$ \u541e\u5410\u91cf=\\frac{\u8fd0\u884c\u7528\u6237\u4ee3\u7801\u65f6\u95f4}{\u8fd0\u884c\u7528\u6237\u4ee3\u7801\u65f6\u95f4+\u8fd0\u884c\u5783\u573e\u6536\u96c6\u5668\u65f6\u95f4</p> <p>} $$</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#serial-old","title":"Serial Old \u6536\u96c6\u5668","text":"<p>\u9488\u5bf9\u8001\u5e74\u4ee3\uff0c\u4f7f\u7528\u6807\u8bb0\u6574\u7406\u3002</p> <p>\u5728\u670d\u52a1\u7aef\u6a21\u5f0f\u4e0b\uff0c\u5b83\u4e5f\u53ef\u80fd\u6709\u4e24\u79cd\u7528 \u9014\uff1a\u4e00\u79cd\u662f\u5728JDK 5\u4ee5\u53ca\u4e4b\u524d\u7684\u7248\u672c\u4e2d\u4e0eParallel Scavenge\u6536\u96c6\u5668\u642d\u914d\u4f7f\u7528[1]\uff0c\u53e6\u5916\u4e00\u79cd\u5c31\u662f\u4f5c\u4e3aCMS \u6536\u96c6\u5668\u53d1\u751f\u5931\u8d25\u65f6\u7684\u540e\u5907\u9884\u6848\uff0c\u5728\u5e76\u53d1\u6536\u96c6\u53d1\u751fConcurrent Mode Failure\u65f6\u4f7f\u7528\u3002</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#parallel-old","title":"Parallel Old \u6536\u96c6\u5668","text":"<p>Parallel Scavenge \u6536\u96c6\u5668\u7684\u8001\u5e74\u4ee3\u7248\u672c\uff0c\u652f\u6301\u591a\u7ebf\u7a0b\u5e76\u53d1\u6536\u96c6\uff0c\u57fa\u4e8e\u6807\u8bb0-\u6574\u7406\u7b97\u6cd5\u5b9e\u73b0\u3002</p> <p></p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#cms","title":"CMS \u6536\u96c6\u5668","text":"<p>CMS\uff08Concurrent Mark Sweep\uff09\u6536\u96c6\u5668\u662f\u4e00\u79cd\u4ee5\u83b7\u53d6\u6700\u77ed\u56de\u6536\u505c\u987f\u65f6\u95f4\u4e3a\u76ee\u6807\u7684\u6536\u96c6\u5668\uff08\u4f7f\u7528\u6807\u8bb0\u6e05\u9664\u7b97\u6cd5\uff09\u3002</p> <p>\u5206\u4e3a 4 \u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li>\u521d\u59cb\u6807\u8bb0</li> <li>\u5e76\u53d1\u6807\u8bb0</li> <li>\u91cd\u65b0\u6807\u8bb0</li> <li>\u5e76\u53d1\u6e05\u9664</li> </ul> <p></p> <p>\u521d\u59cb\u6807\u8bb0\u3001\u91cd\u65b0\u6807\u8bb0\u8fd9\u4e24\u4e2a\u6b65\u9aa4\u4ecd\u7136\u9700\u8981\u201cStop The World\u201d\u3002\u521d\u59cb\u6807\u8bb0\u4ec5\u4ec5\u53ea\u662f\u6807\u8bb0\u4e00\u4e0bGC Roots\u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\uff0c\u901f\u5ea6\u5f88\u5feb\uff1b\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u5c31\u662f\u4eceGC Roots\u7684\u76f4\u63a5\u5173\u8054\u5bf9\u8c61\u5f00\u59cb\u904d\u5386\u6574\u4e2a\u5bf9 \u8c61\u56fe\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8017\u65f6\u8f83\u957f\u4f46\u662f\u4e0d\u9700\u8981\u505c\u987f\u7528\u6237\u7ebf\u7a0b\uff0c\u53ef\u4ee5\u4e0e\u5783\u573e\u6536\u96c6\u7ebf\u7a0b\u4e00\u8d77\u5e76\u53d1\u8fd0\u884c\uff1b\u800c\u91cd \u65b0\u6807\u8bb0\u9636\u6bb5\u5219\u662f\u4e3a\u4e86\u4fee\u6b63\u5e76\u53d1\u6807\u8bb0\u671f\u95f4\uff0c\u56e0\u7528\u6237\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u4f5c\u800c\u5bfc\u81f4\u6807\u8bb0\u4ea7\u751f\u53d8\u52a8\u7684\u90a3\u4e00\u90e8\u5206\u5bf9\u8c61\u7684\u6807\u8bb0\u8bb0\u5f55\uff08\u589e\u91cf\u66f4\u65b0 HotSpot \u5783\u573e\u6536\u96c6\u90e8\u5206\u7ec6\u8282 (kicey.site) \uff09\uff0c\u8fd9\u4e2a\u9636\u6bb5\u7684\u505c\u987f\u65f6\u95f4\u901a\u5e38\u4f1a\u6bd4\u521d\u59cb\u6807\u8bb0\u9636\u6bb5\u7a0d\u957f\u4e00 \u4e9b\uff0c\u4f46\u4e5f\u8fdc\u6bd4\u5e76\u53d1\u6807\u8bb0\u9636\u6bb5\u7684\u65f6\u95f4\u77ed\uff1b\u6700\u540e\u662f\u5e76\u53d1\u6e05\u9664\u9636\u6bb5\uff0c\u6e05\u7406\u5220\u9664\u6389\u6807\u8bb0\u9636\u6bb5\u5224\u65ad\u7684\u5df2\u7ecf\u6b7b\u4ea1\u7684 \u5bf9\u8c61\uff0c\u7531\u4e8e\u4e0d\u9700\u8981\u79fb\u52a8\u5b58\u6d3b\u5bf9\u8c61\uff0c\u6240\u4ee5\u8fd9\u4e2a\u9636\u6bb5\u4e5f\u662f\u53ef\u4ee5\u4e0e\u7528\u6237\u7ebf\u7a0b\u540c\u65f6\u5e76\u53d1\u7684\u3002</p> <p>CMS \u9ed8\u8ba4\u542f\u52a8\u7684\u56de\u6536\u7ebf\u7a0b\u6570\u662f\uff08\u5904\u7406\u5668\u6838\u5fc3\u6570\u91cf +3\uff09/ 4\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f CMS \u4f7f\u7528\u4e86\u4e09\u8272\u95ee\u9898\u4e2d\u7684\u589e\u91cf\u66f4\u65b0\uff0c\u589e\u91cf\u66f4\u65b0\u53ea\u80fd\u89e3\u51b3\u5bf9\u8c61\u6d88\u5931\u7684\u95ee\u9898\uff0c\u5e76\u6ca1\u6709\u529e\u6cd5\u89e3\u51b3\u201c\u6d6e\u52a8\u5783\u573e\u201d\uff08\u5728CMS\u7684\u5e76\u53d1\u6807\u8bb0\u548c\u5e76\u53d1\u6e05\u7406\u9636\u6bb5\uff0c\u7528\u6237\u7ebf\u7a0b\u662f\u8fd8\u5728\u7ee7\u7eed\u8fd0\u884c\u7684\uff0c\u7a0b\u5e8f\u5728\u8fd0\u884c\u81ea\u7136\u5c31\u8fd8\u4f1a\u4f34\u968f\u6709\u65b0\u7684\u5783\u573e\u5bf9\u8c61\u4e0d\u65ad\u4ea7\u751f\uff0c\u4f46\u8fd9\u4e00\u90e8\u5206\u5783\u573e\u5bf9\u8c61\u662f\u51fa\u73b0\u5728\u6807\u8bb0\u8fc7\u7a0b\u7ed3\u675f\u4ee5\u540e\uff0cCMS\u65e0\u6cd5\u5728\u5f53\u6b21\u6536\u96c6\u4e2d\u5904\u7406\u6389\u5b83\u4eec\uff0c\u53ea\u597d\u7559\u5f85\u4e0b\u4e00\u6b21\u5783\u573e\u6536\u96c6 \u65f6\u518d\u6e05\u7406\u6389\uff0c\u8fd9\u4e00\u90e8\u5206\u5783\u573e\u5c31\u79f0\u4e3a\u201c\u6d6e\u52a8\u5783\u573e\u201d\uff09\u7684\u95ee\u9898\u3002</p> <p>\u8fd9\u4f1a\u5f15\u53d1\u4e00\u7cfb\u5217\u7684\u95ee\u9898\uff0c\u6bd4\u5982\uff0cCMS \u6536\u96c6\u5668\u9700\u8981\u5728\u8001\u5e74\u4ee3\u4e2d\u9884\u7559\u4e00\u90e8\u5206\u7a7a\u95f4\u4ee5\u5bb9\u7eb3\u201c\u6d6e\u52a8\u5783\u573e\u201d\uff0c\u90a3\u4e48\u5728\u8001\u5e74\u4ee3\u6ee1\u4e4b\u524d\u5c31\u4f1a\u89e6\u53d1\u56de\u6536\uff0c\u540c\u6837\u7684\uff0c\u5982\u679c\u4e0d\u80fd\u56de\u6536\u83b7\u5f97\u8db3\u591f\u7684\u7a7a\u95f4\uff0c\u90a3\u4e48\u53ef\u80fd\u662f\u7531\u4e8e\u6d6e\u52a8\u5783\u573e\u9020\u6210\u7684\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u4e00\u6b21 Serial Old \u8fdb\u884c\u505c\u6b62\u7528\u6237\u7ebf\u7a0b\u7684\u6536\u96c6\u3002</p> <p>\u8fd8\u6709\u53e6\u4e00\u4e2a\u95ee\u9898\u662f CMS \u9700\u8981\u8fdb\u884c\u5b9a\u671f\uff08\u8fdb\u5165 Full GC \u591a\u5c11\u6b21\uff0c\u8fdb\u884c\u4e00\u6b21\u5185\u5b58\u7684\u6574\u7406\uff09\u7684\u5185\u5b58\u6574\u7406\u3002</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#g-1","title":"G 1 \u6536\u96c6\u5668","text":"<p>\u9762\u5411\u5806\u5185\u5b58\u4efb \u4f55\u90e8\u5206\u6765\u7ec4\u6210\u56de\u6536\u96c6\uff08Collection Set\uff0c\u4e00\u822c\u7b80\u79f0CSet\uff09\u8fdb\u884c\u56de\u6536\uff0c\u8861\u91cf\u6807\u51c6\u4e0d\u518d\u662f\u5b83\u5c5e\u4e8e\u54ea\u4e2a\u5206\u4ee3\uff0c\u800c \u662f\u54ea\u5757\u5185\u5b58\u4e2d\u5b58\u653e\u7684\u5783\u573e\u6570\u91cf\u6700\u591a\uff0c\u56de\u6536\u6536\u76ca\u6700\u5927\uff0c\u8fd9\u5c31\u662fG1\u6536\u96c6\u5668\u7684Mixed GC\u6a21\u5f0f\u3002</p> <p>G1 \u4e0d\u518d\u575a\u6301\u56fa\u5b9a\u5927\u5c0f\u4ee5\u53ca\u56fa\u5b9a\u6570\u91cf\u7684\u5206\u4ee3\u533a\u57df\u5212\u5206\uff0c\u800c\u662f\u628a\u8fde\u7eed\u7684 Java \u5806\u5212\u5206\u4e3a\u591a\u4e2a\u5927\u5c0f\u76f8\u7b49\u7684\u72ec\u7acb\u533a\u57df\uff08Region\uff09\uff0c\u6bcf\u4e00\u4e2a Region \u90fd\u53ef\u4ee5\u6839\u636e\u9700\u8981\uff0c\u626e\u6f14\u65b0\u751f\u4ee3\u7684 Eden \u7a7a\u95f4\u3001Survivor \u7a7a\u95f4\uff0c\u6216\u8005\u8001\u5e74\u4ee3\u7a7a\u95f4\u3002\u6536\u96c6\u5668\u80fd\u591f\u5bf9\u626e\u6f14\u4e0d\u540c\u89d2\u8272\u7684  Region \u91c7\u7528\u4e0d\u540c\u7684\u7b56\u7565\u53bb\u5904\u7406\u3002</p> <p>Region\u4e2d\u8fd8\u6709\u4e00\u7c7b\u7279\u6b8a\u7684Humongous\u533a\u57df\uff0c\u4e13\u95e8\u7528\u6765\u5b58\u50a8\u5927\u5bf9\u8c61\u3002G1\u8ba4\u4e3a\u53ea\u8981\u5927\u5c0f\u8d85\u8fc7\u4e86\u4e00\u4e2a Region\u5bb9\u91cf\u4e00\u534a\u7684\u5bf9\u8c61\u5373\u53ef\u5224\u5b9a\u4e3a\u5927\u5bf9\u8c61\u3002\u5bf9\u4e8e\u90a3\u4e9b\u8d85\u8fc7\u4e86\u6574\u4e2a Region\u5bb9\u91cf\u7684\u8d85\u7ea7\u5927\u5bf9\u8c61\uff0c \u5c06\u4f1a\u88ab\u5b58\u653e\u5728N\u4e2a\u8fde\u7eed\u7684 Humongous Region \u4e4b\u4e2d\uff0cG1\u7684\u5927\u591a\u6570\u884c\u4e3a\u90fd\u628a Humongous Region \u4f5c\u4e3a\u8001\u5e74\u4ee3 \u7684\u4e00\u90e8\u5206\u6765\u8fdb\u884c\u770b\u5f85\u3002</p> <p>\u867d\u7136G1\u4ecd\u7136\u4fdd\u7559\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u7684\u6982\u5ff5\uff0c\u4f46\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u4e0d\u518d\u662f\u56fa\u5b9a\u7684\u4e86\uff0c\u5b83\u4eec\u90fd\u662f\u4e00\u7cfb\u5217\u533a \u57df\uff08\u4e0d\u9700\u8981\u8fde\u7eed\uff09\u7684\u52a8\u6001\u96c6\u5408\u3002G1\u6536\u96c6\u5668\u4e4b\u6240\u4ee5\u80fd\u5efa\u7acb\u53ef\u9884\u6d4b\u7684\u505c\u987f\u65f6\u95f4\u6a21\u578b\uff0c\u662f\u56e0\u4e3a\u5b83\u5c06Region\u4f5c \u4e3a\u5355\u6b21\u56de\u6536\u7684\u6700\u5c0f\u5355\u5143\uff0c\u5373\u6bcf\u6b21\u6536\u96c6\u5230\u7684\u5185\u5b58\u7a7a\u95f4\u90fd\u662fRegion\u5927\u5c0f\u7684\u6574\u6570\u500d\uff0c\u8fd9\u6837\u53ef\u4ee5\u6709\u8ba1\u5212\u5730\u907f\u514d \u5728\u6574\u4e2aJava\u5806\u4e2d\u8fdb\u884c\u5168\u533a\u57df\u7684\u5783\u573e\u6536\u96c6\u3002</p> <p>\u66f4\u5177\u4f53\u7684\u5904\u7406\u601d\u8def\u662f\u8ba9 G1 \u6536\u96c6\u5668\u53bb\u8ddf\u8e2a\u5404\u4e2a Region \u91cc\u9762\u7684\u5783 \u573e\u5806\u79ef\u7684\u201c\u4ef7\u503c\u201d\u5927\u5c0f\uff0c\u4ef7\u503c\u5373\u56de\u6536\u6240\u83b7\u5f97\u7684\u7a7a\u95f4\u5927\u5c0f\u4ee5\u53ca\u56de\u6536\u6240\u9700\u65f6\u95f4\u7684\u7ecf\u9a8c\u503c\uff0c\u7136\u540e\u5728\u540e\u53f0\u7ef4\u62a4\u4e00 \u4e2a\u4f18\u5148\u7ea7\u5217\u8868\uff0c\u6bcf\u6b21\u6839\u636e\u7528\u6237\u8bbe\u5b9a\u5141\u8bb8\u7684\u6536\u96c6\u505c\u987f\u65f6\u95f4\uff08\u4f7f\u7528\u53c2\u6570-XX\uff1aMaxGCPauseMillis\u6307\u5b9a\uff0c\u9ed8\u8ba4\u503c\u662f 200 \u6beb\u79d2\uff09\uff0c\u4f18\u5148\u5904\u7406\u56de\u6536\u4ef7\u503c\u6536\u76ca\u6700\u5927\u7684\u90a3\u4e9b Region\uff0c\u8fd9\u4e5f\u5c31\u662f\u201cGarbage First\u201d\u540d\u5b57\u7684\u7531\u6765\u3002</p> <p>\u5c06 Java \u5806\u5206\u6210\u591a\u4e2a\u72ec\u7acb Region \u540e\uff0cRegion \u91cc\u9762\u5b58\u5728\u7684\u8de8 Region \u5f15\u7528\u5bf9\u8c61\u5982\u4f55\u89e3\u51b3\uff1f\u4f7f\u7528\u8bb0\u5fc6\u96c6\u907f\u514d\u5168\u5806\u4f5c\u4e3a GC Roots \u626b\u63cf\uff0c\u4f46\u5728 G1 \u6536\u96c6\u5668\u4e0a\u8bb0\u5fc6\u96c6\u7684\u5e94\u7528\u5176\u5b9e\u8981\u590d\u6742\u5f88\u591a\uff0c\u5b83\u7684\u6bcf\u4e2a Region \u90fd\u7ef4\u62a4\u6709\u81ea\u5df1\u7684\u8bb0\u5fc6\u96c6\uff0c\u8fd9\u4e9b\u8bb0\u5fc6\u96c6\u4f1a\u8bb0\u5f55\u4e0b\u522b\u7684Region \u6307\u5411\u81ea\u5df1\u7684\u6307\u9488\uff0c\u5e76\u6807\u8bb0\u8fd9\u4e9b\u6307\u9488\u5206\u522b\u5728\u54ea\u4e9b\u5361\u9875\u7684\u8303\u56f4\u4e4b\u5185\u3002G1\u7684\u8bb0\u5fc6\u96c6\u5728\u5b58\u50a8\u7ed3\u6784\u7684\u672c\u8d28\u4e0a\u662f\u4e00 \u79cd\u54c8\u5e0c\u8868\uff0cKey\u662f\u522b\u7684Region\u7684\u8d77\u59cb\u5730\u5740\uff0cValue\u662f\u4e00\u4e2a\u96c6\u5408\uff0c\u91cc\u9762\u5b58\u50a8\u7684\u5143\u7d20\u662f\u5361\u8868\u7684\u7d22\u5f15\u53f7\uff08\u5373\u522b\u7684 Region \u4e2d\u5177\u4f53\u54ea\u4e00\u5757\u5185\u5b58\u6307\u5411\u5f53\u524d Region\uff09\u3002</p> <p>G1 \u6536\u96c6\u5668\u4f7f\u7528\u539f\u59cb\u5feb\u7167\u7684\u65b9\u5f0f\u5b8c\u6210\u5e76\u53d1\u6807\u8bb0\u3002</p> <p>\u4e3a\u4e86\u517c\u5bb9\u201c\u6d6e\u52a8\u5783\u573e\u201d\uff0cG1\u4e3a\u6bcf\u4e00\u4e2a Region \u8bbe \u8ba1\u4e86\u4e24\u4e2a\u540d\u4e3a TAMS\uff08Top at Mark Start\uff09\u7684\u6307\u9488\uff0c\u628a Region \u4e2d\u7684\u4e00\u90e8\u5206\u7a7a\u95f4\u5212\u5206\u51fa\u6765\u7528\u4e8e\u5e76\u53d1\u56de\u6536\u8fc7 \u7a0b\u4e2d\u7684\u65b0\u5bf9\u8c61\u5206\u914d\uff0c\u5e76\u53d1\u56de\u6536\u65f6\u65b0\u5206\u914d\u7684\u5bf9\u8c61\u5730\u5740\u90fd\u5fc5\u987b\u8981\u5728\u8fd9\u4e24\u4e2a\u6307\u9488\u4f4d\u7f6e\u4ee5\u4e0a\u3002G1 \u6536\u96c6\u5668\u9ed8\u8ba4\u5728\u8fd9\u4e2a\u5730\u5740\u4ee5\u4e0a\u7684\u5bf9\u8c61\u662f\u88ab\u9690\u5f0f\u6807\u8bb0\u8fc7\u7684\uff0c\u5373\u9ed8\u8ba4\u5b83\u4eec\u662f\u5b58\u6d3b\u7684\uff0c\u4e0d\u7eb3\u5165\u56de\u6536\u8303\u56f4\u3002</p>"},{"location":"java/JVM%20%E5%9F%BA%E7%A1%80%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8/#g1","title":"G1 \u6536\u96c6\u8fc7\u7a0b","text":"<ul> <li>\u521d\u59cb\u6807\u8bb0\uff08Initial Marking\uff09\uff1a\u4ec5\u4ec5\u53ea\u662f\u6807\u8bb0\u4e00\u4e0b GC Roots\u80fd\u76f4\u63a5\u5173\u8054\u5230\u7684\u5bf9\u8c61\uff0c\u5e76\u4e14\u4fee\u6539 TAMS \u6307\u9488\u7684\u503c\uff0c\u8ba9\u4e0b\u4e00\u9636\u6bb5\u7528\u6237\u7ebf\u7a0b\u5e76\u53d1\u8fd0\u884c\u65f6\uff0c\u80fd\u6b63\u786e\u5730\u5728\u53ef\u7528\u7684Region\u4e2d\u5206\u914d\u65b0\u5bf9\u8c61\u3002\u8fd9\u4e2a\u9636\u6bb5\u9700\u8981\u505c\u987f\u7ebf\u7a0b\uff0c\u4f46\u8017\u65f6\u5f88\u77ed\uff0c\u800c\u4e14\u662f\u501f\u7528\u8fdb\u884c Minor GC \u7684\u65f6\u5019\u540c\u6b65\u5b8c\u6210\u7684\uff0c\u6240\u4ee5 G1 \u6536\u96c6\u5668\u5728\u8fd9\u4e2a\u9636\u6bb5\u5b9e\u9645\u5e76\u6ca1\u6709\u989d\u5916\u7684\u505c\u987f\u3002</li> <li>\u5e76\u53d1\u6807\u8bb0\uff08Concurrent Marking\uff09\uff1a\u4eceGC Root\u5f00\u59cb\u5bf9\u5806\u4e2d\u5bf9\u8c61\u8fdb\u884c\u53ef\u8fbe\u6027\u5206\u6790\uff0c\u9012\u5f52\u626b\u63cf\u6574\u4e2a\u5806\u91cc\u7684\u5bf9\u8c61\u56fe\uff0c\u627e\u51fa\u8981\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u8fd9\u9636\u6bb5\u8017\u65f6\u8f83\u957f\uff0c\u4f46\u53ef\u4e0e\u7528\u6237\u7a0b\u5e8f\u5e76\u53d1\u6267\u884c\u3002\u5f53\u5bf9\u8c61\u56fe\u626b\u63cf\u5b8c\u6210\u4ee5\u540e\uff0c\u8fd8\u8981\u91cd\u65b0\u5904\u7406 SATB \u8bb0\u5f55\u4e0b\u7684\u5728\u5e76\u53d1\u65f6\u6709\u5f15\u7528\u53d8\u52a8\u7684\u5bf9\u8c61\uff0c\u5373\u6700\u7ec8\u6807\u8bb0\u9636\u6bb5\u3002</li> <li>\u6700\u7ec8\u6807\u8bb0\uff08Final Marking\uff09\uff1a\u5bf9\u7528\u6237\u7ebf\u7a0b\u505a\u53e6\u4e00\u4e2a\u77ed\u6682\u7684\u6682\u505c\uff0c\u7528\u4e8e\u5904\u7406\u5e76\u53d1\u9636\u6bb5\u7ed3\u675f\u540e\u4ecd\u9057\u7559\u4e0b\u6765\u7684\u6700\u540e\u90a3\u5c11\u91cf\u7684 SATB \uff08\u539f\u59cb\u5feb\u7167\uff09\u8bb0\u5f55\u3002</li> <li>\u7b5b\u9009\u56de\u6536\uff08Live Data Counting and Evacuation\uff09\uff1a\u8d1f\u8d23\u66f4\u65b0Region\u7684\u7edf\u8ba1\u6570\u636e\uff0c\u5bf9\u5404\u4e2aRegion\u7684\u56de \u6536\u4ef7\u503c\u548c\u6210\u672c\u8fdb\u884c\u6392\u5e8f\uff0c\u6839\u636e\u7528\u6237\u6240\u671f\u671b\u7684\u505c\u987f\u65f6\u95f4\u6765\u5236\u5b9a\u56de\u6536\u8ba1\u5212\uff0c\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u4efb\u610f\u591a\u4e2aRegion \u6784\u6210\u56de\u6536\u96c6\uff0c\u7136\u540e\u628a\u51b3\u5b9a\u56de\u6536\u7684\u90a3\u4e00\u90e8\u5206Region\u7684\u5b58\u6d3b\u5bf9\u8c61\u590d\u5236\u5230\u7a7a\u7684Region\u4e2d\uff0c\u518d\u6e05\u7406\u6389\u6574\u4e2a\u65e7 Region\u7684\u5168\u90e8\u7a7a\u95f4\u3002\u8fd9\u91cc\u7684\u64cd\u4f5c\u6d89\u53ca\u5b58\u6d3b\u5bf9\u8c61\u7684\u79fb\u52a8\uff0c\u662f\u5fc5\u987b\u6682\u505c\u7528\u6237\u7ebf\u7a0b\uff0c\u7531\u591a\u6761\u6536\u96c6\u5668\u7ebf\u7a0b\u5e76\u884c \u5b8c\u6210\u7684\u3002</li> </ul> <p>G1 \u9664\u4e86\u4f7f\u7528\u5199\u540e\u5c4f\u969c\u6765\u8fdb\u884c\u540c\u6837\u7684\uff08\u7531\u4e8eG1\u7684\u5361\u8868\u7ed3\u6784\u590d\u6742\uff0c\u5176\u5b9e\u662f\u66f4\u70e6\u7410\u7684\uff09\u5361\u8868\u7ef4\u62a4\u64cd\u4f5c\u5916\uff0c\u4e3a\u4e86\u5b9e\u73b0\u539f\u59cb\u5feb\u7167\u641c\u7d22 \uff08SATB\uff09\u7b97\u6cd5\uff0c\u8fd8\u9700\u8981\u4f7f\u7528\u5199\u524d\u5c4f\u969c\u6765\u8ddf\u8e2a\u5e76\u53d1\u65f6\u7684\u6307\u9488\u53d8\u5316\u60c5\u51b5\u3002</p>"},{"location":"java/String.intern%28%29%20%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/","title":"String.intern() \u4e0e\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60","text":""},{"location":"java/String.intern%28%29%20%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/#stringnew-string","title":"String::new \u548c String \u5e38\u91cf","text":"<p>\u5e38\u91cf\u7684 String \u5728\u7f16\u8bd1\u9636\u6bb5\u5df2\u7ecf\u88ab\u786e\u5b9a\u4e86\uff0c\u90a3\u4e48 JVM \u4e3a\u4e86\u51cf\u5c11\u5185\u5b58\u7684\u4f7f\u7528\uff0c\u540c\u6837\u7684 String \u90fd\u6307\u5411\u4e86\u540c\u4e00\u4e2a String \u5bf9\u8c61\uff08\u5305\u62ec\u7531\u5b57\u7b26\u4e32\u5e38\u91cf\u8fde\u63a5\u800c\u6765\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u70b9\u4e0d\u80fd\u901a\u8fc7\u4e2d\u95f4\u5f15\u7528\uff0c\u56e0\u4e3a\u5f15\u7528\u53ef\u80fd\u88ab\u4fee\u6539\uff09\u3002</p>"},{"location":"java/String.intern%28%29%20%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0/#intern","title":"intern()","text":"<p>String.intern() \u662f\u4e00\u4e2aNative\uff08\u672c\u5730\uff09\u65b9\u6cd5\uff0c\u5b83\u7684\u4f5c\u7528\u662f\u5982\u679c\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u5df2\u7ecf\u5305\u542b\u4e00\u4e2a\u7b49\u4e8e\u6b64 String \u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u8fd9\u4e2a\u5b57\u7b26\u4e32\u7684\u5f15\u7528\uff0c\u5426\u5219\u5c06\u5f53\u524d String \u5bf9\u8c61\u7684\u5f15\u7528\u5730\u5740\uff08\u5806\u4e2d\uff09\u6dfb\u52a0\u5230\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u5e76\u8fd4\u56de\u3002</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f intern() \u65b9\u6cd5\u53ea\u4f1a\u8fd4\u56de\uff0c\u5b57\u7b26\u5e38\u91cf\u6c60\u4e2d\u7684\u5f15\u7528\uff08\u6709\u5c31\u5229\u7528\u73b0\u6709\u7684\u7f13\u5b58\uff0c\u6ca1\u6709\u5c31\u65b0\u521b\u5efa\uff09\u3002</p> <p>\u6d4b\u8bd5</p> <pre><code>public class Main {\n    public static void main(String[] args) {\n        String b = \"h\";\n        String a = new String(\"h\");\n        String c = a.intern();\n\n        System.out.println(a == c); // false\n        System.out.println(a == b); // false\n        System.out.println(b == c); // true\n    }\n}\n</code></pre> <p>\u8fd9\u7bc7\u6587\u7ae0\u5199\u5f97\u5f88\u8be6\u7ec6\uff1a</p> <p>String.intern\u65b9\u6cd5\u8be6\u89e3 - \u6398\u91d1</p> <p>\u8bb0\u5f55\u521b\u5efaString\u7684\u4e24\u79cd\u65b9\u5f0f\uff0c\u201d\u2033 \u548c new String()\u533a\u522b\uff0cString intern\u65b9\u6cd5\u7684\u4f7f\u7528\u548c\u5e38\u91cf\u6c60\u3002 \u53d8\u91cfa\uff1a \u201clantao\u201d \u662f\u5b57\u7b26\u4e32\u5e38\u91cf\uff0c\u5728\u7f16\u8bd1\u671f\u5c31\u88ab\u786e\u5b9a\u4e86\uff0c\u5148\u68c0\u67e5\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u662f\u5426\u542b\u6709\u201clantao\u201d\u5b57\u7b26\u4e32,\u82e5\u6ca1\u6709\u5219\u6dfb\u52a0\u201clantao\u201d\u5230\u5b57\u7b26\u4e32\u5e38\u91cf\u6c60\u4e2d\u2026</p> <p>https://juejin.cn/post/6844903913116680199</p>"},{"location":"java/java%20Integer%20%E7%BC%93%E5%AD%98/","title":"Java Integer \u7f13\u5b58","text":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Integer a = 128;\n        Integer b = 128;\n        Integer c = 127;\n        Integer d = 127;\n        System.out.println(a == b);\n        System.out.println(c == d);\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u4e3a</p> <pre><code>false\ntrue\n</code></pre> <p>???</p> <p>\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f Java \u5373\u4f7f\u4f1a\u81ea\u52a8\u7684\u88c5\u7bb1\uff0cInteger \u5728\u4f7f\u7528 == \u6bd4\u8f83\u7684\u65f6\u5019\u540c\u6837\u662f\u6bd4\u8f83\u7684\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u5185\u5b58\u5730\u5740\u3002</p> <p>\u90a3\u4e48\u4e3a\u4ec0\u4e48 127 \u7684\u6bd4\u8f83\u7ed3\u679c\u4e3a true ? \u539f\u56e0\u5728\u4e8e Java \u7684\u88c5\u7bb1\u65f6\u4f1a\u4f7f\u7528 valueOf \u8fd9\u4e2a\u51fd\u6570\uff0c\u5b83\u6709\u4e00\u4e2a\u7f13\u5b58\uff0c\u8303\u56f4\u662f -128~127\uff0c\u5982\u679c\u5728\u8fd9\u4e2a\u8303\u56f4\u5185\uff08\u8fd9\u4e2a\u8303\u56f4\u53ef\u4ee5\u901a\u8fc7 jvm \u53c2\u6570\u8c03\u8282\uff09\uff0c\u5c06\u8fd4\u56de\u7f13\u5b58\u7684\u5bf9\u8c61\uff08\u5728\u542f\u52a8\u65f6\u521d\u59cb\u5316\u7f13\u5b58\u8303\u56f4\u5185\u7684\u5bf9\u8c61\uff09\u3002</p> <p>Java \u5176\u4ed6\u5305\u88c5\u7c7b\u4e5f\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a\u5efa\u8bae\u9664\u975e\u660e\u786e\u6bd4\u8f83\u5bf9\u8c61\uff0c\u90fd\u4f7f\u7528 <code>Objects.equals</code> \u65b9\u6cd5\uff08\u7531\u4e8e\u6709\u81ea\u52a8\u88c5\u7bb1\u7684\u5b58\u5728\uff0c\u5176\u540c\u6837\u80fd\u5bf9\u57fa\u7840\u6570\u636e\u7c7b\u578b\u4f7f\u7528\uff09\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/","title":"HotSpot \u5bf9 Java \u5bf9\u8c61\u7684\u5904\u7406","text":""},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_1","title":"\u521b\u5efa\u5bf9\u8c61","text":"<p>\u5f53\u9047\u5230\u4e00\u4e2a <code>new</code> \u64cd\u4f5c\u7b26\u540e\uff0cHotSpot \u521b\u5efa\u4e00\u4e2a\u6307\u5b9a\u7684\u5bf9\u8c61\uff0c\u8fc7\u7a0b\u5927\u81f4\u5982\u4e0b\uff1a</p> <ol> <li>\u83b7\u53d6\u7c7b\u578b\u4fe1\u606f    \u68c0\u67e5\u6307\u5b9a\u7684\u7c7b\u662f\u5426\u80fd\u5728\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u627e\u5230\u76f8\u5e94\u7684\u7b26\u53f7\u5f15\u7528\uff0c\u7b26\u53f7\u5f15\u7528\u4ee3\u8868\u7684\u7c7b\u662f\u5426\u5b8c\u6210\u7c7b\u52a0\u8f7d\u3002</li> <li>\u5206\u914d\u5185\u5b58    \u8fd9\u90e8\u5206\u7684\u64cd\u4f5c\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u8fdb\u7a0b\u8fdb\u7a0b\u5206\u914d\u5185\u5b58\u76f8\u4f3c\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u9488\u78b0\u649e\u6216\u8005\u7a7a\u95f2\u94fe\u8868\u6765\u5b8c\u6210\u3002    \u503c\u5f97\u6ce8\u610f\u7684\u662f\u5206\u914d\u5185\u5b58\u540c\u6837\u5177\u6709\u5e76\u53d1\u95ee\u9898\uff08\u4e0d\u8fc7\u7531 jvm \u89e3\u51b3\u4e86\uff09\uff0c\u91c7\u7528\u5c06\u5206\u914d\u5185\u5b58\u7684\u64cd\u4f5c\u540c\u6b65\u5904\u7406\uff0c\u6216\u8005\u7ed9\u6bcf\u4e2a\u7ebf\u7a0b\u7ebf\u7a0b\u5212\u5b9a\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u5728\u76f8\u5e94\u7684\u7f13\u51b2\u533a\u4e2d\u5206\u914d\u5185\u5b58\u3002</li> <li>\u5185\u5b58\u7f6e 0    \u5206\u914d\u5b8c\u5185\u5b58\u4e4b\u540e jvm \u865a\u62df\u673a\u9700\u8981\u5c06\u5bf9\u8c61\u5bf9\u5e94\u7684\u5185\u5b58\u533a\u57df\u7f6e\u4e3a 0 \uff08\u4e0d\u5305\u62ec\u5bf9\u8c61\u5934\uff09\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u4fdd\u8bc1\u4e86\u5728\u672a\u8d4b\u503c\u7684\u60c5\u51b5\u4e0b\u4e3a\u76f8\u5e94\u7684 0 \u503c\u3002\u6bd4\u5982\u6570\u5b57\u578b\u7684\u57fa\u7840\u6570\u636e\u7c7b\u578b\u4e3a 0\uff0c\u800c\u5bf9\u8c61\u5f15\u7528\u4e3a null\u3002\u907f\u514d\u4e86\u5bf9\u8c61\u5f15\u7528\u6307\u5411\u975e\u6cd5\u5185\u5b58\u5730\u5740\u7684\u95ee\u9898\u3002</li> <li>\u8bbe\u7f6e\u5bf9\u8c61\u5934    \u5bf9\u8c61\u5934\u4e2d\u7684\u4fe1\u606f\u5305\u62ec\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u7c7b\u7684\u5143\u6570\u636e\u4f4d\u7f6e\uff0chash \u503c\uff08\u63a8\u8fdf\u8ba1\u7b97\uff09\uff0cGC \u5206\u4ee3\u5e74\u9f84\u7b49\u3002</li> <li>\u6267\u884c\u521d\u59cb\u5316\u5757\u548c\u6784\u9020\u51fd\u6570</li> </ol>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_2","title":"\u5bf9\u8c61\u5185\u5b58\u5e03\u5c40","text":"<p>\u4e00\u4e2a\u5bf9\u8c61\u6709 3 \u90e8\u5206\u7684\u4fe1\u606f\uff1a\u5bf9\u8c61\u5934\uff0c\u5b9e\u4f8b\u6570\u636e\uff0c\u5bf9\u9f50\u586b\u5145\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_3","title":"\u5bf9\u8c61\u5934","text":""},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#mark-word","title":"Mark Word","text":"<p>\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\u81ea\u8eab\u7684\u8fd0\u884c\u65f6\u6570\u636e\uff0c\u5982\u54c8\u5e0c\u7801\uff08HashCode\uff09\uff0cGC\u5206\u4ee3\u5e74\u9f84\uff0c\u9501\u72b6\u6001\u6807\u5fd7\uff0c\u7ebf\u7a0b\u6301\u6709\u7684\u9501\uff0c\u504f\u5411\u7ebf\u7a0bID\uff0c\u504f\u5411\u65f6\u95f4\u6233\u7b49\uff0c\u8fd9\u90e8\u5206\u6570\u636e\u7684\u957f\u5ea6\u5728 32 \u4f4d\u548c 64 \u4f4d\u7684\u865a\u62df\u673a\uff08\u672a\u5f00\u542f\u538b\u7f29\u6307\u9488\uff09\u4e2d\u5206\u522b\u4e3a 32 \u4e2a\u6bd4\u7279\u548c 64 \u4e2a\u6bd4\u7279\u3002</p> <p>32 \u4f4d\u865a\u62df\u673a\u7684 Mark Word \u5982\u4e0b\uff1a</p> <p></p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_4","title":"\u7c7b\u578b\u6307\u9488","text":"<p>\u6307\u5411\u5bf9\u8c61\u7684\u7c7b\u578b\u7684\u5143\u6570\u636e\uff0c\u7528\u6765\u5224\u65ad\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\u3002\u53e6\u5916\uff0c\u5f53\u8fd9\u4e2a\u5bf9\u8c61\u8868\u793a\u4e00\u4e2a\u6570\u7ec4\uff0c\u5bf9\u8c61\u5934\u4e2d\u8fd8\u9700\u8981\u8bb0\u5f55\u6570\u7ec4\u7684\u957f\u5ea6\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_5","title":"\u5b9e\u4f8b\u6570\u636e","text":"<p>\u5b58\u653e\u7c7b\u7684\u5b9e\u4f8b\u53d8\u91cf\uff08\u5305\u62ec\u7236\u7c7b\u4e2d\u5b9a\u4e49\u7684\u5b9e\u4f8b\u53d8\u91cf\uff09\u3002\u5728\u5206\u914d\u5185\u5b58\u65f6\uff0c\u4e3a\u4e86\u5c3d\u91cf\u5730\u5c06\u5185\u5b58\u5bf9\u9f50\uff0c\u957f\u5ea6\u76f8\u540c\u7684\u503c\u5b58\u653e\u5728\u4e00\u8d77\uff08\u6bd4\u4f20\u8bf4 double \u548c long\uff09\uff0c\u5728\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u4e0b\uff0c\u7236\u7c7b\u4e2d\u7684\u53d8\u91cf\u5728\u5b50\u7c7b\u53d8\u91cf\u4e4b\u524d\u51fa\u73b0\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_6","title":"\u5bf9\u9f50\u6570\u636e","text":"<p>\u5c06\u5bf9\u8c61\u5360\u7528\u7684\u5185\u5b58\u586b\u5145\u81f3 8 \u5b57\u8282\u7684\u500d\u6570\uff0c\u4ee5\u6ee1\u8db3\u89c4\u8303\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_7","title":"\u5b9a\u4f4d\u5bf9\u8c61","text":"<p>\u5bf9\u8c61\u5f15\u7528\u5728 jvm \u4e2d\u4ee5 reference \u7c7b\u578b\u6570\u636e\u8868\u793a\uff0c\u800c\u5177\u4f53\u7684\u8bbf\u95ee\u65b9\u5f0f\u6709\u865a\u62df\u673a\u51b3\u5b9a\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_8","title":"\u901a\u8fc7\u53e5\u67c4\u8bbf\u95ee","text":"<p>\u4f18\u52bf\u662f\u5728\u5bf9\u8c61\u79fb\u52a8\u4e4b\u540e\uff0c\u53ea\u9700\u8981\u4fee\u6539\u53e5\u67c4\u7684\u6307\u5411\u7684\u5730\u5740\u5373\u53ef\u3002</p>"},{"location":"java/java%20hotspot%20%E5%A4%84%E7%90%86%E5%AF%B9%E8%B1%A1/#_9","title":"\u76f4\u63a5\u8bbf\u95ee","text":"<p>\u4f18\u52bf\u662f\u8bbf\u95ee\u66f4\u5feb\u3002</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/","title":"\u5185\u5b58\u5e03\u5c40","text":"<p>\u4e00\u4e2a jvm \u4e2d\u7684\u5185\u5b58\u5206\u5e03\u5927\u81f4\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_1","title":"\u7a0b\u5e8f\u8ba1\u6570\u5668","text":"<p>\u7a0b\u5e8f\u8ba1\u6570\u5668\u7684\u503c\u8868\u793a\u5f53\u524d\u6267\u884c\u5230\u7684\u6307\u4ee4\u7684\u4f4d\u7f6e\uff0c\u8fd9\u70b9\u4e0e\u5176\u5728\u5176\u4ed6\u5730\u65b9\u7684\u5b9a\u4e49\u76f8\u540c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5728\u6267\u884c\u672c\u5730\u65b9\u6cd5\u65f6\uff0c\u8fd9\u4e2a\u503c\u5e94\u8be5\u4e3a undefined\u3002</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_2","title":"\u865a\u62df\u673a\u6808","text":"<p>\u6bcf\u4e00\u4e2a\u65b9\u6cd5\u7684\u8c03\u7528/\u8fd4\u56de\u5bf9\u5e94\u7740\u865a\u62df\u673a\u6808\u7684\u6808\u5e27\u7684\u538b\u6808\u548c\u51fa\u6808\u3002</p> <p>\u4e00\u4e2a\u6808\u5e27\u4e2d\u5b58\u653e\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u5c40\u90e8\u53d8\u91cf\u8868</li> <li>\u64cd\u4f5c\u6570\u6808</li> <li>\u52a8\u6001\u8fde\u63a5</li> <li>\u65b9\u6cd5\u51fa\u53e3</li> </ul>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_3","title":"\u5c40\u90e8\u53d8\u91cf\u8868","text":"<p>\u5c40\u90e8\u53d8\u91cf\u8868\u4e2d\u4fdd\u5b58\u7740\u7f16\u8bd1\u5668\u53ef\u77e5\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u53d8\u91cf\uff0c\u5bf9\u8c61\u5f15\u7528\u548c returnAddress \u7c7b\u578b\u3002\u8fd9\u4e9b\u53d8\u91cf\u5728\u5c40\u90e8\u53d8\u91cf\u8868\u4e2d\u4ee5\u5c40\u90e8\u53d8\u91cf\u69fd\u6765\u8868\u793a\uff0c\u5c40\u90e8\u53d8\u91cf\u69fd\u7684\u5927\u5c0f\u4e3a 32 \u4f4d\uff0c\u9664\u4e86 64 \u4f4d\u7684 long \u548c double \u9700\u8981\u5360\u7528\u4e24\u4e2a\u69fd\u8868\u793a\uff0c\u5176\u4f59\u7c7b\u578b\u53ea\u5360\u7528\u4e00\u4e2a\u69fd\u3002</p> <p>\u5728\u65b9\u6cd5\u7684\u8fd0\u884c\u671f\u95f4\u4e0d\u4f1a\u6539\u53d8\u5c40\u90e8\u53d8\u91cf\u8868\u7684\u5927\u5c0f\u3002</p> <p>\u7b80\u5355\u7684\u6765\u8bf4\u5c40\u90e8\u53d8\u91cf\u8868\u4e2d\u4fdd\u5b58\u7740\u6240\u4ee5\u65b9\u6cd5\u7684\u672c\u5730\u53d8\u91cf\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5c40\u90e8\u53d8\u91cf\u8868\u7684\u5927\u5c0f\u5e76\u4e0d\u662f\u6240\u6709\u65b9\u6cd5\u672c\u5730\u53d8\u91cf\u7684\u548c\uff0c\u5e94\u4e3a\u6d89\u53ca\u5230\u69fd\u7684\u590d\u7528\u3002</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_4","title":"\u672c\u5730\u65b9\u6cd5\u6808","text":"<p>\u548c\u865a\u62df\u673a\u6808\u7c7b\u4f3c\uff0c\u90fd\u662f\u4e00\u4e2a\u65b9\u6cd5\u6267\u884c\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u3002\u533a\u522b\u5728\u4e8e\u865a\u62df\u673a\u6808\u63d0\u4f9b\u7ed9 Jvm \u4e2d\u8fd0\u884c\u7684\u7a0b\u5e8f\u4f7f\u7528\uff0c\u672c\u5730\u65b9\u6cd5\u6808\u5219\u662f\u7531 jvm \u4f7f\u7528\u7684\u539f\u751f\u65b9\u6cd5\u4f7f\u7528\uff08\u5177\u4f53\u662f\u54ea\u79cd\u7c7b\u578b\u7684\u8bed\u8a00\u7684\u65b9\u6cd5\u6808\u4f9d\u8d56\u4e8e jvm \u662f\u4f7f\u7528\u54ea\u79cd\u8bed\u8a00\u5b9e\u73b0\u7684\uff09\u3002</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_5","title":"\u5806","text":"<p>\u5806\u4e2d\u5b58\u653e\u7684\u662f java \u5bf9\u8c61\uff0c\u8fd9\u4e2a\u533a\u57df\u4e5f\u662f jvm \u5783\u573e\u56de\u6536\u5668\u6240\u7ba1\u7406\u7684\u533a\u57df\u3002</p> <p>\u8fd9\u4e2a\u533a\u57df\u7684\u5927\u5c0f\u662f\u53ef\u6269\u5c55\u7684\uff0c\u4f7f\u7528 jvm \u53c2\u6570 -Xms \u6307\u5b9a\u6700\u5c0f\u5806\u5185\u5b58\u5927\u5c0f\uff0c-Xmx \u6307\u5b9a\u6700\u5927\u5806\u5185\u5b58\u5927\u5c0f\u3002</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_6","title":"\u65b9\u6cd5\u533a","text":"<p>\u5b58\u653e\u865a\u62df\u673a\u52a0\u8f7d\u7684\u7c7b\u7684\u7c7b\u578b\u4fe1\u606f\uff0c\u5e38\u91cf\uff0c\u9759\u6001\u53d8\u91cf\uff0c\u5373\u65f6\u7f16\u8bd1\u5668\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7f13\u5b58\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728 jdk7 \u7684 hotspot \u4e2d\uff0c\u5df2\u7ecf\u5c06\u5b57\u7b26\u4e32\u5e38\u91cf\u548c\u9759\u6001\u53d8\u91cf\u7b49\u4ece\u6c38\u4e45\u4ee3\u79fb\u9664\uff08hotspot \u4e4b\u524d\u5c06\u5783\u573e\u6536\u96c6\u5668\u7ba1\u7406\u7684\u533a\u57df\u6269\u5c55\u5230\u4e86\u65b9\u6cd5\u533a\uff0c\u65b9\u6cd5\u533a\u5373\u662f\u5783\u573e\u6536\u96c6\u533a\u57df\u4e2d\u7684\u6c38\u4e45\u4ee3\uff09\u3002</p> <p>String \u4f5c\u4e3a Java \u4e2d\u7684\u7279\u6b8a\u7684\u7c7b\uff0c\u5176\u5bf9\u8c61\u5b58\u50a8\u7684\u533a\u57df\u53ef\u89c1\uff1aString\u5728\u5185\u5b58\u4e2d\u5982\u4f55\u5b58\u50a8\uff08Java\uff09 - zeroingToOne - \u535a\u5ba2\u56ed (cnblogs.com)</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_7","title":"\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60","text":"<p>\u65b9\u6cd5\u533a\u7684\u4e00\u90e8\u5206\u3002</p> <p>class \u6587\u4ef6\u4e2d\u6709\u4e00\u9879\u4fe1\u606f\u662f\u5e38\u91cf\u6c60\u8868\uff08Constant Pool Table\uff09\uff0c\u7528\u4e8e\u5b58\u653e\u7f16\u8bd1\u671f\u751f \u6210\u7684\u5404\u79cd\u5b57\u9762\u91cf\u4e0e\u7b26\u53f7\u5f15\u7528\u3002\u8fd9\u90e8\u5206\u5185\u5bb9\u5c06\u5728\u7c7b\u52a0\u8f7d\u540e\u5b58\u653e\u5230\u65b9\u6cd5\u533a\u7684\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u7531\u5e38\u91cf\u6c60\u4e2d\u7684\u5e38\u91cf\u63cf\u8ff0\u7b26\u89e3\u6790\uff08\u7c7b\u52a0\u8f7d\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff09\u5f97\u5230\u7684\u76f4\u63a5\u5f15\u7528\u4e5f\u5b58\u653e\u5728\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u3002</p>"},{"location":"java/java%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/#_8","title":"\u76f4\u63a5\u5185\u5b58","text":"<p>\u5728 java \u7684 NIO \u63d0\u4f9b\u4e86\u4e00\u79cd\u57fa\u4e8e\u901a\u9053\uff08Channel\uff09\u548c\u7f13\u51b2\u533a\u7684 I/O \u65b9\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528 Native \u51fd\u6570\u5e93\u76f4\u63a5\u5206\u914d\u5806\u5916\u5185\u5b58\uff0c\u7136\u540e\u901a\u8fc7\u4e00\u4e2a java \u5806\u4e2d\u7684 DirectByteBuffer \u5bf9\u8c61\u4f5c\u4e3a\u5806\u5916\u5185\u5b58\u7684\u5f15\u7528\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u5f53\u7136\uff0c\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u5c42\u9762\uff0c\u76f4\u63a5\u5185\u5b58\u4ecd\u7136\u5c5e\u4e8e jvm \u8fd9\u4e2a\u8fdb\u7a0b\u3002</p>"},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/","title":"Java \u5185\u90e8\u7c7b","text":"<p>\u4e0d\u6d89\u53ca\u5185\u90e8\u7c7b\u7684\u8bed\u6cd5\u7ec6\u8282\u3002</p>"},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/#_1","title":"\u7c7b\u8bbf\u95ee\u4fee\u9970","text":"<p>java \u4e2d\u5bf9 class \u5b9a\u4e49\u4e86\u4ee5\u4e0b\u51e0\u79cd\u8bbf\u95ee\u4fee\u9970\u7b26\uff1a</p> <ul> <li>public\uff1a\u53ef\u4ee5\u5728\u4efb\u4f55\u5176\u4ed6\u7c7b\u4e2d\u88ab\u8bbf\u95ee</li> <li>(default)\uff1a\u53ea\u80fd\u88ab\u540c\u4e00\u4e2a\u5305\u4e2d\u7684\u7c7b\u8bbf\u95ee</li> </ul> <p>\u6ca1\u6709 private \u662f\u56e0\u4e3a\u4e00\u4e2a\u4e0d\u80fd\u88ab\u4efb\u4f55\u7c7b\u8bbf\u95ee\u7684\u7c7b\u6ca1\u6709\u610f\u4e49\uff0c\u6ca1\u6709 protected \u662f\u56e0\u4e3a java \u4e2d\u7684\u5305\u6ca1\u6709\u7ee7\u627f\u8fd9\u4e2a\u6982\u5ff5\uff08\u5373\u6ca1\u6709\u5b50\u5305\u8fd9\u4e2a\u6982\u5ff5\uff09\u3002</p> <p>\u9664\u4e86\u8fd9\u4e24\u4e2a\u4e4b\u5916\uff08public \u548c default\uff09\u4e4b\u5916\uff0c\u7c7b\u7684\u8bbf\u95ee\u9650\u5236\u4e0e\u5185\u90e8\u7c7b\u6709\u5173\u3002</p>"},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/#_2","title":"\u5185\u90e8\u7c7b","text":""},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/#_3","title":"\u6210\u5458\u5185\u90e8\u7c7b","text":"<p>\u6210\u5458\u5185\u90e8\u7c7b\u5c5e\u4e8e\u5916\u90e8\u7c7b\u7684\u4e00\u4e2a\u5bf9\u8c61\u3002\u5e0c\u671b\u521b\u5efa\u4e00\u4e2a\u6210\u5458\u5185\u90e8\u7c7b\uff0c\u90a3\u4e48\u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2a\u5916\u90e8\u7c7b\u7684\u5bf9\u8c61\u3002\u6210\u5458\u5185\u90e8\u7c7b\u62e5\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5f15\u7528 OuterClass.this \u8fd9\u4e2a\u5f15\u7528\u6307\u5411\u7528\u4e8e\u521b\u5efa\u8fd9\u4e2a\u5185\u90e8\u7c7b\u7684\u5916\u90e8\u7c7b\u7684\u5bf9\u8c61\u3002</p> <p>\u6210\u5458\u5185\u90e8\u7c7b\u53ef\u4ee5\u8bbf\u95ee\u5916\u90e8\u7c7b\u7684\u9759\u6001\u5b57\u6bb5 / \u65b9\u6cd5\uff0c\u4ee5\u53ca\u5916\u90e8\u7c7b\u5bf9\u8c61\u7684\u5b57\u6bb5\u548c\u65b9\u6cd5\uff08\u5305\u62ec private \u4fee\u9970\u7684\uff09\u3002</p>"},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/#_4","title":"\u9759\u6001\u5185\u90e8\u7c7b","text":"<p>\u9759\u6001\u5185\u90e8\u7c7b\u5c5e\u4e8e\u5916\u90e8\u7c7b\u8fd9\u4e2a\u7c7b\u3002\u521b\u5efa\u9759\u6001\u5185\u90e8\u7c7b\u4e0d\u9700\u8981\u4e00\u4e2a\u5bf9\u8c61\uff0c\u53ea\u9700\u8981\u5916\u90e8\u7c7b\u5b58\u5728\u5373\u53ef\u3002\u7531\u4e8e\u9759\u6001\u5185\u90e8\u7c7b\u4e0d\u5c5e\u4e8e\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u9759\u6001\u5185\u90e8\u7c7b\u4e5f\u4e0d\u80fd\u8bbf\u95ee\u5916\u90e8\u7c7b\u7684\u6210\u5458\uff08\u5b57\u6bb5 / \u65b9\u6cd5\uff09\uff0c\u4f46\u53ef\u4ee5\u8bbf\u95ee\u9759\u6001\u7684\u6210\u5458\uff08\u5b57\u6bb5/\u65b9\u6cd5\uff09\uff08\u5305\u62ec private\uff09\u3002</p> <p>\u9759\u6001\u5185\u90e8\u7c7b\u540c\u6837\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u7684\u6210\u5458\uff08\u5b57\u6bb5/\u65b9\u6cd5\uff09\u3002\u9759\u6001\u5185\u90e8\u7c7b\u53ef\u4ee5\u770b\u4f5c\u5177\u6709\u5916\u90e8\u7c7b\u9759\u6001\u6210\u5458\u8bbf\u95ee\u6743\u9650\u7684\u4e00\u4e2a\u5355\u72ec\u7684\u7c7b\u3002</p>"},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/#_5","title":"\u5c40\u90e8\u5185\u90e8\u7c7b","text":"<p>\u5c40\u90e8\u5185\u90e8\u7c7b\u5b9a\u4e49\u5728\u4e00\u4e2a\u5757\uff08\u4e00\u5bf9\u5927\u62ec\u53f7\uff09\u4e2d\uff0c\u8fd9\u4e2a\u5757\u4e4b\u5916\u7684\u5730\u65b9\u90fd\u6ca1\u6709\u529e\u6cd5\u8bbf\u95ee\u8fd9\u4e2a\u7c7b\uff08\u5373\u4f7f\u5728\u540c\u4e00\u4e2a\u65b9\u6cd5\u4e2d\uff09\uff0c\u4f7f\u7528\u4e0a\u4e0e\u6b63\u5e38\u7684\u7c7b\u5e76\u65e0\u4e0d\u540c\u3002</p>"},{"location":"java/java%20%E5%86%85%E9%83%A8%E7%B1%BB/#_6","title":"\u533f\u540d\u5185\u90e8\u7c7b","text":"<p>\u533f\u540d\u5185\u90e8\u7c7b\u7684\u4f5c\u7528\u662f\u7ee7\u627f\u4e00\u4e2a\u7c7b\u6216\u8005\u63a5\u53e3\u5e76\u7acb\u523b\u521b\u5efa\u8fd9\u4e2a\u7c7b\u7684\u5bf9\u8c61\uff0cjava \u5df2\u7ecf\u652f\u6301 lambda \u51fd\u6570\uff0c\u4e8c\u8005\u7684\u4f5c\u7528\u76f8\u4f3c\u4e0d\u5fc5\u8981\u4f7f\u7528\u533f\u540d\u5185\u90e8\u7c7b\u3002</p>"},{"location":"java/java%20%E7%A0%81%E7%82%B9%E5%92%8C%E7%A0%81%E5%85%83/","title":"Java \u7801\u70b9\u548c\u7801\u5143","text":""},{"location":"java/java%20%E7%A0%81%E7%82%B9%E5%92%8C%E7%A0%81%E5%85%83/#_1","title":"\u6982\u8ff0","text":"<p>Java\u4e2dString\u7684\u8bbe\u8ba1\u662f\u5728Unicode\u7f16\u7801\u5c1a\u672a\u5b8c\u6210\u65f6\u8fdb\u884c\u7684\uff0c\u539f\u672c\u7528\u6765\u8868\u793a\u4e16\u754c\u4e0a\u6240\u6709\u5b57\u7b26\u768416\u4e2a\u4f4d\u5728\u540e\u671f\u4e0d\u80fd\u80dc\u4efb\u8fd9\u4e2a\u4efb\u52a1\u3002Java\u4f7f\u7528\u4e86\u4e00\u79cd\u53ef\u53d8\u957f\u7684\uff0c\u5411\u540e\u517c\u5bb9\u7684\u7f16\u7801\uff0cUTF-16\u3002</p> <ul> <li>\u5178\u578b\u7684\uff08\u53ef\u4ee5\u572816\u4f4d\u4ee5\u5185\u8868\u793a\u7684\u5b57\u7b26\uff09\u7528\u4e00\u4e2a16\u4f4d\u7f16\u7801\u6765\u8868\u793a\uff0c\u5360\u7528\u4e00\u4e2achar\uff1b</li> <li>\u5360\u7528\u4f4d\u6570\u8d85\u8fc716\u4f4d\u7684\u5b57\u7b26\u7528\u4e00\u7ec4\uff08\u51e0\u4e2a\uff09\u6765\u81ea\u7f16\u7801\u7a7a\u95f4\u4e2d\u7279\u6b8a\u533a\u57df\u768416\u4f4d\u7f16\u7801\uff08\u79f0\u4f5csurrogate characters\uff09\u6765\u8868\u793a\uff0c\u5360\u7528\u591a\u4e2achar\uff1b</li> </ul> <p>\u80fd\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u768416\u4f4d\u7684\uff08\u4e00\u4e2achar\uff09\u6216n*16\u4f4d\uff08\u591a\u4e2achar\uff09\u7684\u7f16\u7801\u79f0\u4f5c\u7801\u70b9\uff0c\u6bcf\u4e2a16\u4f4d\u7f16\u7801\uff08\u6bcf\u4e2achar\uff09\u79f0\u4f5c\u7801\u5143\u3002</p> <p>\u8fd9\u91cc\u9700\u8981\u4e86\u89e3\u4e00\u70b9 utf-16 \u7684\u4e1c\u897f\uff0c\u5373\u5982\u4f55\u533a\u5206\u4e00\u4e2a\u548c\u4e24\u4e2a\u7801\u5143\u7ec4\u6210\u7684\u7801\u70b9\u3002</p> <p>\u76f4\u63a5\u4e0a\u7ed3\u8bba\uff1a</p> <p>\u5728 utf-16 \u4e2d\uff0c\u4ece U+D800 \u5230 U+DFFF \u4e4b\u95f4\u7684\u7801\u4f4d\u533a\u6bb5\u662f\u6c38\u4e45\u4fdd\u7559\u4e0d\u6620\u5c04\u5230Unicode\u5b57\u7b26\uff0c\u5373\u5f53\u4e00\u4e2a\u7801\u70b9\u53ea\u5360\u7528\u4e00\u4e2a\u7801\u5143\u65f6\uff0c0xD800 \u5230 0xDFFF \u662f\u4e0d\u4f7f\u7528\u7684\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u9047\u5230\u4e00\u4e2a\u7801\u5143\u5728\u8fd9\u4e2a\u533a\u95f4\u4e2d\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7801\u5143\u4e00\u5b9a\u548c\u4e0b\u4e00\u4e2a\u7801\u5143\u4e00\u8d77\u7ec4\u6210\u4e00\u4e2a\u7801\u70b9\u3002</p> <p>\u5177\u4f53\u7684\u7f16\u7801\u65b9\u5f0f\u53ef\u4ee5\u53c2\u8003\uff1a</p> <p>Unicode\u4e2dUTF-8\u4e0eUTF-16\u7f16\u7801\u8be6\u89e3 - \u6398\u91d1</p> <p>\u672c\u6587\u901a\u8fc7\u4ecb\u7ecdUnicode\u7f16\u7801\u4ee5\u53ca\u5bf9\u5e94\u7684\u4e24\u79cd\u7f16\u7801\u65b9\u5f0fUTF-8\u548cUTF-16\uff0c\u8ba9\u8bfb\u8005\u80fd\u591f\u4e86\u89e3\u5173\u4e8e\u5b57\u7b26\u4e32\u7f16\u7801\u7684\u76f8\u5173\u77e5\u8bc6\uff0c\u540c\u65f6\u80fd\u591f\u5f04\u6e05\u695aUnicode\u548cUTF-8\u548cUTF-16\u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u672c\u6587\u4f5c\u4e3autfx.js\u6e90\u7801\u89e3\u6790\u7684\u57fa\u7840\u77e5\u8bc6\u50a8\u5907\u6587\u7ae0\uff0c\u901a\u8fc7\u4e86\u89e3UTF-8\u548cUTF-16\u8fd9\u4e24\u79cd\u7f16\u7801\u2026</p> <p>Unicode\u4e2dUTF-8\u4e0eUTF-16\u7f16\u7801\u8be6\u89e3</p> <p>https://zh.m.wikipedia.org/wiki/UTF-16</p>"},{"location":"java/java%20%E7%A0%81%E7%82%B9%E5%92%8C%E7%A0%81%E5%85%83/#_2","title":"\u5b9e\u9a8c","text":"<p>\u8f93\u51fa\u6bcf\u4e2a\u7801\u5143\uff08code unit\uff09</p> <pre><code>String str = \" \";\nSystem.out.println(str.length());\nfor(char e : str.toCharArray()){\n    System.out.print(e+\": \");\n    System.out.printf(\"\\\\u%04x\\n\", (inte);\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u7684\u8f93\u51fa\u662f</p> <pre><code>2\n?: \\ud835\n?: \\udd46\n</code></pre> <p>\u8f93\u51fa\u6bcf\u4e2a\u7801\u70b9\uff08code point)</p> <pre><code>int i = 0;\nwhile (i &lt; str.length()) {\n    int j = str.offsetByCodePoints(i, 1);   //j will be 2, offset 1 codepoint of( ) is 2 codeunit(2 char)\n    String codePoint = str.substring(i, j);\n    System.out.println(codePoint);\n    i = j;\n}\n</code></pre>"},{"location":"java/java%20%E7%A0%81%E7%82%B9%E5%92%8C%E7%A0%81%E5%85%83/#_3","title":"\u5b8c\u6574\u4ee3\u7801","text":"<pre><code>public class CodePointTest {\n    public static void main(String[] args) {\n        String str = \" \";\n        System.out.println(str.length());\n        for (char e : str.toCharArray()) {\n            System.out.print(e + \": \");\n            System.out.printf(\"\\\\u%04x\\n\", (int) e);\n        }\n\n        int i = 0;\n        while (i &lt; str.length()) {\n            int j = str.offsetByCodePoints(i, 1);   //j will be 2, offset 1 codepoint of( ) is 2 codeunit(2 char)\n            String codePoint = str.substring(i, j);\n            System.out.println(codePoint);\n            i = j;\n        }\n\n    }\n}\n</code></pre>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/","title":"Java \u7c7b\u52a0\u8f7d\u8fc7\u7a0b","text":"<p>\u5927\u90e8\u5206\u5185\u5bb9\u4ece\u300a\u5468\u5fd7\u660e\uff1a\u6df1\u5165\u7406\u89e3 Java \u865a\u62df\u673a\u300b\u6574\u7406\u800c\u6765\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_1","title":"\u7c7b\u52a0\u8f7d\u7684\u76ee\u6807","text":"<p>\u4f7f\u4e00\u4e2a\u7c7b\u662f\u5b8c\u5168\u53ef\u7528\u7684\uff08\u5224\u65ad\u5b50\u7c7b\u7ee7\u627f\uff0c\u63a5\u53e3\u5b9e\u73b0\u7b49\u5143\u4fe1\u606f\u53ef\u4ee5\u6267\u884c\u5b9a\u4e49\u7684\u4ee3\u7801\uff0c\u5305\u62ec\u5b9e\u4f8b\u548c\u9759\u6001\u65b9\u6cd5\uff0c\u5c5e\u6027\u8868\u4e2d\u7684 code\uff0c\u4ee5\u53ca\u8bbf\u95ee\u7c7b\u53d8\u91cf\uff09</p> <ul> <li>\u52a0\u8f7d\uff1a\u5c06\u5b57\u8282\u6d41\u8f6c\u6362\u4e3a jvm \u53ef\u8bfb\u7684\u6570\u636e\u7ed3\u6784\uff0c\u4e3a\u4e4b\u540e\u7684\u6b65\u9aa4\u63d0\u4f9b\u652f\u6301</li> <li>\u9a8c\u8bc1\uff1a\u5728 jvm \u53ef\u8bfb\u7684\u6570\u636e\u7ed3\u6784\u4e4b\u4e0a\u68c0\u6d4b\u8fd9\u4e2a\u7c7b\u7684\u5408\u6cd5\u6027\uff08\u548c\u89e3\u6790\u9636\u6bb5\u6709\u6df7\u5408\uff09</li> <li>\u51c6\u5907\uff1a\u4e3b\u8981\u662f\u521d\u59cb\u5316\u9759\u6001\u53d8\u91cf\u4e3a 0 \u503c</li> <li>\u89e3\u6790\uff1a\u5c06\u5b57\u9762\u91cf\u7684\u5f15\u7528\u8f6c\u5316\u4e3a\u5185\u5b58\u5730\u5740\u5f62\u5f0f\u7684\u76f4\u63a5\u5f15\u7528</li> <li>\u521d\u59cb\u5316\uff1a\u9759\u6001\u521d\u59cb\u5316\u5757\u7684\u6267\u884c</li> </ul>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_2","title":"\u7c7b\u52a0\u8f7d\u65f6\u673a","text":"<p>\u4e00\u4e2a .class \u6587\u4ef6\u5728 Jvm \u4e2d\u7684\u751f\u547d\u5468\u671f\u5927\u81f4\u5982\u4e0b\uff08\u89e3\u6790\u4e0d\u4e00\u5b9a\u5728\u521d\u59cb\u5316\u4e4b\u524d\uff0c\u4e5f\u53ef\u80fd\u5728\u521d\u59cb\u5316\u4e4b\u540e\u5f00\u59cb\uff09\u3002</p> <p></p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#6","title":"\u7c7b\u52a0\u8f7d\u7684 6 \u4e2a\u65f6\u673a","text":"<ol> <li>\u5728\u9047\u5230\u5b57\u8282\u7801 new, getstatic, putstatic, invokestatic \u65f6\uff0c\u5982\u679c\u76f8\u5e94\u7684\u7c7b\u578b\u6ca1\u6709\u88ab\u521d\u59cb\u5316\uff0c\u90a3\u4e48\u5c06\u4f1a\u89e6\u53d1\u76f8\u5e94\u7c7b\u578b\u7684\u521d\u59cb\u5316\u3002    \u5177\u4f53\u6765\u8bf4\u662f\u4f7f\u7528 new \u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u8bfb\u5199\u7c7b\u9759\u6001\u5b57\u6bb5\u65f6\uff08final \u4fee\u9970\u7684\u5b57\u6bb5\u9664\u5916\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u4f1a\u5728\u7f16\u8bd1\u671f\u5c31\u653e\u5230 .class \u6587\u4ef6\u4e2d\u7684\u5e38\u91cf\u6c60\u4e2d\uff09\uff0c\u8c03\u7528\u7c7b\u9759\u6001\u65b9\u6cd5\u662f\u3002</li> <li>\u4f7f\u7528\u53cd\u5c04\uff0c\u4e14\u76f8\u5e94\u7684\u7c7b\u6ca1\u6709\u88ab\u521d\u59cb\u5316\u3002</li> <li>\u521d\u59cb\u5316\uff08\u8fd9\u91cc\u662f\u4e0a\u9762 .class \u6587\u4ef6\u7684\u751f\u547d\u5468\u671f\u4e2d\u7684\u521d\u59cb\u5316\uff09\u65f6\uff0c\u7236\u7c7b\u6ca1\u6709\u521d\u59cb\u5316\u3002</li> <li>\u865a\u62df\u673a\u542f\u52a8\u65f6\u6307\u5b9a\u7684\u4e3b\u7c7b\u3002</li> <li>Java \u52a8\u6001\u8bed\u8a00\u652f\u6301\u7279\u6027\u4e2d\u89e3\u6790\u51fa\u6765\u7684\u76f8\u5e94\u7684\u7c7b\u6ca1\u6709\u88ab\u521d\u59cb\u5316\u3002</li> <li>\u5b9a\u4e49\u4e86\u9ed8\u8ba4\u5b9e\u73b0\u7684\u63a5\u53e3\uff08default \u5173\u952e\u5b57\u4fee\u9970\uff09\u7684\u5b9e\u73b0\u7c7b\u53d1\u751f\u521d\u59cb\u5316\u65f6\u3002</li> </ol>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#3","title":"3 \u4e2a\u53cd\u4f8b","text":"<p>\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d JVM \u4e0d\u4f1a\u8fdb\u884c\u7c7b\u52a0\u8f7d\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#1","title":"1.\u5f15\u7528\u7236\u7c7b\u7684\u9759\u6001\u5b57\u6bb5","text":"<pre><code>class SuperClass {\n    static {\n        System.out.println(\"SuperClass Init!\");\n    }\n    public static int value = 1;\n}\n\nclass SubClass extends SuperClass{\n    Static {\n        System.out.println(\"SubClass Init!\");\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(SubClass.value);\n    }\n}\n</code></pre> <p>\u5373\u4f7f\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\u5b9a\u4e49\u591a\u4e2a\u7c7b\uff0c\u5728 javac \u7f16\u8bd1\u540e\u4ecd\u4f1a\u751f\u6210\u591a\u4e2a .class \u6587\u4ef6\u3002</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u53ea\u4f1a\u8f93\u51fa \"SuperClass Init!\"</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#2","title":"2.\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b\u7684\u6570\u7ec4","text":"<p>\u5b9a\u4e49\u6570\u7ec4\u4e0d\u4f1a\u89e6\u53d1\u4e00\u4e2a\u7c7b\u578b\u7684\u521d\u59cb\u5316</p> <pre><code>TargetClass[] refArray = new TargetClass[8]\n</code></pre> <p>\u5e26\u6709\u6570\u7ec4\u521d\u59cb\u5316\u7684\u8bed\u53e5\u4e5f\u662f\uff0cJava \u5c06\u8fd9\u4e2a\u7c7b\u7684\u6570\u7ec4\u5355\u72ec\u4f5c\u4e3a\u4e00\u4e2a\u7c7b\u8fdb\u884c\u52a0\u8f7d\uff0c\u800c\u4e0d\u4f1a\u52a0\u8f7d\u8fd9\u4e2a\u7c7b\uff08\u67d0\u4e2a\u7c7b\u7684\u6570\u7ec4\u4e5f\u662f\u4e00\u4e2a\u7c7b\uff0cjvm \u4e2d\u4e00\u4e2a\u533f\u540d\u7684\u7c7b\uff09\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#3-final","title":"3.\u5f15\u7528 final \u4fee\u9970\u7684\u5b57\u6bb5","text":"<p>\u6211\u4eec\u77e5\u9053 final \u4fee\u9970\u7684\u5b57\u6bb5\u5c06\u88ab\u653e\u5728 .class \u6587\u4ef6\u7684\u5e38\u91cf\u6c60\u4e2d\uff0c\u90a3\u4e3a\u4ec0\u4e48\u4e0d\u9700\u8981\u52a0\u8f7d final \u6240\u5728\u7684\u7c7b\u5373\u53ef\u5f15\u7528\u5462\uff1f</p> <p>\u539f\u56e0\u5728\u4e8e\u7f16\u8bd1\u9636\u6bb5\u7684\u5e38\u91cf\u4f20\u64ad\u4f18\u5316\u4f1a\u5c06\u7c7b\u5f15\u7528\u7684\u522b\u7684\u7c7b\u7684 final \u5b57\u6bb5\u653e\u5165\u5f53\u524d\u7c7b\u7684\u5e38\u91cf\u6c60\u4e2d\uff0c\u8fd0\u884c\u65f6\u5b9e\u9645\u662f\u5bf9\u81ea\u8eab\u5e38\u91cf\u6c60\u5b57\u6bb5\u7684\u5f15\u7528\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_3","title":"\u7c7b\u52a0\u8f7d\u7684\u6b65\u9aa4","text":""},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#1_1","title":"1.\u52a0\u8f7d","text":"<p>\u52a0\u8f7d\u4f5c\u4e3a\u7c7b\u52a0\u8f7d\u4e2d\u7684\u4e00\u4e2a\u6b65\u9aa4\uff0c\u5b8c\u6210\u4ee5\u4e0b 3 \u4ef6\u4e8b</p> <ol> <li>\u901a\u8fc7\u4e00\u4e2a\u7c7b\u7684\u5168\u9650\u5b9a\u540d\u83b7\u53d6\u9700\u8981\u52a0\u8f7d\u7684\u7c7b\u7684\u4e8c\u8fdb\u5236\u5b57\u8282\u6d41\u3002</li> <li>\u5c06\u83b7\u53d6\u7684\u5b57\u8282\u6d41\u8f6c\u5316\u4e3a\u65b9\u6cd5\u533a\u4e2d\u7684\u8fd0\u884c\u65f6\u6570\u636e\u7ed3\u6784\u3002</li> <li>\u5728\u5806\u4e2d\u521b\u5efa\u76f8\u5e94\u7684 java.lang.Class \u5bf9\u8c61\uff0c\u4f5c\u4e3a\u65b9\u6cd5\u53bb\u8fd9\u4e2a\u7c7b\u7684\u5404\u79cd\u6570\u636e\u7684\u8bbf\u95ee\u5165\u53e3\u3002</li> </ol> <p>\u7531\u4e4b\u524d\u7684\u53cd\u4f8b\uff0c\u6570\u7ec4\u4f5c\u4e3a\u4e00\u4e2a\u7c7b\u548c\u6570\u7ec4\u5143\u7d20\u7684\u7c7b\u76f8\u533a\u522b\uff0c\u672c\u8eab\u5e76\u4e0d\u662f\u7531\u7c7b\u52a0\u8f7d\u5668\u521b\u5efa\uff0c\u800c\u662f\u7531 JVM \u52a8\u6001\u521b\u5efa\u7684\u3002</p> <p>\u7531\u4e8e\u4e00\u4e2a\u7c7b\u5fc5\u987b\u786e\u5b9a\u5176\u81ea\u8eab\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u6570\u7ec4\u7c7b\u540c\u6837\u4e0e\u7c7b\u52a0\u8f7d\u5668\u76f8\u5173\u3002</p> <p>\u6570\u7ec4\u7684\u7c7b\u6839\u636e\u5143\u7d20\u7684\u7c7b\u578b\u5206\u4e3a\u4e24\u7c7b\uff1a1.\u5f15\u7528\u7c7b\u578b\u7684\u6570\u7ec4\uff1b2.\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u6570\u7ec4\u3002\u5f15\u7528\u7c7b\u578b\u7684\u6570\u7ec4\u5c06\u88ab\u6807\u8bc6\u5728\u52a0\u8f7d\u5143\u7d20\u7c7b\u578b\u7684\u7c7b\u52a0\u8f7d\u5668\u7684\u7c7b\u540d\u79f0\u7a7a\u95f4\u4e0a\uff08\u8003\u8651\u591a\u7ef4\u6570\u7ec4\u7684\u5b58\u5728\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u9012\u5f52\u7684\uff09\u3002</p> <p>\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u6570\u7ec4\u5c06\u88ab\u6807\u8bc6\u5728\u5f15\u5bfc\u7c7b\u52a0\u8f7d\u5668\uff08jvm \u5185\u7f6e\u7684\u7c7b\u52a0\u8f7d\u5668\uff09\u7684\u7c7b\u540d\u79f0\u7a7a\u95f4\u4e0a\u3002</p> <p>\u5f15\u7528\u7c7b\u578b\u7684\u6570\u7ec4\u5c06\u88ab\u6807\u8bc6\u5728\u8be5\u6570\u7ec4\u7684\u4e0a\u4e00\u7ef4\u7684\u7c7b\u578b\uff08\u6bd4\u5982 MyClass[][] \u7684\u4e0a\u4e00\u7ef4\u7684\u7c7b\u578b\u4e3a MyClass[]\uff09\u7684\u7c7b\u52a0\u8f7d\u5668\u7684\u7c7b\u540d\u79f0\u7a7a\u95f4\u4e0a\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u9012\u5f52\u7684\u3002</p> <p>\u6570\u7ec4\u7c7b\u7684\u53ef\u8bbf\u95ee\u6027\u4e0e\u5143\u7d20\u7684\u7c7b\u578b\u4e00\u81f4\u3002\u5982\u679c\u662f\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5219\u4e3a public\u3002</p> <p>\u52a0\u8f7d\u9636\u6bb5\u7ed3\u675f\u540e\uff0cJava \u865a\u62df\u673a\u5916\u90e8\u7684\u4e8c\u8fdb\u5236\u5b57\u8282\u6d41\u5c31\u6309\u7167\u865a\u62df\u673a\u6240\u8bbe\u5b9a\u7684\u683c\u5f0f\u5b58\u50a8\u5728\u65b9\u6cd5\u533a\u4e4b\u4e2d\u4e86\uff08\u7531 JVM \u7684\u5b9e\u73b0\u81ea\u884c\u5b9a\u4e49\uff09\u3002\u7c7b\u578b\u6570\u636e\u59a5\u5584\u5b89\u7f6e\u5728\u65b9\u6cd5\u533a\u4e4b\u540e\uff0c\u4f1a\u5728Java\u5806\u5185\u5b58\u4e2d\u5b9e\u4f8b\u5316\u4e00\u4e2ajava.lang.Class \u7c7b\u7684\u5bf9\u8c61\uff0c \u8fd9\u4e2a\u5bf9\u8c61\u5c06\u4f5c\u4e3a\u7a0b\u5e8f\u8bbf\u95ee\u65b9\u6cd5\u533a\u4e2d\u7684\u7c7b\u578b\u6570\u636e\u7684\u5916\u90e8\u63a5\u53e3\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#2_1","title":"2.\u9a8c\u8bc1","text":"<p>\u9a8c\u8bc1\u662f\u8fde\u63a5\uff08\u4e00\u5171\u5305\u62ec 3 \u4e2a\u9636\u6bb5\uff0c\u89c1\u4e0a\u56fe\uff09\u7684\u7b2c\u4e00\u6b65\uff0c\u76ee\u7684\u662f\u9a8c\u8bc1\u83b7\u53d6\u7684\u5b57\u8282\u7801\u7b26\u5408\u89c4\u8303\u3002</p> <p>\u9a8c\u8bc1\u5927\u81f4\u5206\u4e3a\u4e0b\u9762 4 \u79cd\u3002</p> <ol> <li>\u6587\u4ef6\u683c\u5f0f\u9a8c\u8bc1    \u4e3b\u8981\u662f\u57fa\u4e8e\u4e8c\u8fdb\u5236\u6d41\u8fdb\u884c\u9a8c\u8bc1\u3002    \u4f8b\u5982\u5b57\u8282\u7801\u662f\u5426\u4ee5\u9b54\u6570\uff080xCAFEBABE\uff09\u5f00\u5934    \u5b57\u8282\u7801\u7684\u4e3b\u6b21\u7248\u672c\u53f7\uff08\u5728 JVM \u53ef\u63a5\u53d7\u7684\u8303\u56f4\u5185\uff09    \u5e38\u91cf\u6c60\u4e2d\u7684\u7c7b\u578b\u662f\u5426\u5408\u6cd5    \u6307\u5411\u5e38\u91cf\u7684\u7d22\u5f15\u6ca1\u6709\u8d8a\u754c\u7c7b\u578b\u5339\u914d    CONSTANT_Utf8_info \u578b\u7684\u5e38\u91cf\u662f\u5426\u7b26\u5408 utf-8 \u7684\u7f16\u7801\u7b49\u3002</li> <li>\u5143\u6570\u636e\u9a8c\u8bc1    \u4e3b\u8981\u662f\u9a8c\u8bc1\u7c7b\u578b\u7684\u5143\u4fe1\u606f\uff0c\u6bd4\u5982\u7236\u7c7b\u662f\u5426\u5408\u6cd5\uff0c\u5982\u679c\u5b9e\u73b0\u63a5\u53e3\u662f\u5426\u5b9e\u73b0\u4e86\u63a5\u53e3\u65b9\u6cd5\uff0c\u5b57\u6bb5\u662f\u5426\u4e0e\u7236\u7c7b\u51b2\u7a81\u7b49\u3002</li> <li>\u5b57\u8282\u7801\u9a8c\u8bc1    \u64cd\u4f5c\u6570\u6808\u7684\u6570\u636e\u7c7b\u578b\u4e0e\u6307\u4ee4\u4ee3\u7801\u4e2d\u5339\u914d\uff0c\u8df3\u8f6c\u6307\u4ee4\u7684\u5408\u6cd5\u6027\uff08\u4e0d\u4f1a\u8df3\u8f6c\u5230\u65b9\u6cd5\u4f53\u5916\uff09\uff0c\u7c7b\u578b\u8f6c\u6362\u662f\u6709\u6548\u7684\u3002    \u5728 JDK 6\u4e4b\u540e\u7684 Javac \u7f16\u8bd1\u5668\u548c JVM \u91cc\u8fdb\u884c\u4e86\u4e00\u9879\u8054\u5408\u4f18\u5316\uff0c\u628a\u5c3d\u53ef\u80fd\u591a\u7684\u6821\u9a8c\u8f85\u52a9\u63aa\u65bd\u632a\u5230 Javac \u7f16\u8bd1\u5668\u91cc\u8fdb\u884c\u3002\u5177\u4f53\u505a\u6cd5\u662f\u7ed9\u65b9\u6cd5\u4f53 Code \u5c5e\u6027\u7684\u5c5e\u6027\u8868\u4e2d\u65b0\u589e\u52a0\u4e86\u4e00\u9879\u540d \u4e3a \u201cStackMapTable\u201d \u7684\u65b0\u5c5e\u6027\uff0c\u8fd9\u9879\u5c5e\u6027\u63cf\u8ff0\u4e86\u65b9\u6cd5\u4f53\u6240\u6709\u7684\u57fa\u672c\u5757\uff08Basic Block\uff0c\u6307\u6309\u7167\u63a7\u5236\u6d41\u62c6\u5206\u7684\u4ee3\u7801\u5757\uff09\u5f00\u59cb\u65f6\u672c\u5730\u53d8\u91cf\u8868\u548c\u64cd\u4f5c\u6808\u5e94\u6709\u7684\u72b6\u6001\uff0c\u5728\u5b57\u8282\u7801\u9a8c\u8bc1\u671f\u95f4\uff0cJava\u865a\u62df\u673a\u5c31\u4e0d\u9700\u8981\u6839\u636e\u7a0b\u5e8f\u63a8\u5bfc\u8fd9\u4e9b\u72b6\u6001\u7684\u5408\u6cd5\u6027\uff0c\u53ea\u9700\u8981\u68c0\u67e5StackMapTable\u5c5e\u6027\u4e2d\u7684\u8bb0\u5f55\u662f\u5426\u5408\u6cd5\u5373\u53ef\u3002\uff08\u53ef\u80fd\u5b58\u5728 \u201cStackMapTable\u201d \u88ab\u7be1\u6539\u5bfc\u81f4\u9519\u8bef\uff09</li> <li>\u7b26\u53f7\u5f15\u7528\u7684\u9a8c\u8bc1    \u53d1\u751f\u5728 jvm \u5c06\u65b9\u6cd5\u533a\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\u8f6c\u5316\u4e3a\u76f4\u63a5\u5f15\u7528\u7684\u65f6\u5019\uff08\u8f6c\u5316\u52a8\u4f5c\u5728\u8fde\u63a5\u7684\u7b2c\u4e09\u9636\u6bb5\uff0c\u89e3\u6790\u4e2d\u5b8c\u6210\uff09\u3002    \u5305\u62ec\u4ee5\u4e0b\u7684\u9a8c\u8bc1    \u662f\u5426\u80fd\u901a\u8fc7\u5b57\u7b26\u4e32\u63cf\u8ff0\u7684\u7c7b\u7684\u5168\u9650\u5b9a\u540d\u627e\u5230\u5bf9\u5e94\u7684\u7c7b    \u5bf9\u5e94\u7684\u7c7b\u4e2d\uff0c\u6307\u5b9a\u7684\u5b57\u6bb5\u548c\u65b9\u6cd5\u662f\u5426\u5b58\u5728\uff0c\u4ee5\u53ca\u662f\u5426\u662f\u53ef\u8bbf\u95ee\u7684</li> </ol> <p>\u7c7b\u52a0\u8f7d\u4e2d\u7684\u9a8c\u8bc1\u9636\u6bb5\u5982\u679c\u88ab\u8ba4\u4e3a\u662f\u6ca1\u6709\u5fc5\u8981\u7684\uff08\u6bd4\u5982\u5df2\u7ecf\u591a\u6b21\u4f7f\u7528\u8fc7\u8be5\u5e94\u7528\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 <code>-Xverify\uff1anone</code> jvm \u53c2\u6570\u8df3\u8fc7\u9a8c\u8bc1\u9636\u6bb5\uff0c\u4ee5\u52a0\u5feb\u7c7b\u52a0\u8f7d\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#3_1","title":"3.\u51c6\u5907","text":"<p>\u4e3a\u7c7b\u53d8\u91cf\uff08\u9759\u6001\u53d8\u91cf\uff09\u5206\u914d\u5185\u5b58\u5e76\u521d\u59cb\u5316\uff08\u6307\u7f6e 0\uff0c\u4ee5\u6307\u5b9a\u503c\u8d4b\u503c\u5728\u7c7b\u7684\u521d\u59cb\u5316\u9636\u6bb5\uff0c\u5982\u679c\u662f final \u4fee\u9970\uff0c\u90a3\u4e48\u76f4\u63a5\u4f7f\u7528\u6307\u5b9a\u503c\u521d\u59cb\u5316\uff09\u3002\u6ce8\u610f\u65b9\u6cd5\u533a\u662f\u4e00\u4e2a\u903b\u8f91\u6982\u5ff5\uff0c\u7c7b\u53d8\u91cf\u4f7f\u7528\u7684\u5185\u5b58\u5904\u4e8e\u65b9\u6cd5\u533a\u4e2d\uff0c\u5728 jdk 8 \u4e4b\u540e\uff0c\u65b9\u6cd5\u533a\u548c Class \u5bf9\u8c61\u4e00\u8d77\u5b58\u653e\u5728\u5806\u4e2d\u3002</p> <p>\u5728 Jdk 6 \u4e4b\u524d\uff0c\u9759\u6001\u53d8\u91cf\u5b58\u653e\u5728\u65b9\u6cd5\u533a\u4e2d\uff0c\u4e4b\u540e\uff0c\u9759\u6001\u53d8\u91cf\u5b58\u653e\u5728 Class \u5bf9\u8c61\u7684\u672b\u5c3e\uff0c\u4e5f\u5c31\u662f\u5806\u4e2d\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#4","title":"4.\u89e3\u6790","text":"<p>JVM \u5c06\u5e38\u91cf\u6c60\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\uff08\u5728 .class \u6587\u4ef6\u4e2d\u4ee5 CONSTANT_Class_info\uff0cCONSTANT_Fieldref_info\uff0cCONSTANT_Methodref_info \u7b49\u7c7b\u578b\u7684\u5e38\u91cf\u51fa\u73b0\uff09\u66ff\u6362\u4e3a\u76f4\u63a5\u5f15\u7528\uff08\u5373\u5c06\u63cf\u8ff0\u5f15\u7528\u76ee\u6807\u7684\u5b57\u9762\u91cf\u8f6c\u6362\u6210\u4e00\u4e2a\u6307\u5411\u76ee\u6807\u7684\u5185\u5b58\u5730\u5740\uff0c\u504f\u79fb\u91cf\u6216\u8005\u80fd\u8bbf\u95ee\u76ee\u6807\u7684\u53e5\u67c4\uff09\u3002\u5bf9\u4e8e\u5b57\u6bb5\uff0c\u65b9\u6cd5\u548c\u7c7b\u7684\u53ef\u8bbf\u95ee\u6027\u4e5f\u662f\u5728\u8fd9\u4e2a\u9636\u6bb5\u4e2d\u5b8c\u6210\u7684\u3002</p> <p>\u300aJava\u865a\u62df\u673a\u89c4\u8303\u300b\u5e76\u6ca1\u6709\u660e\u786e\u5bf9\u89e3\u6790\u7684\u65f6\u673a\u505a\u7ea6\u675f\uff0c\u5230\u5e95\u662f\u5728\u7c7b\u52a0\u8f7d\u65f6\u5bf9\u5e38\u91cf\u6c60\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\u505a\u89e3\u6790\uff0c\u8fd8\u662f\u5728\u4e00\u4e2a\u7b26\u53f7\u5f15\u7528\u88ab\u4f7f\u7528\u65f6\u518d\u505a\u89e3\u6790\u4f9d\u8d56\u4e8e\u865a\u62df\u673a\u7684\u5b9e\u73b0\u3002</p> <p>\u89e3\u6790\u52a8\u4f5c\u4e3b\u8981\u9488\u5bf9\u7c7b\u6216\u63a5\u53e3\u3001\u5b57\u6bb5\u3001\u7c7b\u65b9\u6cd5\u3001\u63a5\u53e3\u65b9\u6cd5\u3001\u65b9\u6cd5\u7c7b\u578b\u3001\u65b9\u6cd5\u53e5\u67c4\u548c\u8c03\u7528\u70b9\u9650\u5b9a\u7b26\u8fd97 \u7c7b\u7b26\u53f7\u5f15\u7528\u8fdb\u884c\uff0c\u5206\u522b\u5bf9\u5e94\u4e8e\u5e38\u91cf\u6c60\u7684 \uff088 \u79cd\u5e38\u91cf\u7c7b\u578b\uff09 CONSTANT_Class_info\uff1a\u7c7b\u6216\u63a5\u53e3 CON-STANT_Fieldref_info\uff1a\u5b57\u6bb5 CONSTANT_Methodref_info\uff1a\u7c7b\u65b9\u6cd5CONSTANT_InterfaceMethodref_info\uff1a\u63a5\u53e3\u65b9\u6cd5 CONSTANT_MethodType_info\uff1a\u65b9\u6cd5\u7c7b\u578bCONSTANT_MethodHandle_info\uff1a\u65b9\u6cd5\u53e5\u67c4 CONSTANT_Dyna-mic_info\uff1a\u8c03\u7528\u70b9\u9650\u5b9a\u7b26 CONSTANT_InvokeDynamic_info \uff1a\u8c03\u7528\u70b9\u9650\u5b9a\u7b26</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_4","title":"\u7c7b\u6216\u63a5\u53e3\u7684\u89e3\u6790","text":"<p>\u5047\u8bbe\u7c7b D \u7684\u4ee3\u7801\u533a\u4e2d\u51fa\u73b0\u4e00\u4e2a\u672a\u89e3\u6790\u8fc7\u7684\u7c7b\u6216\u8005\u63a5\u53e3 C \u7684\u7b26\u53f7\u5f15\u7528\uff0c\u90a3\u4e48</p> <ul> <li>\u5982\u679c C \u4e0d\u662f\u4e00\u4e2a\u6570\u7ec4\u7c7b\u578b\uff0c\u90a3\u4e48\u4f7f\u7528 D \u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u52a0\u8f7d C\u3002</li> <li>\u5982\u679c C \u662f\u4e00\u4e2a\u6570\u7ec4\u7c7b\u578b\uff0c\u4e14\u5143\u7d20\u7c7b\u578b\u4e3a\u5f15\u7528\uff08\u5e76\u975e\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff09\uff0c\u90a3\u4e48\u9996\u5148\u4f7f\u7528 D \u7684\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u5143\u7d20\u7c7b\u578b\uff0c\u63a5\u7740\u7531\u865a\u62df\u673a\u751f\u6210\u4e00\u4e2a\u6570\u7ec4\u7c7b\u578b\u3002</li> </ul> <p>\u5728\u5b8c\u6210\u4e0a\u9762\u7684\u8fc7\u7a0b\u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u9a8c\u8bc1 C \u5bf9 D \u7c7b\u578b\u7684\u53ef\u8bbf\u95ee\u6027\u3002</p> <p>\uff08\u9664\u4e86\u4f4d\u4e8e\u540c\u4e00\u4e2a\u5305 \u548c public \u4e4b\u5916\uff0cjdk 9 \u5f15\u5165\u4e86\u6a21\u5757\u5bf9\u53ef\u8bbf\u95ee\u6027\u7684\u63a7\u5236\uff09</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_5","title":"\u5b57\u6bb5\u89e3\u6790","text":"<p>\u8981\u89e3\u6790\u4e00\u4e2a\u672a\u88ab\u89e3\u6790\u8fc7\u7684\u5b57\u6bb5\u7b26\u53f7\u5f15\u7528\uff0c\u9996\u5148\u5c06\u4f1a\u5bf9\u5b57\u6bb5\u8868\u5185 class_index \u9879\u4e2d\u7d22\u5f15\u7684 CONSTANT_Class_info \u7b26\u53f7\u5f15\u7528\u8fdb\u884c\u89e3\u6790\uff0c\u4e5f\u5c31\u662f\u5b57\u6bb5\u6240\u5c5e\u7684\u7c7b\u6216\u63a5\u53e3\u7684\u7b26\u53f7\u5f15\u7528\u3002</p> <p>\u5982\u679c\u5728\u89e3\u6790\u8fd9\u4e2a\u7c7b\u6216\u63a5\u53e3\u7b26\u53f7\u5f15\u7528\u7684\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u4efb\u4f55\u5f02\u5e38\uff0c\u90fd\u4f1a\u5bfc\u81f4\u5b57\u6bb5\u7b26\u53f7\u5f15\u7528\u89e3\u6790\u7684\u5931\u8d25\u3002\u5982\u679c\u89e3\u6790\u6210\u529f\u5b8c\u6210\uff0c\u90a3\u4e48\u8fdb\u884c\u4e0b\u9762\u7684\u6b65\u9aa4\uff1a</p> <p>* \u5982\u679cC\u672c\u8eab\u5c31\u5305\u542b\u4e86\u7b80\u5355\u540d\u79f0\u548c\u5b57\u6bb5\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u5b57\u6bb5\uff0c\u5219\u8fd4\u56de\u8fd9\u4e2a\u5b57\u6bb5\u7684\u76f4\u63a5\u5f15\u7528\uff0c\u67e5\u627e\u7ed3\u675f\u3002 * \u5982\u679c\u5982\u679c\u5728C\u4e2d\u5b9e\u73b0\u4e86\u63a5\u53e3/\u7ee7\u627f\u4e86\u7236\u7c7b\uff08\u5148\u63a5\u53e3\uff0c\u5728\u7236\u7c7b\uff09\uff0c\u5c06\u4f1a\u6309\u7167\u7ee7\u627f\u5173\u7cfb\u4ece\u4e0b\u5f80\u4e0a\u9012\u5f52\u641c\u7d22\u5404\u4e2a\u63a5\u53e3\u548c\u5b83\u7684\u7236\u63a5\u53e3\uff0c\u5982\u679c\u63a5\u53e3\u4e2d\u5305\u542b\u4e86\u7b80\u5355\u540d\u79f0\u548c\u5b57\u6bb5\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u5b57\u6bb5\uff0c\u5219\u8fd4\u56de\u8fd9\u4e2a\u5b57\u6bb5\u7684\u76f4\u63a5\u5f15\u7528\uff0c\u67e5\u627e\u7ed3\u675f\u3002 * \u67e5\u627e\u5931\u8d25\u3002</p> <p>\uff08\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u4e00\u4e2a\u7c7b\u7684\u7236\u7c7b\u548c\u5b9e\u73b0\u7684\u63a5\u53e3\u53ef\u4ee5\u5b9a\u4e49\u540c\u540d\u7684\u5b57\u6bb5\uff0c\u5728\u5f15\u7528\u8fd9\u4e2a\u5b57\u6bb5\u7684\u65f6\u5019\uff0c\u9700\u8981\u4f7f\u7528 super.field \u8bbf\u95ee\u7236\u7c7b\u5b57\u6bb5\uff0cfield \u8bbf\u95ee\u63a5\u53e3\u4e2d\u7684\u5b57\u6bb5\u3002\uff09</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_6","title":"\u65b9\u6cd5\u89e3\u6790","text":"<p>\u5148\u89e3\u6790\u51fa\u65b9\u6cd5\u8868\u7684 class_index \u9879\u4e2d\u7d22\u5f15\u7684\u65b9\u6cd5\u6240\u5c5e\u7684\u7c7b\u6216\u63a5\u53e3\u7684\u7b26\u53f7\u5f15\u7528\uff0c\u5982\u679c\u89e3\u6790\u6210\u529f\uff0c\u90a3\u4e48\u6211\u4eec\u4f9d\u7136\u7528C\u8868\u793a\u8fd9\u4e2a\u7c7b\uff0c\u63a5\u4e0b\u6765\u865a\u62df\u673a\u5c06\u4f1a\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c\u540e\u7eed\u7684\u65b9\u6cd5\u641c\u7d22</p> <p>* \u7531\u4e8e Class \u6587\u4ef6\u683c\u5f0f\u4e2d\u7c7b\u7684\u65b9\u6cd5\u548c\u63a5\u53e3\u7684\u65b9\u6cd5\u7b26\u53f7\u5f15\u7528\u7684\u5e38\u91cf\u7c7b\u578b\u5b9a\u4e49\u662f\u5206\u5f00\u7684\uff0c\u5982\u679c\u5728\u7c7b\u7684\u65b9\u6cd5\u8868\u4e2d\u53d1\u73b0 class_index \u4e2d\u7d22\u5f15\u7684 C \u662f\u4e2a\u63a5\u53e3\u7684\u8bdd\uff0c\u90a3\u5c31\u76f4\u63a5\u629b\u51fa java.lang.IncompatibleClassChangeError \u5f02\u5e38\u3002 * \u5982\u679c\u901a\u8fc7\u4e86\u7b2c\u4e00\u6b65\uff0c\u5728\u7c7b C \u4e2d\u67e5\u627e\u662f\u5426\u6709\u7b80\u5355\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u6709\u5219\u8fd4\u56de\u8fd9\u4e2a\u65b9\u6cd5\u7684\u76f4\u63a5\u5f15\u7528\uff0c\u67e5\u627e\u7ed3\u675f\u3002 * \u5426\u5219\uff0c\u5728\u7c7b C \u7684\u7236\u7c7b\u4e2d\u9012\u5f52\u67e5\u627e\u662f\u5426\u6709\u7b80\u5355\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u6709\u5219\u8fd4\u56de\u8fd9\u4e2a\u65b9\u6cd5\u7684\u76f4\u63a5\u5f15\u7528\uff0c\u67e5\u627e\u7ed3\u675f\u3002 * \u5426\u5219\uff0c\u5728\u7c7b C \u5b9e\u73b0\u7684\u63a5\u53e3\u5217\u8868\u53ca\u5b83\u4eec\u7684\u7236\u63a5\u53e3\u4e4b\u4e2d\u9012\u5f52\u67e5\u627e\u662f\u5426\u6709\u7b80\u5355\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u5b58\u5728\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u8bf4\u660e\u7c7b C \u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u8fd9\u65f6\u5019\u67e5\u627e\u7ed3\u675f\uff0c\u629b\u51fa java.lang.AbstractMethodError \u5f02\u5e38\u3002 * \u5426\u5219\uff0c\u5ba3\u544a\u65b9\u6cd5\u67e5\u627e\u5931\u8d25\uff0c\u629b\u51fajava.lang.NoSuchMethodError\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#_7","title":"\u63a5\u53e3\u65b9\u6cd5\u89e3\u6790","text":"<p>\u63a5\u53e3\u65b9\u6cd5\u4e5f\u662f\u9700\u8981\u5148\u89e3\u6790\u51fa\u63a5\u53e3\u65b9\u6cd5\u8868\u7684 class_index \u9879\u4e2d\u7d22\u5f15\u7684\u65b9\u6cd5\u6240\u5c5e\u7684\u7c7b\u6216\u63a5\u53e3\u7684\u7b26\u53f7\u5f15\u7528\uff0c\u5982\u679c\u89e3\u6790\u6210\u529f\uff0c\u4f9d\u7136\u7528 C \u8868\u793a\u8fd9\u4e2a\u63a5\u53e3\uff0c\u63a5\u4e0b\u6765\u865a\u62df\u673a\u5c06\u4f1a\u6309\u7167\u5982\u4e0b\u6b65\u9aa4\u8fdb\u884c\u540e\u7eed\u7684\u63a5\u53e3\u65b9\u6cd5\u641c\u7d22\uff1a</p> <p>* \u4e0e\u7c7b\u7684\u65b9\u6cd5\u89e3\u6790\u76f8\u53cd\uff0c\u5982\u679c\u5728\u63a5\u53e3\u65b9\u6cd5\u8868\u4e2d\u53d1\u73b0class_index\u4e2d\u7684\u7d22\u5f15C\u662f\u4e2a\u7c7b\u800c\u4e0d\u662f\u63a5\u53e3\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u629b\u51fa java.lang.IncompatibleClassChangeError \u5f02\u5e38\u3002 * \u5426\u5219\uff0c\u5728\u63a5\u53e3 C \u4e2d\u67e5\u627e\u662f\u5426\u6709\u7b80\u5355\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u6709\u5219\u8fd4\u56de\u8fd9\u4e2a\u65b9\u6cd5\u7684\u76f4\u63a5\u5f15\u7528\uff0c\u67e5\u627e\u7ed3\u675f\u3002 \u5426\u5219\uff0c\u5728\u63a5\u53e3C\u7684\u7236\u63a5\u53e3\u4e2d\u9012\u5f52\u67e5\u627e\uff0c\u76f4\u5230 java.lang.Object \u7c7b\uff08\u63a5\u53e3\u65b9\u6cd5\u7684\u67e5\u627e\u8303\u56f4\u4e5f\u4f1a\u5305\u62ec Object \u7c7b\u4e2d\u7684\u65b9\u6cd5\uff09\u4e3a\u6b62\uff0c\u770b\u662f\u5426\u6709\u7b80\u5355\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u6709\u5219\u8fd4\u56de\u8fd9\u4e2a\u65b9\u6cd5\u7684\u76f4\u63a5\u5f15\u7528\uff0c\u67e5\u627e\u7ed3\u675f\u3002 * \u5bf9\u4e8e\u4e0a\u9762\u7684\u89c4\u5219\uff0c\u7531\u4e8e Java \u7684\u63a5\u53e3\u5141\u8bb8\u591a\u91cd\u7ee7\u627f\uff0c\u5982\u679c C \u7684\u4e0d\u540c\u7236\u63a5\u53e3\u4e2d\u5b58\u6709\u591a\u4e2a\u7b80\u5355\u540d\u79f0\u548c\u63cf\u8ff0\u7b26\u90fd\u4e0e\u76ee\u6807\u76f8\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u90a3\u5c06\u4f1a\u4ece\u8fd9\u591a\u4e2a\u65b9\u6cd5\u4e2d\u8fd4\u56de\u5176\u4e2d\u4e00\u4e2a\u5e76\u7ed3\u675f\u67e5\u627e\uff0cJavac \u4e5f\u53ef\u80fd\u62d2\u7edd\u7f16\u8bd1\u3002 * \u5426\u5219\uff0c\u5ba3\u544a\u65b9\u6cd5\u67e5\u627e\u5931\u8d25\uff0c\u629b\u51fa java.lang.NoSuchMethodError \u5f02\u5e38\u3002</p>"},{"location":"java/java%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/#5","title":"5.\u521d\u59cb\u5316","text":"<p>\u521d\u59cb\u5316\u9636\u6bb5\u5c31\u662f\u6267\u884c\u7c7b\u6784\u9020\u5668 \\&lt;clinit&gt;() \u65b9\u6cd5\u7684\u8fc7\u7a0b\u3002\\&lt;clinit&gt;() \u5e76\u4e0d\u662f\u7a0b\u5e8f\u5458\u5728Java\u4ee3\u7801\u4e2d\u76f4\u63a5\u7f16\u5199\u7684\u65b9\u6cd5\uff0c\u5b83\u662f Javac \u7f16\u8bd1\u5668\u7684\u81ea\u52a8\u751f\u6210\u7269\u3002</p> <p>\\&lt;clinit&gt;() \u65b9\u6cd5\u662f\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u6536\u96c6\u7c7b\u4e2d\u7684\u6240\u6709\u7c7b\u53d8\u91cf\u7684\u8d4b\u503c\u52a8\u4f5c\u548c\u9759\u6001\u8bed\u53e5\u5757\uff08static{}\u5757\uff09\u4e2d\u7684\u8bed\u53e5\u5408\u5e76\u4ea7\u751f\u7684\uff0c\u7f16\u8bd1\u5668\u6536\u96c6\u7684\u987a\u5e8f\u662f\u7531\u8bed\u53e5\u5728\u6e90\u6587\u4ef6\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u51b3\u5b9a\u7684\uff0c\u9759\u6001\u8bed\u53e5\u5757\u4e2d\u53ea\u80fd\u8bbf\u95ee\u5230\u5b9a\u4e49\u5728\u9759\u6001\u8bed\u53e5\u5757\u4e4b\u524d\u7684\u53d8\u91cf\uff0c\u5b9a\u4e49\u5728\u5b83\u4e4b\u540e\u7684\u53d8\u91cf\uff0c\u5728\u524d\u9762\u7684\u9759\u6001\u8bed\u53e5\u5757\u53ef\u4ee5\u8d4b\u503c\uff0c\u4f46\u662f\u4e0d\u80fd\u8bbf\u95ee\u3002</p> <p>\\&lt;clinit&gt;() \u65b9\u6cd5\u4e0e\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff08\u5373\u5728\u865a\u62df\u673a\u89c6\u89d2\u4e2d\u7684\u5b9e\u4f8b\u6784\u9020\u5668 \\&lt;init&gt;() \u65b9\u6cd5\uff09\u4e0d\u540c\uff0c\u5b83\u4e0d\u9700\u8981\u663e\u5f0f\u5730\u8c03\u7528\u7236\u7c7b\u6784\u9020\u5668\uff0cJava \u865a\u62df\u673a\u4f1a\u4fdd\u8bc1\u5728\u5b50\u7c7b\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u6267\u884c\u524d\uff0c\u7236\u7c7b\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\u3002\u56e0\u6b64\u5728 Java \u865a\u62df\u673a\u4e2d\u7b2c\u4e00\u4e2a\u88ab\u6267\u884c\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u7684\u7c7b\u578b\u80af\u5b9a\u662fjava.lang.Object\u3002</p> <p>\\&lt;clinit&gt;() \u65b9\u6cd5\u5bf9\u4e8e\u7c7b\u6216\u63a5\u53e3\u6765\u8bf4\u5e76\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u5982\u679c\u4e00\u4e2a\u7c7b\u4e2d\u6ca1\u6709\u9759\u6001\u8bed\u53e5\u5757\uff0c\u4e5f\u6ca1\u6709\u5bf9\u53d8\u91cf\u7684\u8d4b\u503c\u64cd\u4f5c\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u53ef\u4ee5\u4e0d\u4e3a\u8fd9\u4e2a\u7c7b\u751f\u6210 \\&lt;clinit&gt;() \u65b9\u6cd5\u3002</p> <p>\u63a5\u53e3\u4e2d\u4e0d\u80fd\u4f7f\u7528\u9759\u6001\u8bed\u53e5\u5757\uff0c\u4f46\u4ecd\u7136\u6709\u53d8\u91cf\u521d\u59cb\u5316\u7684\u8d4b\u503c\u64cd\u4f5c\uff0c\u56e0\u6b64\u63a5\u53e3\u4e0e\u7c7b\u4e00\u6837\u90fd\u4f1a\u751f\u6210 \\&lt;clinit&gt;() \u65b9\u6cd5\u3002\u4f46\u63a5\u53e3\u4e0e\u7c7b\u4e0d\u540c\u7684\u662f\uff0c\u6267\u884c\u63a5\u53e3\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u4e0d\u9700\u8981\u5148\u6267\u884c\u7236\u63a5\u53e3\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\uff0c\u56e0\u4e3a\u53ea\u6709\u5f53\u7236\u63a5\u53e3\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u88ab\u4f7f\u7528\u65f6\uff0c\u7236\u63a5\u53e3\u624d\u4f1a\u88ab\u521d\u59cb\u5316\u3002\u6b64\u5916\uff0c\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u5728\u521d\u59cb\u5316\u65f6\u4e5f\u4e00\u6837\u4e0d\u4f1a\u6267\u884c\u63a5\u53e3\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u3002</p> <p>Java \u865a\u62df\u673a\u5fc5\u987b\u4fdd\u8bc1\u4e00\u4e2a\u7c7b\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e2d\u88ab\u6b63\u786e\u5730\u52a0\u9501\u540c\u6b65\uff0c\u5982\u679c\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u53bb\u521d\u59cb\u5316\u4e00\u4e2a\u7c7b\uff0c\u90a3\u4e48\u53ea\u4f1a\u6709\u5176\u4e2d\u4e00\u4e2a\u7ebf\u7a0b\u53bb\u6267\u884c\u8fd9\u4e2a\u7c7b\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\uff0c\u5176\u4ed6\u7ebf\u7a0b\u90fd\u9700\u8981\u963b\u585e\u7b49\u5f85\uff0c\u76f4\u5230\u6d3b\u52a8\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5 \\&lt;clinit&gt;() \u65b9\u6cd5\u3002\u5982\u679c\u5728\u4e00\u4e2a\u7c7b\u7684 \\&lt;clinit&gt;() \u65b9\u6cd5\u4e2d\u6709\u8017\u65f6\u5f88\u957f\u7684\u64cd\u4f5c\uff0c\u90a3\u5c31\u53ef\u80fd\u9020\u6210\u591a\u4e2a\u8fdb\u7a0b\u963b\u585e\uff0c\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\u8fd9\u79cd\u963b\u585e\u5f80\u5f80\u662f\u5f88\u9690\u853d\u7684\u3002</p>"},{"location":"java/volatile%20%E5%85%B3%E9%94%AE%E5%AD%97/","title":"Volatile \u5173\u952e\u5b57","text":""},{"location":"java/volatile%20%E5%85%B3%E9%94%AE%E5%AD%97/#_1","title":"\u7ebf\u7a0b\uff0c\u5de5\u4f5c\u5185\u5b58\u4e0e\u4e3b\u5185\u5b58","text":"<p>Java \u4e0d\u540c\u73b0\u573a\u7684\u5de5\u4f5c\u5185\u5b58\u65e0\u6cd5\u76f4\u63a5\u76f8\u4e92\u8bbf\u95ee\uff0c\u7ebf\u7a0b\u95f4\u7684\u53d8\u91cf\u7684\u4f20\u9012\u9700\u8981\u901a\u8fc7\u4e3b\u5185\u5b58\u8fdb\u884c\u3002</p> <p>Jvm \u5b9a\u4e49\u4e86\u4e0b\u9762 8 \u4e2d\u5185\u5b58\u64cd\u4f5c\uff1a</p> <ul> <li>lock\uff08\u9501\u5b9a\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628a\u4e00\u4e2a\u53d8\u91cf\u6807\u8bc6\u4e3a\u4e00\u6761\u7ebf\u7a0b\u72ec\u5360\u7684\u72b6\u6001</li> <li>unlock\uff08\u89e3\u9501\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628a\u4e00\u4e2a\u5904\u4e8e\u9501\u5b9a\u72b6\u6001\u7684\u53d8\u91cf\u91ca\u653e\u51fa\u6765\uff0c\u91ca\u653e\u540e\u7684\u53d8\u91cf\u624d\u53ef\u4ee5\u88ab\u5176\u4ed6\u7ebf\u7a0b\u9501\u5b9a\u3002</li> <li>read\uff08\u8bfb\u53d6\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628a\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4ece\u4e3b\u5185\u5b58\u4f20\u8f93\u5230\u7ebf\u7a0b\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\uff0c\u4ee5\u4fbf\u968f\u540e\u7684load\u52a8\u4f5c\u4f7f\u7528</li> <li>load\uff08\u8f7d\u5165\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628aread\u64cd\u4f5c\u4ece\u4e3b\u5185\u5b58\u4e2d\u5f97\u5230\u7684\u53d8\u91cf\u503c\u653e\u5165\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\u526f\u672c\u4e2d</li> <li>use\uff08\u4f7f\u7528\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628a\u5de5\u4f5c\u5185\u5b58\u4e2d\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4f20\u9012\u7ed9\u6267\u884c\u5f15\u64ce\uff0c\u6bcf\u5f53\u865a\u62df\u673a\u9047\u5230\u4e00\u4e2a\u9700\u8981\u4f7f\u7528\u53d8\u91cf\u7684\u503c\u7684\u5b57\u8282\u7801\u6307\u4ee4\u65f6\u5c06\u4f1a\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c</li> <li>assign\uff08\u8d4b\u503c\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628a\u4e00\u4e2a\u4ece\u6267\u884c\u5f15\u64ce\u63a5\u6536\u7684\u503c\u8d4b\u7ed9\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u6bcf\u5f53\u865a\u62df\u673a\u9047\u5230\u4e00\u4e2a\u7ed9\u53d8\u91cf\u8d4b\u503c\u7684\u5b57\u8282\u7801\u6307\u4ee4\u65f6\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c</li> <li>store\uff08\u5b58\u50a8\uff09\uff1a\u4f5c\u7528\u4e8e\u5de5\u4f5c\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628a\u5de5\u4f5c\u5185\u5b58\u4e2d\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\u4f20\u9001\u5230\u4e3b\u5185\u5b58\u4e2d\uff0c\u4ee5\u4fbf\u968f\u540e\u7684 write \u64cd\u4f5c\u4f7f\u7528</li> <li>write\uff08\u5199\u5165\uff09\uff1a\u4f5c\u7528\u4e8e\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\uff0c\u5b83\u628astore\u64cd\u4f5c\u4ece\u5de5\u4f5c\u5185\u5b58\u4e2d\u5f97\u5230\u7684\u53d8\u91cf\u7684\u503c\u653e\u5165\u4e3b\u5185\u5b58\u7684\u53d8\u91cf\u4e2d</li> </ul> <p>\uff08read, load \u548c store, write \u4e0d\u80fd\u5355\u72ec\u4f7f\u7528\uff0c\u7c7b\u4f3c\u4e8e\u6c47\u7f16\u4e2d\u7684\u5185\u5b58\u52a0\u8f7d\uff0c\u539f\u56e0\u5728\u4e8e\u5185\u5b58\u7684\u64cd\u4f5c\u5e76\u4e0d\u662f\u901a\u8fc7 DMA \u8fdb\u884c\u7684\uff0c\u9700\u8981\u5c06\u64cd\u4f5c\u7684\u503c\u4fdd\u5b58\u5230\u4e00\u4e2a\u4e2d\u95f4\u5bc4\u5b58\u5668\u4e2d\uff09</p>"},{"location":"java/volatile%20%E5%85%B3%E9%94%AE%E5%AD%97/#volatile_1","title":"volatile \u7684\u4e24\u9879\u7279\u6027","text":"<ol> <li>\u5bf9 volatile \u53d8\u91cf\u7684\u4fee\u6539\u5b8c\u6210\u7acb\u523b\u5bf9\u6240\u6709\u7ebf\u7a0b\u53ef\u89c1    (volatile \u53d8\u91cf\u7684\u503c\u6bcf\u6b21\u90fd\u901a\u8fc7 read\uff0cload \u4ece\u4e3b\u5185\u5b58\u4e2d\u83b7\u5f97\uff0c\u540c\u6837\u7684\uff0c\u5bf9 vlolatile \u7684\u8d4b\u503c\u4e5f\u7acb\u523b\u901a\u8fc7 store, write \u66f4\u65b0\u5230\u4e3b\u5185\u5b58\u4e2d\uff0c\u5f53\u7136\u4e0d\u4f1a\u76f4\u63a5\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0cJVM \u6839\u636e use, assign \u7b49\u7684\u987a\u5e8f\u4fdd\u8bc1)</li> <li>\u7981\u6b62\u6307\u4ee4\u91cd\u6392\u5e8f\u4f18\u5316</li> </ol> <p>volatile \u4fdd\u8bc1\u5185\u5b58\u5e76\u53d1\u6a21\u578b\u4e2d\u7684\u53ef\u89c1\u6027\u548c\u6709\u5e8f\u6027\uff0c\u800c\u4e0d\u4fdd\u8bc1\u539f\u5b50\u6027\u3002</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/","title":"\u6784\u5efa\u5de5\u5177 gradle \uff08Java\uff09","text":"<p>gradle \u7684\u5b66\u4e60\u4e0d\u63a8\u8350\u770b\u4e66</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#_1","title":"\u53c2\u8003","text":"<p>Groovy \u7684\u8bed\u6cd5\u53ef\u4ee5\u76f4\u63a5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p> <p>https://groovy-lang.org/documentation.html</p> <p>Gradle \u7684\u8bed\u6cd5\u5168\u90e8\u57fa\u4e8e Groovy\uff0c\u4e0d\u8fc7\u9ed8\u8ba4\u52a0\u5165\u4e00\u4e9b\u53d8\u91cf\uff0c\u65b9\u6cd5\u7b49\uff0c\u5177\u4f53\u53ef\u4ee5\u53c2\u770b Gradle \u624b\u518c\u3002</p> <p>https://docs.gradle.org/current/userguide/userguide.html</p> <p>https://docs.gradle.org/current/dsl/</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#_2","title":"\u4e00\u4e2a\u5f15\u5165","text":"<pre><code>task sourcesJar(type: Jar, dependsOn: classes, description: 'Creates a jar from the source files.') {\n  classifier = 'sources'\n  from sourceSets.main.allSource\n}\n</code></pre> <p>\u8fd9\u4e2a task \u662f\u5982\u4f55\u8d77\u4f5c\u7528\u7684\u5462\uff1f</p> <p>\u9996\u5148\u5c06 sourcesJar \u89c6\u4e3a\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5176\u53c2\u6570\u662f Jar, classes, 'Creates ...' \u4ee5\u53ca\u5176\u540e\u7684\u4e00\u4e2a\u95ed\u5305\u3002build.gradle \u4e2d\u9690\u5f0f\u7684 Project \u5b9e\u4f8b\u5e76\u6ca1\u6709\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u90a3\u4e48\u5c31\u4f1a\u5c06\u8fd9\u4e9b\u53c2\u6570\uff08\u5305\u62ec\u95ed\u5305\uff09\u4f20\u7ed9\u4e00\u4e2a\u7f3a\u7701\u65b9\u6cd5\u6267\u884c\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u53c8\u521b\u5efa\u5e76\u8fd4\u56de\u4e00\u4e2a\u95ed\u5305\uff0c\u8fd9\u4e2a\u8fd4\u56de\u7684\u95ed\u5305\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 task \u65b9\u6cd5\u6267\u884c\u3002</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#_3","title":"\u9879\u76ee\u7ed3\u6784","text":"<p>\u4f7f\u7528 gradle \u7684\u9879\u76ee\u7684\u6784\u5efa\u4e00\u822c\u6765\u8bf4\u548c 3 \u4e2a\u811a\u672c\u76f8\u5173\uff08build.gradle, init.gradle, settings.gradle\uff09\uff0c\u8fd9 3 \u4e2a\u811a\u672c\u5bf9\u5e94 Groovy\u8bed\u8a00\u7684 3 \u4e2a\u5b9e\u4f8b\uff08Project, Gradle, Settings\uff09\u3002</p> <pre><code>\u251c\u2500\u2500 gradle \n\u2502   \u2514\u2500\u2500 wrapper\n\u2502       \u251c\u2500\u2500 gradle-wrapper.jar\n\u2502       \u2514\u2500\u2500 gradle-wrapper.properties\n\u251c\u2500\u2500 gradlew \n\u251c\u2500\u2500 gradlew.bat \n\u251c\u2500\u2500 settings.gradle \n\u2514\u2500\u2500 app\n    \u251c\u2500\u2500 build.gradle \n    \u2514\u2500\u2500 src\n        \u251c\u2500\u2500 main\n        \u2502   \u2514\u2500\u2500 java \n        \u2502       \u2514\u2500\u2500 demo\n        \u2502           \u2514\u2500\u2500 App.java\n        \u2514\u2500\u2500 test\n            \u2514\u2500\u2500 java \n                \u2514\u2500\u2500 demo\n                    \u2514\u2500\u2500 AppTest.java\n</code></pre> <p>\u6574\u4e2a\u76ee\u5f55\u4f5c\u4e3a\u6839\u9879\u76ee\uff0c\u5176\u4e2d\u7684 app \u4f5c\u4e3a\u4e00\u4e2a\u5b50\u9879\u76ee\u3002</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#settings","title":"Settings","text":"<p>\u5728\u6839\u9879\u76ee\u4e2d\u5b58\u5728\u4e00\u4e2a gradle \u811a\u672c\u6587\u4ef6\uff08\u51c6\u786e\u7684\u8bf4\u662f groovy \u6216\u8005 kotlin \u811a\u672c\uff09settings.gradle\uff0c <code>Settings</code> \u5b9e\u4f8b\u548c settings.gradle \u811a\u672c\u662f\u4e00\u5bf9\u4e00\u7684\u5173\u7cfb\uff0c\u4e00\u822c\u6765\u8bf4\u4e00\u4e2a gralde \u7684\u9879\u76ee\uff08\u53ef\u80fd\u5305\u542b\u591a\u4e2a\u5b50\u9879\u76ee\uff09\u53ea\u6709\u4e00\u4e2a setting.gradle \u811a\u672c\u3002</p> <p>gradle \u5c06\u521b\u5efa\u4e00\u4e2a <code>Settings</code> \u5bf9\u8c61\uff0c\u5728\u8fd9\u4e2a <code>Settings</code> \u5bf9\u8c61\u6267\u884c settings.gradle \u811a\u672c\uff08\u8fd9\u610f\u5473\u7740\u4e0d\u9700\u8981\u6307\u5b9a <code>Settings</code> \u5bf9\u8c61\uff0c\u4e0b\u9762\u7684 rootRroject.name \u5b9e\u9645\u4e0a\u662f\u8bbf\u95ee\u4e86\u5f53\u524d <code>Settings</code> \u7684 rootProject \u5b57\u6bb5\u4e0a\u7684 name \u5b57\u6bb5\uff0c\u5373 <code>settings.rootProject.name = 'gradle-sample'</code> \u5176\u4e2d settings \u662f <code>Settings</code> \u5b9e\u4f8b\u7684\u5f15\u7528\uff0cgralde \u4e2d\u7684\u811a\u672c\u90fd\u6709\u7c7b\u4f3c\u6267\u884c\u57fa\u7840\u5bf9\u8c61\uff09\u3002</p> <pre><code>rootProject.name = 'gradle-sample'\ninclude('app', 'list', 'utilities')\n</code></pre> <p>\u4e00\u4e2a\u6700\u57fa\u7840\u7684 Settings.gradle \u811a\u672c\u5982\u4e0a\u3002</p> <p>\u7b49\u4ef7\u9884\u4e0b\u9762\u7684\u5199\u6cd5\uff08settings \u5b9e\u4f8b\u7531\uff09\u3002</p> <pre><code>settings.rootProject.name = 'gradle-sample'\nsettings.include('app', 'list', 'utilities')\n</code></pre> <p>\u5176\u4e2d rootProject \u548c include \u5206\u522b\u662f Settings \u5bf9\u8c61\u7684\u4e00\u4e2a\u5b57\u6bb5\u548c\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u8bbe\u7f6e\u4e86\u6839\u9879\u76ee\u7684\u540d\u79f0\uff0c\u4ee5\u53ca\u5305\u542b\u7684\u5b50\u9879\u76ee\u3002</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#project","title":"Project","text":"<p>\u5728\u6bcf\u4e2a\u5b50\u9879\u76ee\u5b58\u5728\u4e00\u4e2a build.gradle \u811a\u672c\uff0c\u4e0e\u4e00\u4e2a <code>Project</code> \u5b9e\u4f8b\u5bf9\u5e94\u3002\u4e00\u4e2a\u57fa\u7840\u7684 build.gradle \u5185\u5bb9\u5982\u4e0b\u3002</p> <pre><code>plugins {\n    id 'site.kicey.java-application-conventions'\n}\n\ndependencies {\n    implementation 'org.apache.commons:commons-text'\n    implementation project(':utilities')\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'site.kicey.app.App'\n}\n</code></pre> <p>\u548c <code>Settings</code> \u4e00\u6837\uff0c\u5728 build.gradle \u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u76f8\u5e94\u7684 <code>Project</code> \u5b9e\u4f8b\u7684\u5b57\u6bb5\u548c\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u5b57\u6bb5\u548c\u65b9\u6cd5\uff0c\u57df\u7a0d\u6709\u4e0d\u540c\u3002</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#_4","title":"\u76f4\u63a5\u8bbf\u95ee\u5b57\u6bb5","text":"<p><code>Project</code> \u6709 6 \u4e2a\u57df\uff0c\u5728\u76f4\u63a5\u8bbf\u95ee\u65f6\uff0c\u4f1a\u987a\u5e8f\u7684\u4ece\u8fd9 6 \u4e2a\u57df\u4e2d\u5bfb\u627e\uff1a</p> <ol> <li>project \u5b9e\u4f8b\u672c\u8eab\u7684\u5c5e\u6027</li> <li>project \u7684\u989d\u5916\uff08ext\uff09\u5c5e\u6027\uff0c\u5373 project.ext.*</li> <li>project \u4e0a\u63d2\u4ef6\u589e\u52a0\u7684\u6269\u5c55\uff08extensions\uff09\u5c5e\u6027</li> <li>project \u4e0a\u63d2\u4ef6\u589e\u52a0\u7684\u534f\u5b9a\u5c5e\u6027\uff08convention\uff09\u5c5e\u6027</li> <li>project \u4e2d\u7684 task</li> <li>\u4ece\u7236\u9879\u76ee\u4e2d\u7ee7\u627f\u7684\u989d\u5916\u548c\u534f\u5b9a\u5c5e\u6027</li> </ol>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#_5","title":"\u76f4\u63a5\u8bbf\u95ee\u65b9\u6cd5","text":"<ol> <li>project \u5b9e\u4f8b\u672c\u8eab\u7684\u65b9\u6cd5</li> <li>build.gradle \u4e2d\u7684\u65b9\u6cd5</li> <li>project \u4e0a\u63d2\u4ef6\u589e\u52a0\u7684\u6269\u5c55\u65b9\u6cd5</li> <li>project \u4e0a\u63d2\u4ef6\u589e\u52a0\u7684\u534f\u5b9a\u65b9\u6cd5</li> <li>project \u4e2d\u7684 task</li> <li>\u4ece\u7236\u9879\u76ee\u7ee7\u627f\u7684\u65b9\u6cd5</li> <li>project \u5b57\u6bb5\u4e0a\u7684\u51fd\u6570\u95ed\u5305\u5c06\u88ab\u4f5c\u4e3a\u65b9\u6cd5</li> </ol> <p>\u5177\u4f53\u7684\u53ef\u4ee5\u67e5\u9605\uff1aProject - Gradle DSL Version 7.6</p>"},{"location":"java/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7%20gradle/#_6","title":"\u6784\u5efa\u9636\u6bb5","text":"<ul> <li>\u521d\u59cb\u5316\uff1a\u6267\u884c settings.gradle \u811a\u672c\uff0c\u68c0\u6d4b\u9700\u8981\u76f8\u5173\u7684\u9879\u76ee\uff0c\u521b\u5efa <code>Project</code> \u5b9e\u4f8b</li> <li>\u914d\u7f6e\uff1a\u6240\u6709\u7684 <code>Project</code> \u5b9e\u4f8b\u5728\u8fd9\u4e2a\u9636\u6bb5\u4f9d\u636e build.gradle \u8fdb\u884c\u914d\u7f6e\uff08build.gradle \u4e2d\u7684\u811a\u672c\u5c06\u4f1a\u6267\u884c\uff0c\u8fd9\u4e9b\u811a\u672c\u5927\u90e8\u5206\u7528\u4e8e\u914d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 println \u5728\u8fd9\u4e2a\u9636\u6bb5\u6267\u884c\u65f6\u6253\u5370\u5b57\u7b26\u4e32\uff09</li> <li>\u6267\u884c\uff1a\u6267\u884c\u7528\u6237\u901a\u8fc7\u547d\u4ee4\u884c\u6307\u5b9a\u7684 task</li> </ul> <p>gradle \u652f\u6301\u901a\u8fc7\u5b9a\u4e49\u4efb\u52a1\u521b\u5efa\uff0c\u6267\u884c\u7b49\u65f6\u95f4\u70b9\u4e0a\u7684\u56de\u8c03\u51fd\u6570\u3002</p>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/","title":"\u7c7b\u52a0\u8f7d\u7684\u53cc\u4eb2\u59d4\u6d3e\u673a\u5236","text":"<p>Java \u865a\u62df\u673a\u8bbe\u8ba1\u56e2\u961f\u6709\u610f\u628a\u7c7b\u52a0\u8f7d\u9636\u6bb5\u4e2d\u7684\"\u901a\u8fc7\u4e00\u4e2a\u7c7b\u7684\u5168\u9650\u5b9a\u540d\u6765\u83b7\u53d6\u63cf\u8ff0\u8be5\u7c7b\u7684\u4e8c\u8fdb\u5236\u5b57\u8282\u6d41\"\u8fd9\u4e2a\u52a8\u4f5c\u653e\u5230Java\u865a\u62df\u673a\u5916\u90e8\u53bb\u5b9e\u73b0\uff0c\u4ee5\u4fbf\u8ba9\u5e94\u7528\u7a0b\u5e8f\u81ea\u5df1\u51b3\u5b9a\u5982\u4f55\u53bb\u83b7\u53d6\u6240\u9700\u7684\u7c7b\u3002\u5b9e\u73b0\u8fd9\u4e2a\u52a8\u4f5c\u7684\u4ee3\u7801\u88ab\u79f0\u4e3a\u201c\u7c7b\u52a0\u8f7d\u5668\u201d\uff08Class Loader\uff09\u3002</p> <p>\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u7c7b\uff0c\u90fd\u5fc5\u987b\u7531\u52a0\u8f7d\u5b83\u7684\u7c7b\u52a0\u8f7d\u5668\u548c\u8fd9\u4e2a\u7c7b\u672c\u8eab\u4e00\u8d77\u5171\u540c\u786e\u7acb\u5176\u5728Java\u865a\u62df\u673a\u4e2d\u7684\u552f\u4e00\u6027\uff0c\u6bcf\u4e00\u4e2a\u7c7b\u52a0\u8f7d\u5668\uff0c\u90fd\u62e5\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u7c7b\u540d\u79f0\u7a7a\u95f4\u3002\u8fd9\u53e5\u8bdd\u53ef\u4ee5\u8868\u8fbe\u5f97\u66f4\u901a\u4fd7\u4e00\u4e9b\uff1a\u6bd4\u8f83\u4e24\u4e2a\u7c7b\u662f\u5426\u201c\u76f8\u7b49\u201d\uff0c\u53ea\u6709\u5728\u8fd9\u4e24\u4e2a\u7c7b\u662f\u7531\u540c\u4e00\u4e2a\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\u524d\u63d0\u4e0b\u624d\u6709\u610f\u4e49\uff0c\u5426\u5219\uff0c\u5373\u4f7f\u8fd9\u4e24\u4e2a\u7c7b\u6765\u6e90\u4e8e\u540c\u4e00\u4e2a Class \u6587\u4ef6\uff0c\u88ab\u540c\u4e00\u4e2aJava \u865a\u62df\u673a\u52a0\u8f7d\uff0c\u53ea\u8981\u52a0\u8f7d\u5b83\u4eec\u7684\u7c7b\u52a0\u8f7d\u5668\u4e0d\u540c\uff0c\u90a3\u8fd9\u4e24\u4e2a\u7c7b\u5c31\u5fc5\u5b9a\u4e0d\u76f8\u7b49\u3002</p>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/#_2","title":"\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b","text":"<p>\u7ad9\u5728 Java \u865a\u62df\u673a\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u53ea\u5b58\u5728\u4e24\u79cd\u4e0d\u540c\u7684\u7c7b\u52a0\u8f7d\u5668\uff1a\u4e00\u79cd\u662f\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\uff08Bootstrap ClassLoader\uff09\uff0c\u8fd9\u4e2a\u7c7b\u52a0\u8f7d\u5668\u4f7f\u7528 C++ \u8bed\u8a00\u5b9e\u73b0\uff0c\u662f\u865a\u62df\u673a\u81ea\u8eab\u7684\u4e00\u90e8\u5206\uff1b\u53e6\u5916\u4e00\u79cd\u5c31\u662f\u5176\u4ed6\u6240\u6709 \u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u8fd9\u4e9b\u7c7b\u52a0\u8f7d\u5668\u90fd\u7531 Java \u8bed\u8a00\u5b9e\u73b0\uff0c\u72ec\u7acb\u5b58\u5728\u4e8e\u865a\u62df\u673a\u5916\u90e8\uff0c\u5e76\u4e14\u5168\u90fd\u7ee7\u627f\u81ea\u62bd\u8c61\u7c7b java.lang.ClassLoader\u3002</p> <p>\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u7684\u5de5\u4f5c\u8fc7\u7a0b\u662f\uff1a\u5982\u679c\u4e00\u4e2a\u7c7b\u52a0\u8f7d\u5668\u6536\u5230\u4e86\u7c7b\u52a0\u8f7d\u7684\u8bf7\u6c42\uff0c\u5b83\u9996\u5148\u4e0d\u4f1a\u81ea\u5df1\u53bb\u5c1d\u8bd5\u52a0 \u8f7d\u8fd9\u4e2a\u7c7b\uff0c\u800c\u662f\u628a\u8fd9\u4e2a\u8bf7\u6c42\u59d4\u6d3e\u7ed9\u7236\u7c7b\u52a0\u8f7d\u5668\u53bb\u5b8c\u6210\uff0c\u6bcf\u4e00\u4e2a\u5c42\u6b21\u7684\u7c7b\u52a0\u8f7d\u5668\u90fd\u662f\u5982\u6b64\uff0c\u56e0\u6b64\u6240\u6709\u7684 \u52a0\u8f7d\u8bf7\u6c42\u6700\u7ec8\u90fd\u5e94\u8be5\u4f20\u9001\u5230\u6700\u9876\u5c42\u7684\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u4e2d\uff0c\u53ea\u6709\u5f53\u7236\u52a0\u8f7d\u5668\u53cd\u9988\u81ea\u5df1\u65e0\u6cd5\u5b8c\u6210\u8fd9\u4e2a\u52a0\u8f7d\u8bf7\u6c42\uff08\u5b83\u7684\u641c\u7d22\u8303\u56f4\u4e2d\u6ca1\u6709\u627e\u5230\u6240\u9700\u7684\u7c7b\uff09\u65f6\uff0c\u5b50\u52a0\u8f7d\u5668\u624d\u4f1a\u5c1d\u8bd5\u81ea\u5df1\u53bb\u5b8c\u6210\u52a0\u8f7d\u3002</p>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/#_3","title":"\u610f\u4e49","text":"<p>Java \u4e2d\u7684\u7c7b\u968f\u7740\u5b83\u7684\u7c7b\u52a0\u8f7d\u5668\u4e00\u8d77\u5177\u5907\u4e86\u4e00\u79cd\u5e26\u6709\u4f18\u5148\u7ea7\u7684\u5c42\u6b21\u5173\u7cfb\u3002\u4f8b\u5982\u7c7bjava.lang.Object\uff0c\u5b83\u5b58\u653e\u5728 rt.jar \u4e4b\u4e2d\uff0c\u65e0\u8bba\u54ea\u4e00\u4e2a\u7c7b\u52a0\u8f7d\u5668\u8981\u52a0\u8f7d\u8fd9\u4e2a\u7c7b\uff0c\u6700\u7ec8\u90fd\u662f\u59d4\u6d3e\u7ed9\u5904\u4e8e\u6a21\u578b\u6700\u9876\u7aef\u7684\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u8fdb\u884c\u52a0\u8f7d\uff0c\u56e0\u6b64Object\u7c7b\u5728\u7a0b\u5e8f\u7684\u5404\u79cd\u7c7b\u52a0\u8f7d\u5668\u73af\u5883\u4e2d\u90fd\u80fd\u591f\u4fdd\u8bc1\u662f\u540c\u4e00\u4e2a\u7c7b\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\uff0c\u90fd\u7531\u5404\u4e2a\u7c7b\u52a0\u8f7d\u5668\u81ea\u884c\u53bb\u52a0\u8f7d\u7684\u8bdd\uff0c\u5982\u679c\u7528\u6237\u81ea\u5df1\u4e5f\u7f16\u5199\u4e86\u4e00\u4e2a\u540d\u4e3a java.lang.Object \u7684\u7c7b\uff0c\u5e76\u653e\u5728\u7a0b\u5e8f\u7684 ClassPath \u4e2d\uff0c\u90a3\u7cfb\u7edf\u4e2d\u5c31\u4f1a\u51fa\u73b0\u591a\u4e2a\u4e0d\u540c\u7684Object\u7c7b\uff0cJava\u7c7b\u578b\u4f53\u7cfb\u4e2d\u6700\u57fa\u7840\u7684\u884c\u4e3a\u4e5f\u5c31\u65e0\u4ece\u4fdd\u8bc1\uff0c\u5e94\u7528\u7a0b\u5e8f\u5c06\u4f1a\u53d8\u5f97\u4e00\u7247\u6df7\u4e71\u3002</p>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/#_4","title":"\u5982\u4f55\u59d4\u6d3e","text":"<p>\u53cc\u4eb2\u59d4\u6d3e\u5e76\u4e0d\u662f JVM \u5c42\u9762\u7684\u9650\u5236\uff0c\u662f Java \u6838\u5fc3\u4ee3\u7801\u4e2d\u7684\u4e00\u79cd\u5b9e\u73b0\u7b56\u7565\uff0c\u4e3e\u4e2a\u6781\u7aef\u70b9\u7684\u4f8b\u5b50\uff0c\u867d\u7136\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u4e86\u53cc\u4eb2\u59d4\u6d3e\u89e3\u51b3\u4e0d\u540c\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u540c\u540d\uff08\u5168\u9650\u5b9a\u540d\uff09\u7684\u4e0d\u540c\u7c7b\u7684\u95ee\u9898\uff0c\u4f46\u662f Object \u7c7b\u7684\u552f\u4e00\u6027\u5e76\u4e0d\u80fd\u4f7f\u7528\u53cc\u4eb2\u59d4\u6d3e\u4fdd\u8bc1\uff0c\u800c\u662f\u5728 defineClass \u4e2d\u4ee5\u68c0\u67e5\u7684\u65b9\u5f0f\u4fdd\u8bc1\u3002\u5982\u679c\u662f\u81ea\u5df1\u5b9e\u73b0\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u90a3\u4e48\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\u8fd9\u4e2a\u7b56\u7565\uff08\u8fd9\u4e5f\u662f\u53cc\u4eb2\u59d4\u6d3e\u7684\u4e00\u79cd\u7834\u574f\u65b9\u5f0f\uff0c\u8fd9\u662f\u4e3a\u4e86\u517c\u5bb9\u5728\u53cc\u4eb2\u59d4\u6d3e\u8fd9\u4e2a\u7b56\u7565\u4f7f\u7528\u4e4b\u524d\u7528\u6237\u5b9e\u73b0\u7684\u7c7b\u52a0\u8f7d\u5668\uff09\u3002</p>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/#jndi","title":"JNDI \u7834\u574f\u53cc\u4eb2\u59d4\u6d3e","text":"<p>JNDI\u5b58\u5728\u7684\u76ee\u7684\u5c31\u662f\u5bf9\u8d44\u6e90\u8fdb\u884c\u67e5\u627e\u548c\u96c6\u4e2d\u7ba1\u7406\uff0c\u5b83\u9700\u8981\u8c03\u7528\u7531\u5176\u4ed6\u5382\u5546\u5b9e\u73b0\u5e76\u90e8\u7f72\u5728\u5e94\u7528\u7a0b\u5e8f\u7684 ClassPath \u4e0b\u7684 JNDI \u670d\u52a1\u63d0\u4f9b\u8005\u63a5\u53e3\uff08Service Provider Interface\uff0cSPI\uff09\u7684\u4ee3\u7801\uff0c\u73b0\u5728\u95ee\u9898\u6765\u4e86\uff0c\u542f\u52a8\u7c7b\u52a0\u8f7d\u5668\u662f\u7edd\u4e0d\u53ef\u80fd\u8ba4\u8bc6\u3001\u52a0\u8f7d\u8fd9\u4e9b\u4ee3\u7801\u7684\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u56f0\u5883\uff0cJava\u7684\u8bbe\u8ba1\u56e2\u961f\u53ea\u597d\u5f15\u5165\u4e86\u4e00\u4e2a\u4e0d\u592a\u4f18\u96c5\u7684\u8bbe\u8ba1\uff1a\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u7c7b\u52a0\u8f7d\u5668\uff08Thread Context ClassLoader\uff09\u3002\u8fd9\u4e2a\u7c7b\u52a0\u8f7d\u5668\u53ef\u4ee5\u901a\u8fc7java.lang.Thread \u7c7b\u7684 setContext-ClassLoader() \u65b9\u6cd5\u8fdb\u884c\u8bbe\u7f6e\uff0c\u5982\u679c\u521b\u5efa\u7ebf\u7a0b\u65f6\u8fd8\u672a\u8bbe\u7f6e\uff0c\u5b83\u5c06\u4f1a\u4ece\u7236\u7ebf\u7a0b\u4e2d\u7ee7\u627f\u4e00\u4e2a\uff0c\u5982\u679c\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u5168\u5c40\u8303\u56f4\u5185\u90fd\u6ca1\u6709\u8bbe\u7f6e\u8fc7\u7684\u8bdd\uff0c\u90a3\u8fd9\u4e2a\u7c7b\u52a0\u8f7d\u5668\u9ed8\u8ba4\u5c31\u662f\u5e94\u7528\u7a0b\u5e8f\u7c7b\u52a0\u8f7d\u5668\u3002</p> <p>JNDI \u670d\u52a1\u4f7f\u7528\u8fd9\u4e2a\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\u6240\u9700\u7684 SPI \u670d\u52a1\u4ee3\u7801\uff0c\u8fd9\u662f\u4e00\u79cd\u7236\u7c7b\u52a0\u8f7d\u5668\u53bb\u8bf7\u6c42\u5b50\u7c7b\u52a0\u8f7d\u5668\u5b8c\u6210\u7c7b\u52a0\u8f7d\u7684\u884c\u4e3a\u3002\u5f53 SPI \u7684\u670d\u52a1\u63d0\u4f9b\u8005\u591a\u4e8e\u4e00\u4e2a\u7684\u65f6\u5019\uff0c\u4ee3\u7801\u5c31\u53ea\u80fd\u6839\u636e\u5177\u4f53\u63d0\u4f9b\u8005\u7684\u7c7b\u578b\u6765\u786c\u7f16\u7801\u5224\u65ad\uff0c\u4e3a\u4e86\u6d88\u9664\u8fd9\u79cd\u6781\u4e0d\u4f18\u96c5\u7684\u5b9e\u73b0\u65b9\u5f0f\uff0c\u5728JDK 6\u65f6\uff0cJDK\u63d0\u4f9b\u4e86 java.util.ServiceLoader \u7c7b\uff0c\u4ee5META-INF/services\u4e2d\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u8f85\u4ee5\u8d23\u4efb\u94fe\u6a21\u5f0f\u3002</p> <p>JNDI \u5177\u4f53\u7684\u52a0\u8f7d\u903b\u8f91\u53ef\u89c1\uff1a\u4ee5JDBC\u4e3a\u4f8b\u8c08\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u7684\u7834\u574f - \u6398\u91d1 (juejin.cn)</p>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/#osgi","title":"OSGI \u7834\u574f\u53cc\u4eb2\u59d4\u6d3e","text":"<p>OSGi\u5b9e\u73b0\u6a21\u5757\u5316\u70ed\u90e8\u7f72\u7684\u5173\u952e\u662f\u5b83\u81ea\u5b9a\u4e49\u7684\u7c7b\u52a0\u8f7d\u5668\u673a\u5236\u7684\u5b9e\u73b0\uff0c\u6bcf\u4e00\u4e2a\u7a0b\u5e8f\u6a21\u5757\uff08OSGi \u4e2d\u79f0\u4e3a Bundle\uff09\u90fd\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u5f53\u9700\u8981\u66f4\u6362\u4e00\u4e2aBundle\u65f6\uff0c\u5c31\u628aBundle\u8fde\u540c\u7c7b\u52a0\u8f7d\u5668\u4e00\u8d77\u6362\u6389\u4ee5\u5b9e\u73b0\u4ee3\u7801\u7684\u70ed\u66ff\u6362\u3002\u5728OSGi\u73af\u5883\u4e0b\uff0c\u7c7b\u52a0\u8f7d\u5668\u4e0d\u518d\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u63a8\u8350\u7684\u6811\u72b6\u7ed3\u6784\uff0c\u800c\u662f\u8fdb\u4e00\u6b65\u53d1\u5c55\u4e3a\u66f4\u52a0\u590d\u6742\u7684\u7f51\u72b6\u7ed3\u6784\uff0c\u5f53\u6536\u5230\u7c7b\u52a0\u8f7d\u8bf7\u6c42\u65f6\uff0cOSGi\u5c06\u6309\u7167\u4e0b\u9762\u7684\u987a\u5e8f\u8fdb\u884c\u7c7b\u641c\u7d22\uff1a</p> <ol> <li>\u5c06\u4ee5java.*\u5f00\u5934\u7684\u7c7b\uff0c\u59d4\u6d3e\u7ed9\u7236\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d</li> <li>\u5426\u5219\uff0c\u5c06\u59d4\u6d3e\u5217\u8868\u540d\u5355\u5185\u7684\u7c7b\uff0c\u59d4\u6d3e\u7ed9\u7236\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d</li> <li>\u5426\u5219\uff0c\u5c06Import\u5217\u8868\u4e2d\u7684\u7c7b\uff0c\u59d4\u6d3e\u7ed9Export\u8fd9\u4e2a\u7c7b\u7684Bundle\u7684\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d</li> <li>\u5426\u5219\uff0c\u67e5\u627e\u5f53\u524dBundle\u7684ClassPath\uff0c\u4f7f\u7528\u81ea\u5df1\u7684\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d</li> <li>\u5426\u5219\uff0c\u67e5\u627e\u7c7b\u662f\u5426\u5728\u81ea\u5df1\u7684Fragment Bundle\u4e2d\uff0c\u5982\u679c\u5728\uff0c\u5219\u59d4\u6d3e\u7ed9Fragment Bundle\u7684\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d</li> <li>\u5426\u5219\uff0c\u67e5\u627eDynamic Import\u5217\u8868\u7684Bundle\uff0c\u59d4\u6d3e\u7ed9\u5bf9\u5e94Bundle\u7684\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d</li> <li>\u5426\u5219\uff0c\u7c7b\u67e5\u627e\u5931\u8d25\u3002</li> </ol>"},{"location":"java/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E7%9A%84%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE%E6%9C%BA%E5%88%B6/#web","title":"Web \u670d\u52a1\u5668\u7684\u7c7b\u52a0\u8f7d","text":"<p>Web \u670d\u52a1\u5668\uff08\u4f8b\u5982 tomcat \uff09\u4e0a\u90e8\u7f72 Java \u670d\u52a1\u7a0b\u5e8f\u65f6\u9700\u8981\u5904\u7406 Java \u7c7b\u5e93\u7684\u9694\u79bb\u548c\u5171\u4eab\u7684\u95ee\u9898\uff0c\u6bd4\u5982 tomcat \u4e0a\u540c\u65f6\u90e8\u7f72\u7684\u4e24\u4e2a Java \u670d\u52a1\u7a0b\u5e8f\u4f9d\u8d56\u4e86\u4e0d\u540c\u7248\u672c\u7684\u67d0\u4e2a\u7c7b\u5e93\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u7c7b\u5e93\u9700\u8981\u9694\u79bb\uff0c\u800c\u4e8c\u8005\u5171\u540c\u4f7f\u7528\u7684\u7c7b\u5e93\uff0c\u6bd4\u5982\u540c\u4e00\u4e2a\u7248\u672c\u7684 spring \u5219\u5e94\u8be5\u5171\u4eab\u3002\u6240\u4ee5\u4e00\u822c\u7684 Web \u670d\u52a1\u5668\u90fd\u4f1a\u63d0\u4f9b\u4e0d\u540c\u7684 ClassPath \u4f9b\u7a0b\u5e8f\u5458\u5b58\u653e\u4e0d\u540c\u7684\u7c7b\u5e93\uff0c\u6bcf\u4e00\u4e2a ClassPath \u4e2d\u90fd\u4f1a\u6709\u4e00\u4e2a\u76f8\u5e94\u7684\u7c7b\u52a0\u8f7d\u5668\u53bb\u52a0\u8f7d\u8def\u5f84\u4e2d\u7684\u7c7b\u5e93\uff08\u6bd4\u5982 tomcat \u5c31\u63d0\u4f9b\u4e86 /common, /server, /shared, /WebApp/WEB-INF 4\u4e2a ClassPath\uff09\u3002</p> <p>\u4ed6\u4eec\u7684\u53cc\u4eb2\u59d4\u6d3e\u6a21\u578b\u5982\u4e0b</p> <p></p> <p>\u4f9d\u636e\u53cc\u4eb2\u59d4\u6d3e\uff0cCatalina \u7c7b\u52a0\u8f7d\u5668\u548c Shared \u7c7b\u52a0\u8f7d\u5668\u90fd\u53ef\u4ee5\u4f7f\u7528 Common \u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u5176 ClassPath \u4e2d\u7684\u7c7b\uff0c\u4f46 Catalina \u7c7b\u52a0\u8f7d\u5668\u548c Shared \u7c7b\u52a0\u8f7d\u5668\u80fd\u591f\u52a0\u8f7d\u7684\u7c7b\u662f\u5f7c\u6b64\u9694\u79bb\u7684\uff0cWebApp \u53ef\u4ee5\u4f7f\u7528 Shared \u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u76f8\u5e94\u8def\u5f84\u4e0b\u7684\u7c7b\uff0c\u4f46\u662f\u5404\u4e2a\u4e0d\u540c\u7684 WebApp \u7684\u7c7b\u52a0\u8f7d\u8def\u5f84\u662f\u9694\u79bb\u7684\u3002Jsp \u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\u7c7b\u7684\u8def\u5f84\u4ec5\u662f\u67d0\u4e2a Jsp \u6587\u4ef6\u7f16\u8bd1\u51fa\u6765\u7684 .class \u6587\u4ef6\uff0c\u5982\u679c\u68c0\u6d4b\u5230 Jsp \u6587\u4ef6\u88ab\u4fee\u6539\uff0c\u90a3\u4e48\u5f53\u524d\u7684 Jsp \u7c7b\u52a0\u8f7d\u5668\u5c06\u88ab\u66ff\u6362\u4e3a\u4e00\u4e2a\u65b0\u7684 Jsp \u7c7b\u52a0\u8f7d\u5668\u5b9e\u4f8b\uff0c\u52a0\u8f7d Jsp \u7f16\u8bd1\u540e\u7684\u65b0 .class\uff0c\u5b9e\u73b0 HotSwap\uff08\u70ed\u5207\u6362\uff09\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/","title":"\u4f7f\u7528 buildroot\uff0cqemu \u8c03\u8bd5 linux \u5185\u6838","text":""},{"location":"kernel/debug_kernel_with_buildroot_qemu/#_1","title":"\u51c6\u5907","text":"<ul> <li>buildroot \u6e90\u7801\uff08buildroot \u523b\u610f\u672a\u4ee5\u4e8c\u8fdb\u5236\u7684\u5f62\u5f0f\u53d1\u5e03\uff0c\u8be6\u89c1\uff1afaq-no-binary-packages\uff09</li> <li>linux kernel \u6e90\u7801\uff08\u5efa\u8bae\u4f7f\u7528 linux \u7684\u6700\u65b0\u7684 release \u7248\u672c\uff0c\u4e0d\u8981\u4f7f\u7528 master\uff0c\u535a\u5ba2\u4e2d\u4f7f\u7528 6.5 \u7248\u672c\uff09</li> <li>qemu\uff08\u8fd0\u884c linux kernel \u7684\u865a\u62df\u673a\uff09</li> <li>gdb</li> <li>vs code</li> </ul>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#buildroot-linux","title":"\u914d\u7f6e buildroot \u4e0e linux","text":"<p>buildroot \u9879\u76ee\u7684\u76ee\u6807\u662f\u7b80\u5316 linux \u7cfb\u7edf\u955c\u50cf\u7684\u6784\u5efa\u8fc7\u7a0b\uff0c\u56e0\u6b64 buildroot \u9ed8\u8ba4\u4f7f\u7528 linux \u5b98\u65b9\u4ed3\u5e93\u7684\u4ee3\u7801\u6784\u5efa x86 \u5e73\u53f0\u7684\u76ee\u6807\u955c\u50cf\u3002\u7f16\u8bd1\u65f6\u4e5f\u4e0d\u751f\u6210\u8c03\u8bd5\u9700\u8981\u7684\u4fe1\u606f\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5148\u914d\u7f6e buildroot\uff0c\u5b9e\u73b0\uff1a</p> <ol> <li>\u4f7f\u7528\u9002\u7528\u4e8e\u6784\u5efa qemu \u955c\u50cf\u7684\u914d\u7f6e</li> <li>\u4f7f\u7528\u672c\u5730\u7684 linux \u6e90\u7801</li> <li>\u5728\u7f16\u8bd1\u65f6\u6dfb\u52a0\u7528\u4e8e debug \u7684\u7b26\u53f7\u4fe1\u606f</li> <li>\u76f8\u5173\u7684\u57fa\u7840\u914d\u7f6e</li> </ol>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#qemu","title":"\u4f7f\u7528\u9002\u7528\u4e8e\u6784\u5efa qemu \u955c\u50cf\u7684\u914d\u7f6e","text":"<p>\u5728 buildroot \u7684\u6839\u76ee\u5f55\u4e0b\u4f7f\u7528 <code>make qemu_x86_64_defconfig</code> \u4f7f\u7528 x86_64 \u5e73\u53f0 qemu \u7684\u9ed8\u8ba4\u914d\u7f6e\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#linux","title":"\u4f7f\u7528\u672c\u5730 linux \u6e90\u7801","text":"<p>\u5728 buildroot \u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>local.mk</code> \u6587\u4ef6\uff0c\u6dfb\u52a0\u5185\u5bb9 <code>LINUX_OVERRIDE_SRCDIR=${path_to_your_kernel_source_code}</code>\uff0c\u6307\u5b9a\u6784\u5efa\u4f7f\u7528\u7684\u6e90\u7801\u3002\u5173\u4e8e <code>local.mk</code> \u4ee5\u53ca\u53d8\u91cf <code>LINUX_OVERRIDE_SRCDIR</code> \u7684\u8bf4\u660e\u89c1\uff1aAdvanced usage\u3002</p> <p>buildroot \u6839\u76ee\u5f55\u4e0b\u4f7f\u7528 <code>make menuconfig</code> \u547d\u4ee4\u6253\u5f00 buildroot \u914d\u7f6e\u9762\u677f\uff0c\u5982\u4e0b\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528 <code>make help</code> \u67e5\u770b\u6240\u6709\u9009\u9879\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f <code>make help</code> \u5e76\u4e0d\u662f make \u672c\u8eab\u7684\u529f\u80fd\uff0c\u8fd9\u662f\u4e00\u79cd\u89c4\u7ea6\uff0c\u4f7f\u7528 help \u4f5c\u4e3a\u4e00\u4e2a make \u7684 target\uff0c\u7528\u4e8e\u8bf4\u660e\u5f53\u524d\u9879\u76ee make \u4f7f\u7528\u7684\u5e2e\u52a9\u6587\u6863\u3002</p> <p></p> <p>\u4fee\u6539 Kernel -&gt; Kernel version\uff0c\u81f3\u6e90\u7801\u5f53\u524d\u7684\u7248\u672c\uff0c\u6ce8\u610f\u914d\u7f6e\u754c\u9762\u7684\u5de6\u4e0a\u89d2\uff0c\u53ef\u4ee5\u5728\u6b64\u5904\u770b\u5230\u914d\u7f6e\u754c\u9762\u7684\u5f53\u524d\u201c\u8def\u5f84\u201d\u3002</p> <p></p> <p>\u4fee\u6539 Toolchain -&gt; Custom kernel headers series \u81f3\u6e90\u7801\u76f8\u540c\u7684\u7248\u672c\uff0cbuildroot \u9700\u8981\u63d0\u524d\u786e\u5b9a\u5934\u6587\u4ef6\u7684\u7248\u672c\u4ee5\u6b63\u786e\u7684\u7f16\u8bd1\u6839\u6587\u4ef6\u7cfb\u7edf\u3002</p> <p></p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#_2","title":"\u7f16\u8bd1\u65f6\u6dfb\u52a0\u7b26\u53f7\u4fe1\u606f","text":"<p>\u5728 buildroot \u4f7f\u7528 <code>make linux-menuconfig</code> \u8fdb\u5165\u76ee\u6807 linux \u7684\u914d\u7f6e\u754c\u9762\uff0c\u8fdb\u5165 Kernel hacking\uff08\u540d\u526f\u5176\u5b9e\ud83d\ude00\uff09\uff0c\u5f00\u542f debug \u914d\u7f6e\u3002</p> <p></p> <p>\u9009\u62e9\u6b63\u786e\u7684\u8c03\u8bd5\u4fe1\u606f\uff08\u9ed8\u8ba4\u65e0\u8c03\u8bd5\u4fe1\u606f\uff0c\u9009\u62e9\u9ed8\u8ba4 DWARF \u7248\u672c\u7684\u8c03\u8bd5\u4fe1\u606f\u5373\u53ef\uff09</p> <p></p> <p>\u6682\u505c\u6d4f\u89c8 Kernel hacking \u4e2d\u7684\u914d\u7f6e\uff0c\u4f1a\u53d1\u73b0\u8be5\u914d\u7f6e\u754c\u9762\u4e2d\u5305\u542b\u4e86\u4f17\u591a\u914d\u7f6e\u9009\u9879\uff0c\u5305\u542b\u7f51\u7edc\uff0c\u9a71\u52a8\uff0c\u5185\u5b58\u7b49\u7b49\u3002\u5f53\u524d\u6211\u4eec\u6253\u5f00\u6700\u57fa\u7840\u7684 debug \u5f00\u5173\u5373\u53ef\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#_3","title":"\u7f16\u8bd1\u5185\u6838\u53ca\u6839\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u5728 buildroot \u6839\u8def\u5f84\u4e0b\u4f7f\u7528 <code>make</code> \u6267\u884c\u7f16\u8bd1\u3002</p> <p>\u7f16\u8bd1\u7ed3\u675f\u4e4b\u540e\uff1a</p> <p>\u5728 <code>./output/images</code> \u4e2d\u5305\u542b kernel \u548c rootfs \u7684\u955c\u50cf\uff0c\u4ee5\u53ca qemu \u7684\u542f\u52a8\u811a\u672c\uff1b</p> <p>\u56fe\u4e2d\u5305\u542b\u4e86\u989d\u5916\u7684 rootfs.ext4 \u662f\u6211\u4e2a\u4eba\u914d\u7f6e\u65f6\u9009\u62e9\u4e86 ext4 \u6587\u4ef6\u7cfb\u7edf\uff0c\u4ec5\u8c03\u8bd5\u4e0d\u9700\u8981\u505a\u8fd9\u4e00\u6b65\u914d\u7f6e\uff0c\u6d41\u7a0b\u4e00\u81f4\u3002</p> <p></p> <p>\u5728 <code>./output/build/linux-custom</code> \u4e2d\u5305\u542b\u4e00\u4e2a <code>vmlinux</code> \u6587\u4ef6\uff0c\u8fd9\u662f\u672a\u538b\u7f29\u7684\u539f\u59cb\u5185\u6838\u955c\u50cf\u3002\u4f7f\u7528 <code>objdump --debugging ./vmlinux</code> \u547d\u4ee4\u9a8c\u8bc1\u5176\u4e2d\u5305\u542b gdb \u6240\u9700\u7684 debug \u7b26\u53f7\u4fe1\u606f\uff08\u5b58\u5728\u5927\u91cf\u8f93\u51fa\u5373\u53ef\uff09\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#qemu-gdb","title":"\u901a\u8fc7 qemu \u8fd0\u884c\u5185\u6838\uff0c\u5e76\u505a gdb \u7684\u521d\u6b65\u9a8c\u8bc1","text":""},{"location":"kernel/debug_kernel_with_buildroot_qemu/#start-qemush","title":"\u4fee\u6539 start-qemu.sh \u542f\u52a8\u811a\u672c","text":"<p>\u5728 qemu \u7684\u542f\u52a8\u547d\u4ee4\u4e2d\u52a0\u5165 <code>-s</code> <code>-S</code> \u4e24\u4e2a\u9009\u9879\uff1b\u5728 <code>-append</code> \u9009\u9879\u7684\u914d\u7f6e\u4e2d\u52a0\u5165 <code>nokaslr</code>\uff0c\u4f7f qemu \u4ee5\u8c03\u8bd5\u7684\u65b9\u5f0f\u8fd0\u884c kernel\u3002qemu \u4f1a\u81ea\u52a8\u7684\u542f\u52a8 gdb server\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#qemu-kernel","title":"\u542f\u52a8 qemu \u865a\u62df\u673a kernel","text":"<p>\u8fdb\u5165 <code>./output/build/linux-custom</code> \u8def\u5f84\uff0c\u6267\u884c <code>./start-qemu.sh</code>\u3002\u5c06\u51fa\u73b0 </p> <pre><code>VNC server running on 127.0.0.1:5900\n</code></pre> <p>\u4ee3\u8868\u865a\u62df\u673a\u542f\u52a8\u6210\u529f\uff0c\u5e76\u4e14\u7531\u4e8e\u5904\u4e8e\u8c03\u8bd5\u6a21\u5f0f\uff0c\u6682\u505c\u6267\u884c\uff0c\u5982\u679c\u5728\u4e4b\u540e\u7684 gdb \u4e2d\u9009\u62e9\u7ee7\u7eed\u6267\u884c\uff0c\u5c06\u53ef\u4ee5\u770b\u5230\u767b\u9646\u63d0\u793a\uff08\u5982\u4e0b\uff09\u3002</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u719f\u6089 gdb \u7684\u5f00\u53d1\u8005\u4e0d\u6613\u51c6\u786e\u7684\u5224\u65ad\u8c03\u8bd5\u547d\u4ee4\u5bf9\u6267\u884c\u8fc7\u7a0b\u7684\u5f71\u54cd\uff0c\u5982\u679c\u8c03\u8bd5\u51fa\u73b0\u95ee\u9898\u8bf7\u56de\u5230\u7ad9 qemu \u7a97\u53e3\u67e5\u770b\u865a\u62df\u673a\u72b6\u6001\uff0c\u9002\u65f6\u91cd\u542f\uff0c\u91cd\u65b0\u5f00\u59cb\u8c03\u8bd5\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#gdb","title":"\u547d\u4ee4\u884c\u542f\u52a8 gdb","text":"<ol> <li> <p>\u8fdb\u5165 <code>./output/build/linux-custom</code> \u8def\u5f84\uff08\u4efb\u4f55\u8def\u5f84\u5747\u53ef\uff0c\u8be5\u8def\u5f84\u66f4\u65b9\u4fbf\u540e\u7eed\u64cd\u4f5c\uff09\uff1b</p> </li> <li> <p>\u6267\u884c <code>gdb ./vmlinux</code> \u8fdb\u5165 gdb</p> </li> <li> <p>\u5c06\u5f97\u5230\u4e00\u4e2a\u8b66\u544a\uff1a</p> </li> </ol> <pre><code>warning: File \"/.../buildroot/output/build/linux-custom/scripts/gdb/vmlinux-gdb.py\" auto-loading has been declined by your `auto-load safe-path' set to \"$debugdir:$datadir/auto-load\".\n</code></pre> <ol> <li> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u4e00\u6b65\u4e2d\u7684\u8b66\u544a\uff0c\u6211\u4eec\u5728 <code>./output/build/linux-custom</code> \u4e0b\u6dfb\u52a0 <code>.gdbinit</code> \u6587\u4ef6\uff0c\u52a0\u5165\u4ee5\u4e0b\u5185\u5bb9 <code>add-auto-load-safe-path .</code>\u3002    \u4e4b\u540e\u518d\u6b21\u6267\u884c\u524d 3 \u6b65\uff0c\u8fd9\u4e2a\u8b66\u544a\u4e0d\u518d\u51fa\u73b0\u3002</p> </li> <li> <p>\u6267\u884c target remote localhost:1234 \u8fde\u63a5 qemu \u4e2d\u7684 gdb server</p> </li> <li> <p>\u4f7f\u7528 <code>l</code> \u67e5\u770b\u5f53\u524d\u6267\u884c\u7684\u4ee3\u7801\u884c\uff0c\u5c06\u770b\u5230\u4ee5\u4e0b\u7ed3\u679c        \u539f\u56e0\u5728\u4e8e\u5f53\u524d\u6267\u884c\u7684\u4ee3\u7801\u5c5e\u4e8e bootloader \u7684\u8303\u7574\uff0c\u4e5f\u5c31\u662f\u8fd8\u6ca1\u6709\u6267\u884c\u5230 kernel \u4e2d\u7684\u4ee3\u7801\u3002</p> </li> <li> <p>\u6dfb\u52a0\u65ad\u70b9 <code>b start_kernel</code>\uff0c\u662f\u865a\u62df\u673a\u5728\u542f\u52a8 kernel \u65f6\u505c\u6b62\uff0c\u7ed3\u679c\u5982\u4e0b    </p> </li> <li> <p>\u4f7f\u7528 <code>continue</code> \u6267\u884c\u5230\u65ad\u70b9\uff0c\u7136\u540e\u4f7f\u7528 <code>l</code> \u67e5\u770b\u5f53\u524d\u4f4d\u7f6e\u7684\u4ee3\u7801\uff0c\u7ed3\u679c\u5982\u4e0b    </p> </li> <li> <p>\u67e5\u770b\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u53d8\u91cf <code>init_task</code> \uff08iscsi_task \u7ed3\u6784\u4f53\u7684\u4e00\u4e2a\u5f15\u7528\uff09\u7684\u503c\uff0c</p> </li> </ol> <pre><code>struct iscsi_task {\n /*\n  * Because LLDs allocate their hdr differently, this is a pointer\n  * and length to that storage. It must be setup at session\n  * creation time.\n  */\n struct iscsi_hdr    *hdr;\n unsigned short      hdr_max;\n unsigned short      hdr_len;    /* accumulated size of hdr used */\n /* copied values in case we need to send tmfs */\n itt_t           hdr_itt;\n __be32          cmdsn;\n struct scsi_lun     lun;\n\n int         itt;        /* this ITT */\n\n unsigned        imm_count;  /* imm-data (bytes)   */\n /* offset in unsolicited stream (bytes); */\n struct iscsi_r2t_info   unsol_r2t;\n char            *data;      /* mgmt payload */\n unsigned        data_count;\n struct scsi_cmnd    *sc;        /* associated SCSI cmd*/\n struct iscsi_conn   *conn;      /* used connection    */\n\n /* data processing tracking */\n unsigned long       last_xfer;\n unsigned long       last_timeout;\n bool            have_checked_conn;\n\n /* T10 protection information */\n bool            protected;\n\n /* state set/tested under session-&gt;lock */\n int         state;\n refcount_t      refcount;\n struct list_head    running;    /* running cmd list */\n void            *dd_data;   /* driver/transport data */\n};\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b    </p> <p>\u5230\u6b64\u4e3a\u6b62\uff0clinux kernel \u7684\u8c03\u8bd5\u5df2\u7ecf\u505a\u5230\u4e86\uff0c\u53ef\u4ee5\u6267\u884c\u4e00\u4e0b\u5176\u4ed6\u7684 gdb \u8c03\u8bd5\u547d\u4ee4\uff0c\u6bd4\u5982\u4e0b\u4e00\u6b65\uff0c\u6dfb\u52a0\u65ad\u70b9\uff0c\u6267\u884c\u5230\u65ad\u70b9\uff0c\u67e5\u770b\u5185\u5b58\u4fe1\u606f\u7b49\u3002</p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#vscode","title":"vscode \u8f85\u52a9\u8c03\u8bd5","text":""},{"location":"kernel/debug_kernel_with_buildroot_qemu/#vscode_1","title":"\u914d\u7f6e vscode \u53ca\u63d2\u4ef6","text":"<ul> <li> <p>\u5b89\u88c5\u63d2\u4ef6 Native Debug</p> </li> <li> <p>\u6253\u5f00 linux \u6e90\u7801\uff0c\u6ce8\u610f\u7248\u672c\uff0c\u5728\u9879\u76ee\u8def\u5f84\u4e0b\u6dfb\u52a0 <code>./vscode/launch.json</code> \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a   <pre><code>{\n    \"version\": \"0.2.0\",\n    \"configurations\": [\n        {\n            \"type\": \"gdb\",\n            \"request\": \"attach\",\n            \"name\": \"Attach to QEMU Kernel\",\n            \"executable\": \"/home/kicey/projects/open-source/buildroot/output/build/linux-custom/vmlinux\",\n            \"target\": \"localhost:1234\",\n            \"remote\": true,\n            \"cwd\": \"${workspaceRoot}\",\n            \"gdbpath\": \"/usr/bin/gdb\",\n        }\n    ],\n    \"postRemoteConnectCommands\": [\n        {\n            \"text\": \"source ${workspaceFolder}/.gdbinit\"\n        }\n    ],\n}\n</code></pre></p> </li> </ul> <p>\u6ce8\u610f\u4fee\u6539 <code>executable</code> \u9879\u5230\u76f4\u63a5\u4f7f\u7528 gdb \u8c03\u8bd5\u65f6\u7684 vmlinux\u3002</p> <ul> <li> <p>\u5728 linux \u9879\u76ee\u7684\u8def\u5f84\u4e0b\u6dfb\u52a0\u6587\u4ef6 <code>.gdbinit</code>\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a   <pre><code>add-auto-load-safe-path /\n</code></pre></p> </li> <li> <p>\u5148\u5728 <code>start_kernel</code> \u51fd\u6570\u5904\u8bbe\u7f6e\u65ad\u70b9\uff0c\u518d\u5982\u624b\u52a8\u8c03\u8bd5\u65f6\u4e00\u6837\u901a\u8fc7\u811a\u672c\u542f\u52a8 qemu kernel \u865a\u62df\u673a      \u6700\u540e\u8fde\u63a5\u8c03\u8bd5\uff08\u70b9\u5de6\u4e0a\u89d2\u7684\u7eff\u8272\u7bad\u5934\uff09</p> </li> </ul> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u65ad\u70b9\u751f\u6548\uff0c\u53d8\u91cf\u67e5\u770b\u751f\u6548   </p>"},{"location":"kernel/debug_kernel_with_buildroot_qemu/#_4","title":"\u7ed3\u8bed","text":"<p>linux \u5185\u5bb9\u7684\u8c03\u8bd5\u914d\u7f6e\u96be\u5ea6\u603b\u4f53\u8fd8\u7b97\u6b63\u5e38\uff0c\u7279\u522b\u662f\u4f7f\u7528 buildroot \u8f85\u52a9\u7684\u60c5\u51b5\u4e0b\u3002</p> <p>\u5728\u53ef\u4ee5\u8fdb\u884c\u5185\u5bb9\u8c03\u8bd5\u4e4b\u540e\uff0c\u8bb8\u591a\u5e73\u5e38\u53ea\u80fd\u67e5\u9605\u522b\u4eba\u63cf\u8ff0\u7684\u7cfb\u7edf\u529f\u80fd\u6216\u884c\u4e3a\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u627e\u5230\u5bf9\u5e94\u7684\u5904\u7406\u4ee3\u7801\uff0c\u7136\u540e\u8c03\u8bd5\u9a8c\u8bc1\u4e86\uff1b\u4ece\u53e3\u8bf4\u65e0\u51ed\u5230\u4ee3\u7801\u5c31\u662f\u8fd9\u4e48\u8dd1\u7684\uff01\u4e86\uff08\ud83d\ude00\uff09\u3002\u5b66\u4e60 linux \u65f6\u66f4\u52a0\u7684\u6709\u7684\u653e\u77e2\uff0c\u811a\u8e0f\u5b9e\u5730\u3002</p> <p>\u5728\u9047\u5230\u4e00\u4e9b\u5947\u602a\u7684\u95ee\u9898\u65f6\uff08\u4f8b\u5982\u5404\u4e2a\u53d1\u884c\u7248\u7684\u9a71\u52a8\u9002\u914d\uff0c\u7b11\uff09\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u81ea\u5df1\u89e3\u51b3\u3002</p> <p>\u611f\u8c22\u9605\u8bfb\uff0c\u5982\u6709\u95ee\u9898\uff0c\u8fd8\u8bf7\u4e0d\u541d\u8d50\u6559\u3002</p>"},{"location":"linux/linux_swap/","title":"linux swap \u7a7a\u95f4","text":""},{"location":"linux/linux_swap/#_1","title":"\u865a\u62df\u5185\u5b58","text":"<p>\u865a\u62df\u5185\u5b58\u7684\u51fa\u73b0\u7684\u4e00\u90e8\u5206\u539f\u56e0\u662f\u89e3\u51b3\u5185\u5b58\u4e0d\u8db3\u95ee\u9898\uff0c\u4f7f\u7528\u78c1\u76d8\u4e0a\u7684\u4e00\u90e8\u5206\u548c\u771f\u6b63\u7684\u5185\u5b58\u4e00\u8d77\u7f16\u5740\u7ec4\u6210\u64cd\u4f5c\u7cfb\u7edf\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u4f9d\u636e\u7a0b\u5e8f\u7684\u5c40\u90e8\u6027\uff08\u65f6/\u7a7a\uff09\uff0c\u4f7f\u7528\u4ea4\u4e92\u7b97\u6cd5\u5c06\u76ee\u524d\u9700\u8981\u4f7f\u7528\u7684\u5185\u5bb9\u6362\u5165\u771f\u6b63\u7684\u5185\u5b58\u4e2d\uff0c\u800c\u6682\u65f6\u7528\u4e0d\u5230\u7684\u5185\u5b58\u653e\u5165\u786c\u76d8\u4e2d\u3002</p> <p>\u8fd9\u4e2a\u7279\u70b9\u521a\u597d\u9002\u7528\u4e0e\u76ee\u524d\u4e91\u670d\u52a1\u5668\u7684\u573a\u666f\uff0c\u6211\u81ea\u5df1\u4f7f\u7528\u4e91\u670d\u52a1\u5668\u7684\u5927\u90e8\u5206\u573a\u666f\u90fd\u662f\u7b97\u529b\u5145\u8db3\u800c\u5185\u5b58\u4e0d\u8db3\uff08\u4e00\u53f0\u4e91\u670d\u52a1\u5668\u4e0a\u6302\u8f7d\u7684\u670d\u52a1\u592a\u591a\u2026\u2026\uff09\u3002</p>"},{"location":"linux/linux_swap/#swap","title":"\u521b\u5efa swap \u7a7a\u95f4","text":"<p>swap \u7a7a\u95f4\u4e00\u822c\u518d\u5b89\u88c5\u7cfb\u7edf\u7684\u65f6\u5019\u4ee5\u5206\u533a\u7684\u5f62\u5f0f\u521b\u5efa\uff0c\u539f\u56e0\u5728\u4e8e swap \u6700\u597d\u4f7f\u7528\u8fde\u7eed\u7684\u4e00\u7247\u78c1\u76d8\u7a7a\u95f4\u3002\u4ee5\u5206\u533a\u7684\u5f62\u5f0f\u521b\u5efa\u8fde\u7eed\u7684\u78c1\u76d8\u7a7a\u95f4\u907f\u514d\u5269\u4f59\u7684\u78c1\u76d8\u7a7a\u95f4\u788e\u7247\u5316\u3002</p> <p>swap \u540c\u65f6\u4e5f\u652f\u6301\u6587\u4ef6\u5f62\u5f0f\u7684\u8fde\u7eed\u78c1\u76d8\u7a7a\u95f4\uff08\u53c8\u4e0d\u662f\u4e0d\u80fd\u7528\uff09\u3002</p> <p>\u4f7f\u7528\u547d\u4ee4\u5982\u4e0b\uff1a</p> <p>\u547d\u4ee4\u9700\u8981 sudo</p> <pre><code># \u521b\u5efa\u4e00\u4e2a\u4f5c\u4e3a\u4ea4\u6362\u7a7a\u95f4\u7684\u6587\u4ef6\ndd if=/dev/zero of=/root/swapfile bs=1M count=4096\n</code></pre> <ul> <li>dd\uff1adisk dump \u78c1\u76d8\u62f7\u8d1d\u547d\u4ee4</li> <li>if / of\uff1ainput file \u8f93\u5165\u6587\u4ef6 / output file \u8f93\u51fa\u6587\u4ef6</li> <li>/dev/zero\uff1a/dev/xx \u662f linux \u4e2d\u7684\u4e00\u4e2a\u7279\u6b8a\u7684\u865a\u62df\u7684\u201c\u6587\u4ef6\u201d\uff0c\u5168\u4e3a 0</li> <li>bs\uff1ablock size \u5757\u7684\u5927\u5c0f</li> <li>count\uff1a\u5757\u7684\u6570\u91cf</li> </ul> <pre><code># \u4ee5 swap \u683c\u5f0f\u5316\u6587\u4ef6\nmkswap /root/swapfile\n# \u542f\u7528\u6587\u4ef6\u5f62\u5f0f\u7684 swap \u5206\u533a\nswapon /root/swapfile\n# \u5f00\u673a\u542f\u7528\necho \"/swapfile none swap sw 0 0\" &gt;&gt; /etc/fstab\n</code></pre>"},{"location":"linux/linux_swap/#swap_1","title":"\u589e\u52a0 swap \u5206\u533a","text":"<p>\u589e\u52a0 swap \u5206\u533a\u9700\u8981\u5148\u5173\u95ed\u5bf9\u5e94\u7684 swap \u5206\u533a\u3002\u8fd9\u6837\u53ef\u80fd\u9020\u6210\u7684\u95ee\u9898\u662f\uff0c\u771f\u6b63\u7684\u5185\u5b58\u4e2d\u6ca1\u6709\u529e\u6cd5\u5b58\u653e\u76ee\u524d\u6240\u6709\u7684\u865a\u62df\u5185\u5b58\u4e2d\u7684\u5185\u5bb9\uff0c\u5c31\u4f1a\u6b7b\u673a\u2026\u2026\uff0c\u6240\u4ee5\u5efa\u8bae\u5148\u521b\u5efa\u65b0\u7684 swap \u6587\u4ef6\uff08linux \u652f\u6301\u540c\u65f6\u4f7f\u7528\u591a\u4e2a swap \u6587\u4ef6\uff09\uff0c\u5728\u5173\u95ed\u5220\u9664\u539f\u6709\u7684 swap \u6587\u4ef6\u3002</p>"},{"location":"linux/linux_swap/#swap_2","title":"\u521b\u5efa\u65b0\u7684 swap \u5206\u533a","text":"<p>\u65b9\u5f0f\u548c\u4e0a\u9762\u7b2c\u4e00\u6b21\u521b\u5efa\u7684\u65f6\u5019\u4e00\u6837\u3002</p>"},{"location":"linux/linux_swap/#swap_3","title":"\u7981\u7528\u539f\u6709\u7684 swap \u5206\u533a","text":"<pre><code>swapoff /root/swapfile\n</code></pre> <p>\u7136\u540e\u518d\u5220\u9664 swap \u6587\u4ef6</p> <pre><code>rm /root/swapfile\n</code></pre>"},{"location":"misc/call_of_silence/","title":"Call of silence","text":"<p>Call of Silence \u5409\u4ed6\u4e50\u8c31\uff08gt2312\uff0c\u7b80\u5316\u7248\u672c\uff09  </p>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/","title":"Mysql \u4e00\u81f4\u6027","text":""},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_1","title":"\u6570\u636e\u5e93\u4e8b\u52a1\u7279\u6027","text":"<p>\u76f4\u63a5\u6446\u51fa ACID \u6765\u6ca1\u6709\u4efb\u4f55\u4ef7\u503c\u3002</p> <p>\u6570\u636e\u5e93\u4e8b\u52a1\u7684\u4e00\u81f4\u6027\uff1a\u6570\u636e\u5e93\u5728\u4e00\u4e2a\u4e8b\u52a1\u88ab\u5b8c\u6210\u540e\uff0c\u5c06\u4ece\u4e00\u4e2a\u6b63\u786e\u7684\u72b6\u6001\uff0c\u8f6c\u5230\u53e6\u4e00\u4e2a\u6b63\u786e\u7684\u72b6\u6001\u3002\u8fd9\u662f\u4e8b\u52a1\u7684\u6839\u672c\u76ee\u6807\u3002\u800c\u5176\u4ed6\u4e09\u4e2a\u7279\u6027\u662f\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u76ee\u6807\uff0c\u662f\u5bf9\u4e8b\u52a1\u8fdb\u884c\u4e86\u7ea6\u675f\u3002</p> <ul> <li>\u6301\u4e45\u6027\uff1a\u63d0\u4ea4\u7684\u4e8b\u52a1\u5bf9\u6570\u636e\u5e93\u4ea7\u751f\u7684\u5f71\u54cd\u662f\u6c38\u4e45\u7684\uff0c\u4e0d\u5b58\u5728\u88ab\u201c\u64a4\u9500\u201d\uff08\u5728\u63d0\u4ea4\u524d\u53ef\u4ee5\u56de\u6eda\uff09\u7684\u60c5\u51b5\u3002</li> <li>\u539f\u5b50\u6027\uff1a\u4e00\u4e2a\u4e8b\u52a1\u4e2d\u53ef\u80fd\u5305\u542b\u6709\u591a\u4e2a\u64cd\u4f5c\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u8981\u4e48\u4e00\u8d77\u5b8c\u6210\uff0c\u8981\u4e48\u90fd\u88ab\u64a4\u9500\uff0c\u4e8b\u52a1\u7684\u63d0\u4ea4\u5fc5\u987b\u662f\u4e00\u7ec4\u5b8c\u6574\u7684\u64cd\u4f5c\u3002</li> <li>\u9694\u79bb\u6027\uff1a\u5728\u4e00\u4e2a\u4e8b\u52a1\u63d0\u4ea4\u524d\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\u4e8b\u52a1\u8bfb\u53d6\u7684\u5185\u5bb9\u3002</li> </ul> <p>\u6301\u4e45\u6027\uff0c\u548c\u539f\u5b50\u6027\u5373\u4f7f\u5728\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u4e25\u683c\u7684\u6ee1\u8db3\uff0c\u4f46\u662f\u9694\u79bb\u6027\u53ea\u4f1a\u5728\u4e8b\u52a1\u4e32\u884c\u6267\u884c\u65f6\u80fd\u5f97\u5230\u4e25\u683c\u7684\u6ee1\u8db3\u3002</p> <p>\u5e76\u53d1\u7684\u5f15\u8d77\u7684\u95ee\u9898\u7edd\u5927\u90e8\u5206\u90fd\u65f6\u672a\u80fd\u6ee1\u8db3\u9694\u79bb\u6027\u3002</p>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_2","title":"\u5e76\u53d1\u4e00\u81f4\u6027\u95ee\u9898","text":"<ul> <li>\u4e22\u5931\u4fee\u6539\uff1a\u4e24\u4e2a\u4e8b\u52a1\u4fee\u6539\u4e86\u540c\u4e00\u4e2a\u6570\u636e\uff0c\u540e\u4fee\u6539\u7684\u4e8b\u52a1\u8986\u76d6\u4e86\u524d\u9762\u4e8b\u52a1\u7684\u4fee\u6539\u3002</li> <li>\u8bfb\u810f\u6570\u636e\uff1a\u5728\u4e00\u4e2a\u4e8b\u52a1\u5728\u4e8b\u52a1\u4e2d\u9014\u5bf9\u4e00\u4e2a\u6570\u636e\u8fdb\u884c\u4fee\u6539\u540e\uff08\u8fd9\u4e2a\u6570\u636e\u672a\u8fbe\u5230\u6700\u7ec8\u72b6\u6001\uff0c\u53ef\u80fd\u662f\u7531\u4e8e\u4e8b\u52a1\u8ba1\u7b97\u7684\u4e2d\u9014\u53d8\u91cf\uff0c\u6216\u662f\u4e8b\u52a1\u88ab\u64a4\u9500\u7b49\uff09\uff0c\u53e6\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u4e86\u8fd9\u4e2a\u4e34\u65f6\u72b6\u6001\u7684\u6570\u636e\u3002</li> <li>\u4e0d\u53ef\u91cd\u590d\u5ea6\uff1a\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u591a\u6b21\u8bfb\u53d6\u4e00\u4e2a\u6570\u636e\u83b7\u53d6\u5230\u4e0d\u540c\u7684\u503c\uff0c\u8fd9\u4e2a\u503c\u53d8\u5316\u7684\u539f\u56e0\u662f\u7531\u4e8e\u5176\u4ed6\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u7684\u4e34\u65f6\u4fee\u6539\u3002</li> <li>\u5e7b\u5f71\u8bfb\uff1a\u5728\u4e00\u4e2a\u4e8b\u52a1\u4e2d\uff0c\u76f8\u5173\u7684\u6570\u636e\u8bb0\u5f55\u88ab\u5176\u4ed6\u672a\u63d0\u4ea4\u7684\u4e8b\u52a1\u5220\u9664\uff0c\u6dfb\u52a0\uff0c\u6216\u4fee\u6539\uff08\u5c5e\u4e8e\u4e00\u79cd\u4e0d\u53ef\u91cd\u590d\u8bfb\uff09\u3002</li> </ul> <p>\u6ce8\u610f\u4e00\u4e0b\u810f\u8bfb\uff0c\u4e0e\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u4e4b\u95f4\u7684\u533a\u522b\uff1a\u810f\u8bfb\u662f\u6307\u4e8b\u52a1\u8bfb\u53d6\u4e86\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u4e34\u65f6\u4fee\u6539\uff0c\u800c\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u662f\u8bfb\u53d6\u4e86\u5176\u4ed6\u4e8b\u52a1\u5df2\u7ecf\u63d0\u4ea4\u7684\u6570\u636e\u3002</p>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_3","title":"\u9694\u79bb\u7ea7\u522b","text":""},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_4","title":"\u672a\u63d0\u4ea4\u8bfb","text":"<ul> <li>\u4e8b\u52a1\u4e2d\u7684\u4fee\u6539\u5bf9\u5176\u4ed6\u4e8b\u52a1\u53ef\u89c1\uff0c\u5373\u4f7f\u4e8b\u52a1\u672a\u63d0\u4ea4\u3002\uff08\u57fa\u672c\u662f\u6ca1\u6709\u4e8b\u52a1\u9694\u79bb\uff09</li> <li>\u4f7f\u7528\u4e86\u4e00\u7ea7\u5c01\u9501\u534f\u8bae\uff0c\u5b58\u5728\u9884\u9632\u4e22\u5931\u4fee\u6539\u7684\u5199\u9501\u3002</li> </ul>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_5","title":"\u63d0\u4ea4\u8bfb","text":"<ul> <li>\u4e8b\u52a1\u4e2d\u7684\u4fee\u6539\u5bf9\u5176\u4ed6\u4e8b\u52a1\u518d\u63d0\u4ea4\u524d\u4e0d\u53ef\u89c1\u3002</li> <li>\u4f7f\u7528 MVCC \uff08\u5728\u6bcf\u4e2a\u8bed\u53e5\u524d\u521b\u5efa ReadView\uff09</li> </ul>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_6","title":"\u53ef\u91cd\u590d\u8bfb","text":"<ul> <li>\u540c\u4e00\u4e2a\u4e8b\u52a1\u591a\u6b21\u8bfb\u53d6\u540c\u4e00\u4e2a\u8bb0\u5f55\u4e0d\u53d8\u3002</li> <li>\u4f7f\u7528 MVCC\uff08\u5728\u6bcf\u4e2a\u4e8b\u52a1\u5f00\u59cb\u65f6\u521b\u5efa ReadView\uff09</li> </ul>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_7","title":"\u53ef\u4e32\u884c\u5316","text":"<ul> <li>\u4e8b\u52a1\u4e32\u884c\u6267\u884c\u3002</li> <li>\u4f7f\u7528\u4e25\u683c\u7684\u4e24\u7aef\u5c01\u9501\u534f\u8bae\u3002</li> </ul> <p>\u5b9e\u73b0\u4e8b\u52a1\u4e4b\u524d\u7684\u9694\u79bb\uff08\u6216\u8005\u8bf4\u89e3\u51b3\u6570\u636e\u5e93\u4e8b\u52a1\u95f4\u7684\u5e76\u53d1\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u4e8c\u8005\u662f\u7b49\u4ef7\u7684\uff09\u53ef\u4ee5\u4f7f\u7528\u5c01\u9501\u534f\u8bae\uff08\u4e09\u7ea7\u5c01\u9501\u534f\u8bae\u6216\u8005\u4e24\u6bb5\u5c01\u9501\u534f\u8bae\uff09\u6216\u8005 MVCC \u5feb\u7167\u673a\u5236\u3002</p>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_8","title":"\u9501","text":"<p>\u53ef\u67e5\u770b\uff1a\u6570\u636e\u5e93\u9501\u548c\u7d22\u5f15\u6982\u89c8 (kicey.site)</p>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_9","title":"\u5c01\u9501\u534f\u8bae","text":""},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_10","title":"\u4e09\u7ea7\u5c01\u9501\u534f\u8bae","text":"<p>\uff08\u4f9d\u636e\u9501\u83b7\u53d6\u548c\u91ca\u653e\u7684\u65f6\u673a\u5206\u7ea7\uff09</p> <ul> <li>\u4e00\u7ea7\u5c01\u9501\u534f\u8bae\uff1a\u4e8b\u52a1\u4fee\u6539\u6570\u636e\u9700\u8981\u83b7\u53d6\u884c\u5199\u9501\uff0c\u89e3\u51b3\u4e22\u5931\u4fee\u6539</li> <li>\u4e8c\u7ea7\u5c01\u9501\u534f\u8bae\uff1a\u4e8b\u52a1\u5728\u8bfb\u53d6\u6570\u636e\u524d\u9700\u8981\u83b7\u53d6\u884c\u8bfb\u9501\uff0c\u8bfb\u53d6\u4e4b\u540e\u91ca\u653e\uff08\u4e8b\u52a1\u6b64\u65f6\u672a\u7ed3\u675f\uff09\uff0c\u89e3\u51b3\u8bfb\u810f\u6570\u636e</li> <li>\u4e09\u7ea7\u5c01\u9501\u534f\u8bae\uff1a\u5728\u4e8c\u7ea7\u534f\u8bae\u7684\u57fa\u7840\u4e0a\uff0c\u8bfb\u9501\u7684\u91ca\u653e\u63a8\u8fdf\u5230\u4e8b\u52a1\u7ed3\u675f\uff0c\u89e3\u51b3\u4e0d\u53ef\u91cd\u590d\u8bfb</li> </ul>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_11","title":"\u4e24\u6bb5\u5c01\u9501\u534f\u8bae","text":"<p>\u4e8b\u52a1\u5fc5\u987b\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\u5bf9\u6570\u636e\u52a0\u9501\u548c\u89e3\u9501\uff0c\u5e76\u4e14\u5728\u91ca\u653e\u4e00\u4e2a\u9501\u4e4b\u540e\uff0c\u4e8b\u52a1\u4e0d\u80fd\u518d\u83b7\u53d6\uff08\u5305\u62ec\u5176\u4ed6\u7684\uff09\u4efb\u4f55\u9501\u3002</p> <p>\u4e24\u6bb5\u5c01\u9501\u534f\u8bae\u662f\u4e8b\u52a1\u4e32\u884c\u5316\u7684\u5145\u5206\u4e0d\u5fc5\u8981\u6761\u4ef6\uff0c\u53e6\u5916\uff0c\u5b83\u53ef\u80fd\u5bfc\u81f4\u6b7b\u9501\u3002</p> <p>MySQL \u7684 InnoDB \u5b58\u50a8\u5f15\u64ce\u91c7\u7528\u4e24\u6bb5\u9501\u534f\u8bae\uff0c\u4f1a\u6839\u636e\u9694\u79bb\u7ea7\u522b\u5728\u9700\u8981\u7684\u65f6\u5019\u81ea\u52a8\u52a0\u9501\uff0c\u5e76\u4e14\u6240\u6709\u7684\u9501\u90fd\u662f\u5728\u540c\u4e00\u65f6\u523b\u88ab\u91ca\u653e\uff0c\u8fd9\u88ab\u79f0\u4e3a\u9690\u5f0f\u9501\u5b9a\u3002</p> <p>InnoDB \u4e5f\u53ef\u4ee5\u4f7f\u7528\u7279\u5b9a\u7684\u8bed\u53e5\u8fdb\u884c\u663e\u793a\u9501\u5b9a\uff1a</p> <pre><code>SELECT ... LOCK In SHARE MODE;\nSELECT ... FOR UPDATE;\n</code></pre>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#_12","title":"\u4e24\u6bb5\u5c01\u9501\u534f\u8bae\u7684\u591a\u4e2a\u7b49\u7ea7","text":"<ul> <li>2PL\uff082 Phase Locking\uff09\uff1a\u9501\u5206\u4e24\u9636\u6bb5\uff0c\u4e00\u9636\u6bb5\u7533\u8bf7\uff0c\u4e00\u9636\u6bb5\u91ca\u653e</li> <li>S2PL\uff08Strict 2PL\uff09\uff1a\u57282PL\u7684\u57fa\u7840\u4e0a\uff0c\u5199\u9501\u4fdd\u6301\u5230\u4e8b\u52a1\u7ed3\u675f</li> <li>SS2PL\uff08 Strong 2PL\uff09\uff1a\u57282PL\u7684\u57fa\u7840\u4e0a\uff0c\u8bfb\u5199\u9501\u90fd\u4fdd\u6301\u5230\u4e8b\u52a1\u7ed3\u675f</li> </ul>"},{"location":"mysql/mysql%20%E4%B8%80%E8%87%B4%E6%80%A7/#mvvc","title":"\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff08MVVC\uff09","text":"<p>\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\u662f InnoDB \u5f15\u64ce\u5b9e\u73b0\u63d0\u4ea4\u8bfb\u548c\u53ef\u91cd\u590d\u8bfb\u7684\u673a\u5236\u3002</p> <p>\u5bf9\u4e8e\u8bfb\u63d0\u4ea4\u548c\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u7684\u4e8b\u52a1\u6765\u8bf4\uff0c\u5b83\u4eec\u662f\u901a\u8fc7 Read View \u6765\u5b9e\u73b0\u7684\uff0c\u5b83\u4eec\u7684\u533a\u522b\u5728\u4e8e\u521b\u5efa Read View \u7684\u65f6\u673a\u4e0d\u540c\uff0c\u8bfb\u63d0\u4ea4\u9694\u79bb\u7ea7\u522b\u662f\u5728\u6bcf\u4e2a\u8bed\u53e5\u6267\u884c\u524d\u90fd\u4f1a\u91cd\u65b0\u751f\u6210\u4e00\u4e2a Read View\uff0c\u800c\u53ef\u91cd\u590d\u8bfb\u9694\u79bb\u7ea7\u522b\u662f\u542f\u52a8\u4e8b\u52a1\u65f6\u751f\u6210\u4e00\u4e2a Read View\uff0c\u7136\u540e\u6574\u4e2a\u4e8b\u52a1\u671f\u95f4\u90fd\u5728\u7528\u8fd9\u4e2a Read View\u3002</p> <p>\u57fa\u672c\u601d\u8def\u662f\u4e3a\u6570\u636e\u521b\u5efa\u591a\u4e2a\u7248\u672c\uff0c\u5728\u4e8b\u52a1\u4e2d\u8bfb\u53d6\u76f8\u5e94\u7684\u7248\u672c\uff0c\u800c\u975e\u52a0\u9501\u3002\u5728\u4e8b\u52a1\u7684\u4fee\u6539\u64cd\u4f5c\uff08cud\uff09\u4f1a\u4e3a\u8bb0\u5f55\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7248\u672c\u5feb\u7167\u3002\u5728 MVVC \u4e2d\u9664\u4e86\u4e8b\u52a1\u81ea\u8eab\u9020\u6210\u7684\u4fee\u6539\u64cd\u4f5c\uff0c\u4e8b\u52a1\u53ea\u80fd\u8bfb\u53d6\u5176\u4ed6\u5df2\u7ecf\u63d0\u4ea4\u7684\u4e8b\u52a1\u7684\u5feb\u7167\u3002</p> <p>MVCC \u9700\u8981\u5229\u7528 Undo \u65e5\u5fd7\uff0c\u6bcf\u4e2a\u65e5\u5fd7\u5143\u7d20\u901a\u8fc7 ROLL_PTR \u628a\u4e00\u4e2a\u6570\u636e\u8bb0\u5f55\u76f8\u5173\u7684\u6240\u6709\u5feb\u7167\u8fde\u63a5\uff0c\u6307\u5411\u524d\u4e00\u4e2a\u4e8b\u52a1\uff0c\u9664\u6b64\u4e4b\u5916\u8fd8\u6709 TRX_ID \u548c DEL \u8868\u793a\u4e8b\u52a1 id \u548c\u662f\u5426\u5220\u9664\u7684\u6807\u5fd7\uff08delete \u64cd\u4f5c\u4f1a\u5c06\u8fd9\u4e2a\u6807\u5fd7\u7f6e\u4e3a\u771f\uff09\u3002</p> <p>MVVC \u7ef4\u62a4\u4e00\u4e2a ReadView \u7ed3\u6784\uff0c\u4e3b\u8981\u5305\u542b\u5f53\u524d\u4e3a\u63d0\u4ea4\u4e8b\u52a1\u5217\u8868\uff08\u901a\u8fc7\u4e8b\u52a1 id TRX_ID\uff09\uff0c\u4ee5\u53ca\u6700\u5c0f\uff0c\u6700\u5927\u4e8b\u52a1\u3002\u5177\u4f53\u6765\u8bb2\u4e3b\u8981\u6709\u4ee5\u4e0b 4 \u4e2a\u5b57\u6bb5\uff1a</p> <ul> <li>m_ids\uff0c\u672a\u63d0\u4ea4\u4e8b\u52a1\u7684\u5217\u8868</li> <li>min_trx_id\uff0c\u672a\u63d0\u4ea4\u4e8b\u52a1\u4e2d\u7684\u6700\u5c0f\u4e8b\u52a1</li> <li>max_trx_id\uff0c\u521b\u5efa\u4e8b\u52a1\u65f6\u7684\u672a\u63d0\u4ea4\u7684\u6700\u5927\u4e8b\u52a1</li> <li>creator_trx_id\uff0c\u521b\u5efa\u5f53\u524d ReadView \u7684\u4e8b\u52a1</li> </ul> <p></p> <p>\u53e6\u5916\uff0c\u9700\u8981\u77e5\u9053\u6bcf\u4e2a\u8bb0\u5f55\u6709\u4e24\u4e2a\u9690\u85cf\u7684\u5b57\u6bb5\uff08\u4fdd\u5b58\u5728\u805a\u7c07\u7d22\u5f15\u8bb0\u5f55\u4e2d\uff09\uff08trx_id\uff0c\u548c roll_pointer\uff09\uff0c\u5206\u522b\u662f\u6700\u540e\u4e00\u4e2a\u6539\u52a8\u6b64\u8bb0\u5f55\u7684\u4e8b\u52a1\u548c\u4e0a\u4e00\u4e2a\u6539\u52a8\u6b64\u8bb0\u5f55\u7684\u4e8b\u52a1\u3002</p> <p>\u5f53\u4e00\u4e2a\u4e8b\u52a1\u53bb\u8bbf\u95ee\u5176\u4ed6\u8bb0\u5f55\uff08\u4e0d\u662f\u7531\u5f53\u524d\u4e8b\u52a1\u4fee\u6539\u7684\uff09\u65f6\uff0c\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u503c\u5927\u4e8e\u7b49\u4e8e ReadView \u7684 max_trx_id \u503c\uff0c\u8bf4\u660e\u8fd9\u4e2a\u8bb0\u5f55\u662f\u5728\u5f53\u524d\u4e8b\u52a1\u5f00\u59cb\u4e4b\u540e\u4fee\u6539\u7684\uff0c\u8bb0\u5f55\u7684\u5f53\u524d\u503c\u5bf9\u6b64\u4e8b\u52a1\u4e0d\u53ef\u89c1\u3002</p> <p>\u5982\u679c trx_id \u503c\u5c0f\u4e8e ReadView \u7684 min_trx_id \u503c\uff0c\u8bf4\u660e\u8fd9\u4e2a\u8bb0\u5f55\u662f\u5728\u5f53\u524d\u4e8b\u52a1\u5f00\u59cb\u4e4b\u524d\u4fee\u6539\u7684\uff0c\u90a3\u4e48\u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1\u3002</p> <p>\u5982\u679c\u5728 min_trx_id \u548c max_trx_id \u4e4b\u95f4\uff0c\u90a3\u4e48\u5982\u679c\u5728 m_ids \u4e2d\uff0c\u8bf4\u660e\u8fd9\u4e24\u4e2a\u4e8b\u52a1\u662f\u5e76\u53d1\u7684\uff0c\u4e92\u76f8\u4e0d\u53ef\u89c1\uff0c\u4e0d\u80fd\u4f7f\u7528\u8bb0\u5f55\u7684\u5f53\u524d\u503c\u3002</p> <ul> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u5728 <code>m_ids</code> \u5217\u8868\u4e2d\uff0c\u8868\u793a\u751f\u6210\u8be5\u7248\u672c\u8bb0\u5f55\u7684\u6d3b\u8dc3\u4e8b\u52a1\u4f9d\u7136\u6d3b\u8dc3\u7740\uff08\u8fd8\u6ca1\u63d0\u4ea4\u4e8b\u52a1\uff09\uff0c\u6240\u4ee5\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1\u4e0d\u53ef\u89c1\u3002</li> <li>\u5982\u679c\u8bb0\u5f55\u7684 trx_id \u4e0d\u5728 <code>m_ids</code>\u5217\u8868\u4e2d\uff0c\u8868\u793a\u751f\u6210\u8be5\u7248\u672c\u8bb0\u5f55\u7684\u6d3b\u8dc3\u4e8b\u52a1\u5df2\u7ecf\u88ab\u63d0\u4ea4\uff0c\u6240\u4ee5\u8be5\u7248\u672c\u7684\u8bb0\u5f55\u5bf9\u5f53\u524d\u4e8b\u52a1\u53ef\u89c1\u3002   \uff08\u8fd9\u91cc\u503c\u5f97\u6ce8\u610f\u7684\u662f min_trx_id \u4e4b\u540e\u7684\u4e8b\u52a1\u4e5f\u53ef\u80fd\u5df2\u7ecf\u88ab\u63d0\u4ea4\uff0c\u56e0\u4e3a\u4e8b\u52a1\u6267\u884c\u7684\u901f\u5ea6\u4e0d\u540c\uff09</li> </ul> <p>\u4e0d\u53ef\u89c1\u7684\u8bb0\u5f55\u503c\uff0c\u5c06\u6cbf\u7740 Undo \u65e5\u5fd7\u8bfb\u53d6\u4e4b\u524d\u7684\u503c\u3002</p> <p>\u63d0\u4ea4\u8bfb\u548c\u548c\u53ef\u91cd\u590d\u8bfb\u90fd\u662f\u4f7f\u7528 MVVC \u5b9e\u73b0\u7684\uff0c\u533a\u522b\u5728\u4e8e\u63d0\u4ea4\u8bfb\u5728\u6bcf\u6b21\u8bfb\u53d6\u6570\u636e\u65f6\u90fd\u4f1a\u521b\u5efa\u65b0\u7684 ReadView\uff0c\u800c\u53ef\u91cd\u590d\u5ea6\u5728\u4e8b\u52a1\u5f00\u59cb\u65f6\uff08\u672a\u6267\u884c\u4efb\u4f55\u8bed\u53e5\uff09\u751f\u6210 ReadView \u5728\uff0c\u4e8b\u52a1\u4e2d\u7edf\u4e00\u8fd9\u4e00\u4e2a ReadView\u3002</p>"},{"location":"qemu/netwrok/","title":"\u7f51\u7edc","text":""},{"location":"qemu/netwrok/#nat","title":"NAT","text":"<pre><code>graph TD;\n    A[Host Machine] --&gt;|eth0| B[Router]\n    A --&gt;|virbr0| C[Virtual Network with NAT]\n    C --&gt; D[VM1]\n    C --&gt; E[VM2]\n    D --&gt;|NAT| B\n    E --&gt;|NAT| B\n</code></pre>"},{"location":"react/1.%20React%20related%20stack/","title":"React related stack","text":"<ul> <li>Data Model: react-query, Redux</li> <li>Routing library</li> <li>Styling libraries</li> </ul> <p>From the 3 point above, we can see that using react provide us 3 convenient aspects: master data, routing in SPA and pretty component out of box.</p>"},{"location":"react/2.%20Create%20Component/","title":"Create Component","text":"<p>React App is made of components, all the components are managed in the root component.</p> <p>The simplest way to create Root component:</p> <pre><code>ReactDom.createRoot(document.getElementById(\"root\"));\n</code></pre> <p>To create a custom(user defined or dom, document object model) component use the method (note that multiple children component  can passed):</p> <pre><code>function createElement&lt;P extends {}&gt;(\n        type: FunctionComponent&lt;P&gt; | ComponentClass&lt;P&gt; | string,\n        props?: Attributes &amp; P | null,\n        ...children: ReactNode[]\n): ReactElement&lt;P&gt;;\n</code></pre> <p>To define a custom component, if use <code>class</code>, extends the <code>React.Component</code> , <code>implements the</code>and access the props through <code>this.props.property_name</code>.</p>"},{"location":"react/3.%20JSX/","title":"JSX","text":"<p>Instead of create custom components by <code>Root.createElement</code>, we can use JSX to crate react component.</p> <p>There are three parameters needed to create a react component: <code>type</code>, <code>properties</code>, <code>children</code>, they passed to the JSX through the type of the dom element, element properties and the children element:</p> <pre><code>&lt;CustomComponent props = {props}&gt;\n    {shoudHasChild &amp;&amp; &lt;Child childProps = {childProps}&gt;&lt;/Child&gt;}\n&lt;/CustomComponent&gt;\n</code></pre> <p>And, can use some operator like <code>&amp;&amp;</code> whin the <code>{}</code>, just like the JSX component is a variable. So that, the JSX can also create from a stream using <code>map</code>, which generates a list of JSX component.</p> <p>Note, that here is a special prop: <code>key</code> react use that to identify a component, which means that there will only render one component for each different key.</p>"},{"location":"react/4.%20funcion%20style%20component/","title":"Function style component","text":"<p>It's also can crate react component using function, like:</p> <pre><code>function CustomComponent({propA, propB}) {\n    return (\n        &lt;NativeComponent/&gt;\n    )\n}\n</code></pre> <p>And the function defined component can be used with react hooks like (useState, useMemo and etc).</p>"},{"location":"react/5.%20State/","title":"State","text":"<p>A stateful component is independent of its content and has the ability to update itself based on internal triggers.</p> <p>In general, any state used in a web application belongs to one of three categories: 1. Application data, 2. UI state, 3. Form data.</p> <p>Call <code>useState</code> in the functional component and supply an initial value. Destructure the response from calling <code>useState</code> as two array elements o The first element is the current value <code>o</code> The second element is a setter function.</p> <pre><code>const [o, setter] = useState(initialValue)\n</code></pre> <p>When you want to update the state, simply call the setter with either a function or a plain value.</p> <pre><code>setter((originValue) -&gt; updateoValue)\n</code></pre> <p>As <code>useState</code> is a kind of hook, if you use it in a component, the <code>useState</code> must be invoked every time the component render. And if multiple <code>useState</code>, they must be invoked in the same order every time.</p> <p>The state of component can be shared with other component via, e.g. property.</p>"},{"location":"react/6.%20Hook/","title":"Hook","text":"<p>Hooks are named like that, because they are hooks from your component to the \"insides\" of the React machinery.</p> <p>When you use a hook in a component, you must always use that hook. And you must use the exact same hooks in the exact same order every time you render the component.</p> <p>If not, React will throw a error:</p> <pre><code>React Hook \"useState\" is called conditionally. React Hooks must be called in the exact same\norder in every component render. Did you accidentally call a React Hook after an\nearly return?\n</code></pre> <p>So, You need to put all your hooks before any attempt to return anything in the component.</p>"},{"location":"react/7.%20Effect/","title":"Effect","text":"<p>Effects are functions that run inside a component under certain circumstances.</p> <p>An effect in a useEffect hook is triggered when either value in a set of dependencies changes. Furthermore, when an effect in useEffect runs, it can define a cleanup function that should run in one of two cases: before the effect is triggered again or if the component unmounts.</p> <p></p>"},{"location":"redis/simple_dynamic_string/","title":"Simple Dynamic String","text":"<p>redis \u4e2d\u4ee5 sds \uff08simple dynamic string\uff0c\u7b80\u5355\u52a8\u6001\u5b57\u7b26\u4e32\uff09\u6765\u8868\u793a\u5b57\u7b26\u4e32\uff08\u65e2\u662f redis \u4e2d\u4e00\u79cd\u57fa\u7840\u6570\u636e\u7ed3\u6784\uff0c\u4e5f\u662f redis \u5185\u90e8\u7528\u4e8e\u4ee3\u66ff c \u8bed\u8a00\u4e2d char* \u7684\u6570\u636e\u7ed3\u6784\uff09\u3002</p>"},{"location":"redis/simple_dynamic_string/#_1","title":"\u5b9a\u4e49","text":"<pre><code>typedef char *sds;\n\n/* Note: sdshdr5 is never used, we just access the flags byte directly.\n * However is here to document the layout of type 5 SDS strings. */\nstruct __attribute__ ((__packed__)) sdshdr5 {\n    unsigned char flags; /* 3 lsb of type, and 5 msb of string length */\n    char buf[];\n};\nstruct __attribute__ ((__packed__)) sdshdr8 {\n    uint8_t len; /* used */\n    uint8_t alloc; /* excluding the header and null terminator */\n    unsigned char flags; /* 3 lsb of type, 5 unused bits */\n    char buf[];\n};\nstruct __attribute__ ((__packed__)) sdshdr16 {\n    uint16_t len; /* used */\n    uint16_t alloc; /* excluding the header and null terminator */\n    unsigned char flags; /* 3 lsb of type, 5 unused bits */\n    char buf[];\n};\nstruct __attribute__ ((__packed__)) sdshdr32 {\n    uint32_t len; /* used */\n    uint32_t alloc; /* excluding the header and null terminator */\n    unsigned char flags; /* 3 lsb of type, 5 unused bits */\n    char buf[];\n};\nstruct __attribute__ ((__packed__)) sdshdr64 {\n    uint64_t len; /* used */\n    uint64_t alloc; /* excluding the header and null terminator */\n    unsigned char flags; /* 3 lsb of type, 5 unused bits */\n    char buf[];\n};\n</code></pre>"},{"location":"redis/simple_dynamic_string/#_2","title":"\u6269\u5bb9","text":"<p>\u5982\u679c\u4f60\u6709\u7a0d\u5fae\u770b\u8fc7\u4e00\u70b9 java \u4e2d ArrayList \u7684\u5b9e\u73b0\u7684\u8bdd\uff0c\u4e24\u8005\u7684\u5b9e\u73b0\u662f\u7c7b\u4f3c\u7684\u3002\u5728\u9700\u8981\u91cd\u65b0\u5206\u914d\u5185\u5b58\u65f6\uff0c\u5982\u679c\u6240\u9700\u7684\u5185\u5b58\u4e0d\u8d85\u8fc7\u67d0\u4e2a\u9650\u5236\uff0c\u90a3\u4e48\u5206\u914d\u4e24\u500d\u7684\u5185\u5b58\uff0c\u907f\u514d\u9891\u7e41\u5185\u5b58\u5206\u914d\uff0c\u5982\u679c\u8d85\u8fc7\u67d0\u4e2a\u9650\u5236\uff0c\u90a3\u4e48\u53ea\u5206\u914d\u9700\u8981\u7684\u5185\u5b58\u7a7a\u95f4\u3002</p>"},{"location":"redis/simple_dynamic_string/#_3","title":"\u7d27\u51d1\u6392\u5217\uff08\u5185\u5b58\u4e0d\u5bf9\u9f50\uff09","text":"<p>\u5185\u5b58\u5bf9\u9f50\uff1a\u7b80\u5355\u7684\u8bf4\uff0ccpu \u8bfb\u53d6\u5185\u5b58\u5e76\u4e0d\u662f\u4ee5 byte \u4e3a\u5355\u4f4d\u7684\uff0c\u901a\u5e38\u4ee5 64/32 \u4f4d\uff08\u4e5f\u548c cache \u7684\u7f13\u5b58\u884c\u6709\u5173\uff09\uff0c\u5185\u5b58\u5bf9\u9f50\u5c31\u662f\u5c06\u6240\u7528\u7684\u5185\u5b58\u586b\u8865\u4e3a\u8bfb\u53d6\u5185\u5b58\u5355\u4f4d\u7684\u6574\u6570\u500d\uff0c\u4e0b\u56fe\u4e2d\u7684 pad \u90e8\u5206\u3002</p> <p></p> <p>redis \u4e2d\u7684 sds \u6ca1\u6709\u56fe\u4e2d\u7684 pad \u90e8\u5206 8 bit \u7684 flag \u540e\u76f4\u63a5\u662f buf \u6570\u7ec4\u3002worse is better\uff0c\u80fd\u591f\u8f83\u7b80\u5355\u7684\u5b9e\u73b0\u662f\u6700\u91cd\u7528\u7684\u3002\u5982\u679c\u5f15\u5165\u5185\u5b58\u5bf9\u9f50\uff0c\u90a3\u4e48\u9700\u8981\u5728 32/64 \u4f4d\uff0c\u4ee5\u53ca\u4e0d\u540c\u7684\u5355\u4f4d\u5185\u5b58\u957f\u5ea6\u7684 sds \u7ed3\u6784\u505a\u4e0d\u540c\u7684\u8c03\u6574\uff0c\u800c\u4e14\u4e3a\u4e86\u517c\u5bb9 char\uff08sds \u4f7f\u7528\u6307\u9488\u7684\u4e00\u4e9b\u64cd\u4f5c\u517c\u5bb9\u4e86 char \uff09\u6307\u9488\u76f4\u63a5\u6307\u5411\u6570\u636e\u7684\u9996\u4f4d\uff0c\u800c\u4e0d\u5229\u4e8e\u83b7\u53d6\u5f53\u524d\u7684\u72b6\u6001\uff08\u5373\u4e0d\u80fd\u76f4\u63a5\u901a\u8fc7 buf[-1] \u6765\u83b7\u53d6 flag \u5185\u5bb9\uff09\uff0c\u505a\u5185\u5b58\u5bf9\u9f50\u5c06\u4f1a\u5f15\u5165\u8fd9\u4e00\u90e8\u5206\u7684\u5de5\u4f5c\u4f7f\u7ed3\u6784\u53d8\u590d\u6742\u3002</p> <p>\u53c2\u8003\u5185\u5bb9\uff1a</p> <p>\u8981\u61c2redis\uff0c\u9996\u5148\u5f97\u770b\u61c2sds</p> <p>\u7b80\u5355\u52a8\u6001\u5b57\u7b26\u4e32 \u2014 Redis \u8bbe\u8ba1\u4e0e\u5b9e\u73b0</p>"},{"location":"scala-with-cats/1.Introduction/1.Anatomy-of-a-type-class/","title":"1.Anatomy of a type class","text":"<ul> <li> <p>A type class is an interface or API that represents some functionality we want to implement. In Scala a type class is represented by a trait with at least one type parameter.   The trait <code>JsonWriter[A]</code> is a type class, <code>A</code> is the type parameter.</p> </li> <li> <p>The instances of a type class provide implementations of the type class for specific types we care about, which can include types from the Scala standard library and types from our domain model.   The val <code>stringWriter</code> and <code>personWriter</code> are instances of <code>JsonWriter</code>, the specific types are <code>String</code> and <code>Person</code> here. One is from the Scala standard library and the other from the domain model.</p> </li> <li> <p>A type class use is any functionality that requires a type class instance to work. In Scala this means any method that accepts instances of the type class as implicit parameters.</p> </li> </ul> <pre><code>object Json:\n  def toJson[A](value: A)(using w: JsonWriter[A]): Json =\n    w.write(value)\n</code></pre> <p>and</p> <pre><code>object JsonSyntax:\n  implicit class JsonWriterOps[A](value: A) :\n    def toJson(implicit w: JsonWriter[A]): Json =\n      w.write(value)\n</code></pre> <p>are both type class uses.</p>"},{"location":"blog/archive/2025/","title":"2025","text":""}]}